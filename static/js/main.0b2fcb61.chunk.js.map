{"version":3,"sources":["assets/images/coinbaseWalletIcon.svg","assets/images/fortmaticIcon.png","assets/images/portisIcon.png","assets/images/walletConnectIcon.svg","hooks/index.ts","connectors/Fortmatic.ts","constants/abis/erc20.ts","constants/index.ts","assets/images sync /^/.*$","utils/index.ts","assets/images/logo.png","assets/images/logoDark.png","assets/images/ethereum-logo.png","assets/images/metamask.png","connectors/NetworkConnector.ts","connectors/index.ts","hooks/useEnhancedReducer.ts","context/GroupContext.tsx","constants/multicall/index.ts","hooks/useContract.ts","services/groupService.ts","sdk/constants.ts","sdk/errors.ts","sdk/utils.ts","sdk/entities/currency.ts","sdk/entities/token.ts","sdk/entities/fractions/fraction.ts","sdk/entities/fractions/currencyAmount.ts","sdk/entities/fractions/tokenAmount.ts","sdk/entities/fractions/price.ts","sdk/entities/pair.ts","sdk/entities/route.ts","sdk/entities/fractions/percent.ts","sdk/entities/trade.ts","sdk/fetcher.ts","assets/images/arrow-down-blue.svg","assets/images/arrow-down-grey.svg","assets/images/arrow-right-white.png","assets/images/arrow-right.svg","assets/images/circle-grey.svg","assets/images/circle.svg","assets/images/dropdown-blue.svg","assets/images/dropdown.svg","assets/images/dropup-blue.svg","assets/images/link.svg","assets/images/magnifying-glass.svg","assets/images/menu.svg","state/transactions/hooks.tsx","assets/images/plus-blue.svg","assets/images/plus-grey.svg","assets/images/question-mark.svg","assets/images/question.svg","assets/images/spinner.svg","assets/images/token-list/lists-dark.png","assets/images/token-list/lists-light.png","assets/images/trustWallet.png","assets/images/x.svg","i18n.ts","components/analytics/GoogleAnalyticsReporter.tsx","components/Row/index.tsx","components/Popover/index.tsx","hooks/useInterval.ts","components/Tooltip/index.tsx","components/QuestionHelper/index.tsx","hooks/useToggle.ts","hooks/useOnClickOutside.tsx","components/NavigationTabs/index.tsx","state/application/actions.ts","state/application/hooks.ts","state/multicall/actions.ts","state/multicall/hooks.ts","hooks/Tokens.ts","state/user/actions.ts","state/user/hooks.tsx","state/wallet/hooks.ts","theme/components.tsx","theme/index.tsx","components/FlexBox/index.tsx","components/Card/index.tsx","components/Column/index.tsx","components/TransactionSettings/index.tsx","components/Toggle/index.tsx","components/Button/index.tsx","components/Modal/index.tsx","components/Settings/index.tsx","webpack:///./src/assets/images/menu.svg?4992","components/Menu/index.tsx","utils/isZero.ts","hooks/useDebounce.ts","hooks/useENSName.ts","hooks/useSocksBalance.ts","components/Identicon/index.tsx","components/Loader/index.tsx","hooks/usePrevious.ts","components/AccountDetails/Copy.tsx","hooks/useCopyClipboard.ts","components/AccountDetails/Transaction.tsx","webpack:///./src/assets/images/x.svg?844a","components/AccountDetails/index.tsx","components/WalletModal/Option.tsx","components/WalletModal/PendingView.tsx","components/WalletModal/index.tsx","components/Web3Status/index.tsx","components/Header/index.tsx","components/HeaderBanner/index.tsx","components/Popups/TransactionPopup.tsx","components/Popups/PopupItem.tsx","components/Popups/index.tsx","components/Web3ReactManager/index.tsx","theme/DarkModeQueryParamReader.tsx","layouts/default.tsx","components/DataPoint/index.tsx","components/StatusBadge/index.tsx","components/FundsInvested/index.tsx","components/GroupsPanel/index.tsx","components/PageSpinner/index.tsx","pages/Home/index.tsx","components/SearchModal/SortButton.tsx","hooks/useENSAddress.ts","hooks/useENS.ts","components/AddressInputPanel/index.tsx","components/TransactionConfirmationModal/index.tsx","state/swap/actions.ts","utils/prices.ts","components/swap/styleds.tsx","components/swap/FormattedPriceImpact.tsx","components/swap/SwapModalFooter.tsx","utils/contenthashToUri.ts","utils/parseENSAddress.ts","utils/uriToHttp.ts","hooks/useHttpLocations.ts","hooks/useENSContentHash.ts","components/Logo/index.tsx","components/CurrencyLogo/index.tsx","components/swap/SwapModalHeader.tsx","components/swap/ConfirmSwapModal.tsx","components/SearchModal/CommonBases.tsx","components/SearchModal/styleds.tsx","components/SearchModal/CurrencyList.tsx","components/SearchModal/sorting.ts","components/SearchModal/CurrencySearch.tsx","components/SearchModal/filtering.ts","components/SearchModal/CurrencySearchModal.tsx","components/DoubleLogo/index.tsx","components/NumericalInput/index.tsx","webpack:///./src/assets/images/dropdown.svg?d0dc","components/CurrencyInputPanel/index.tsx","hooks/useLast.ts","components/swap/SwapRoute.tsx","components/swap/AdvancedSwapDetails.tsx","components/swap/AdvancedSwapDetailsDropdown.tsx","components/swap/TradePrice.tsx","components/TokenWarningModal/index.tsx","hooks/useApproveCallback.ts","data/Allowances.ts","hooks/useSwapCallback.ts","utils/wrappedCurrency.ts","data/Reserves.ts","hooks/Trades.ts","state/swap/hooks.ts","hooks/useParsedQueryString.ts","components/styleds.tsx","components/TokenPanel/index.tsx","pages/GroupSwap/index.tsx","utils/maxAmountSpend.ts","components/swap/confirmPriceImpactWithoutFee.ts","components/Slider/index.tsx","components/Input/index.tsx","components/SliderPanel/index.tsx","components/InputTextPanel/index.tsx","pages/GroupCreate/index.tsx","components/TokensTable/index.tsx","pages/GroupJoin/index.tsx","pages/GroupStart/index.tsx","pages/GroupAbort/index.tsx","pages/GroupAddFunds/index.tsx","pages/GroupFinish/index.tsx","pages/GroupWithdraw/index.tsx","pages/GroupDetails/index.tsx","components/InfoModal/index.tsx","pages/GroupAddManager/index.tsx","pages/GroupRemoveManager/index.tsx","components/PoolStake/index.tsx","services/stakingService.ts","services/tokenService.ts","pages/Staking/index.tsx","pages/Trades/index.tsx","pages/Leaderboard/index.tsx","App.tsx","state/application/reducer.ts","state/global/actions.ts","state/user/reducer.ts","state/mint/actions.ts","state/transactions/reducer.ts","state/swap/reducer.ts","state/burn/actions.ts","state/mint/reducer.ts","state/burn/reducer.ts","state/multicall/reducer.ts","state/index.ts","hooks/useIsWindowVisible.ts","state/application/updater.ts","utils/retry.ts","state/multicall/updater.tsx","utils/chunkArray.ts","state/transactions/updater.tsx","state/user/updater.tsx","utils/getWeb3Provider.ts","index.tsx","state/transactions/actions.ts","assets/images/blue-loader.svg","services/accountService.ts"],"names":["module","exports","useGroupId","parseInt","window","location","hash","match","replace","useActiveWeb3React","context","useWeb3ReactCore","contextNetwork","NetworkContextName","active","useOldWeb3","newWeb3","library","provider","Web3","useEagerConnect","activate","useState","tried","setTried","useEffect","injected","isAuthorized","then","isMobile","ethereum","undefined","catch","useInactiveListener","suppress","error","on","handleChainChanged","console","handleAccountsChanged","accounts","length","removeListener","OVERLAY_READY","CHAIN_ID_NETWORK_ARGUMENT","ChainId","MAINNET","ROPSTEN","RINKEBY","KOVAN","FortmaticConnector","this","fortmatic","Fortmatic","default","apiKey","chainId","Error","getProvider","pollForOverlayReady","Promise","resolve","interval","setInterval","overlayReady","clearInterval","emit","all","enable","account","FortmaticConnectorCore","ERC20_INTERFACE","Interface","ERC20_ABI","ERC20_BYTES32_ABI","ROUTER_ADDRESS","process","DAI","Token","USDC","USDT","COMP","MKR","AMPL","WETH","LOCAL","WETH_ONLY","WethTokens","GÃ–RLI","BASES_TO_CHECK_TRADES_AGAINST","CUSTOM_BASES","address","SUGGESTED_BASES","BASES_TO_TRACK_LIQUIDITY_FOR","PINNED_PAIRS","SUPPORTED_WALLETS","INJECTED","connector","name","iconName","description","href","color","primary","METAMASK","WALLET_CONNECT","walletconnect","mobile","WALLET_LINK","walletlink","COINBASE_LINK","mobileOnly","FORTMATIC","Portis","portis","INITIAL_ALLOWED_SLIPPAGE","DEFAULT_DEADLINE_FROM_NOW","ONE_BIPS","Percent","JSBI","BigInt","BIPS_BASE","ALLOWED_PRICE_IMPACT_LOW","ALLOWED_PRICE_IMPACT_MEDIUM","ALLOWED_PRICE_IMPACT_HIGH","PRICE_IMPACT_WITHOUT_FEE_CONFIRM_MIN","BLOCKED_PRICE_IMPACT_NON_EXPERT","MIN_ETH","exponentiate","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","code","keys","Object","isAddress","value","getAddress","ETHERSCAN_PREFIXES","1","3","4","5","42","1337","getEtherscanLink","data","type","prefix","shortenAddress","chars","parsed","substring","calculateGasMargin","mul","BigNumber","from","add","div","basisPointsToPercent","num","getContract","ABI","AddressZero","Contract","getSigner","connectUnchecked","getProviderOrSigner","escapeRegExp","string","RequestError","message","MiniRpcProvider","url","batchWaitTimeMs","isMetaMask","host","path","nextId","batchTimeoutId","batch","clearBatch","a","debug","fetch","method","headers","accept","body","JSON","stringify","item","request","response","forEach","reject","ok","status","statusText","json","byKey","reduce","memo","current","result","sendAsync","callback","params","jsonrpc","toString","promise","push","setTimeout","URL","pathname","NetworkConnector","urls","defaultChainId","invariant","supportedChainIds","k","Number","providers","currentChainId","accumulator","AbstractConnector","NETWORK_URL","FORMATIC_KEY","REACT_APP_FORTMATIC_KEY","PORTIS_ID","REACT_APP_PORTIS_ID","NETWORK_CHAIN_ID","network","InjectedConnector","WalletConnectConnector","rpc","bridge","qrcode","pollingInterval","PortisConnector","dAppId","networks","WalletLinkConnector","appName","appLogoUrl","useEnhancedReducer","reducer","initState","initializer","middlewares","lastState","useRef","getState","useCallback","enhancedReducer","state","action","useReducer","dispatch","middlewaresRef","enhancedDispatch","useMemo","reduceRight","acc","mdw","ethUtil","require","sigUtil","GroupService","GroupStateContext","createContext","GroupActionsContext","GroupReducer","key","groupForm","index","groups","findIndex","x","newGroups","defaultGroupForm","tokenListId","maxRunTimeHours","startTimeoutHours","leaderProfitShareOutOf10000","leaderiFundCollateral","requiredMemberiFundFee","minEthToStart","maxEthContribution","maxEthAcceptable","withdrawn","isGroupManager","tokens","myContribution","totalContributions","latestTransactionHash","getGroupFromContract","groupContract","groupId","log","group","groupContribution","isLeader","toLowerCase","leader","aborted","complete","groupMemberWithdrawal","authorizedTrader","startTimeout","loadGroups","web3","otherGroups","GroupProvider","children","unistate","tokenContract","useContract","ERC20Abi","UnifundGroupAbi","addTransaction","useTransactionAdder","editGroupForm","updateStatus","getGroup","find","clearForm","onGroupUpdated","eventName","transactionHash","txHash","addOrUpdateGroup","tokenAddresses","tokenAddress","tokenBalance","tokenName","tokenSymbol","symbol","amount","parseFloat","formatEther","toNumber","startGroup","finishGroup","abortGroup","checkGroupAllowance","approveGroup","parseEther","approveJoinGroup","AccountService","addFunds","withdraw","checkAllowance","allowance","gte","addGroupManager","manager","removeGroupManager","getTokenList","reloadGroups","filter","saveData","bodyFormData","FormData","set","axios","res","err","fetchAdditionalInfo","entries","feed","entry","i","gsx$key","$t","gsx$type","verified","gsx$verified","gsx$value","Boolean","parse","additionalInfo","recoverPersonalSignature","sig","signature","updateGroupInfo","text","msg","bufferToHex","Buffer","currentProvider","init","actions","updateGroup","setGroupParams","sanitizedParams","isNaN","startEdit","startApprove","approve","tx","startCreate","create","wait","txReceipt","events","pop","args","errorMessage","Provider","useGroupState","React","useContext","useGroupActions","GroupUpdater","event","includes","MULTICALL_NETWORKS","withSignerIfPossible","useTokenContract","useENSRegistrarContract","ENS_ABI","useENSResolverContract","ENS_PUBLIC_RESOLVER_ABI","useBytes32TokenContract","useMulticallContract","MULTICALL_ABI","useSocksController","UNISOCKS_ABI","useGroupContract","UNIFUND_GROUP_ABI","ZeroAddress","getMyGroups","eth","groupHelperContract","UnifundGroupHelperLibraryAbi","methods","groupCount","call","myGroupIds","memberOfGroupIds","concat","groupIds","nextGroupId","groupIdsByLeaderCount","leaderGroupsCount","leaderOfGroupIds","myGroupIdsSet","Set","myGroups","sort","reverse","getOpenGroups","groupIdsBeingStartedCount","openGroupsCount","openGroups","groupIdsBeingStarted","getRunningGroups","groupIdsRunningCount","runningGroupsCount","runningGroups","groupIdsRunning","getGroups","unifundContract","utils","BN","lt","send","createGroup","maxRuntime","leaderProfitPercentage","memberFee","maxEthContributionGroup","maxEth","startFunding","abort","finish","joinGroup","fee","join","toWei","tokensWithBalances","uniqueTokensWithBalances","withdrawMany","addAuthorizedTrader","trader","removeAuthorizedTrader","isAuthorizedTrader","tokenListTokenCount","tokenListToken","groupBalance","getTokenName","getTokenSymbol","toBN","tokenCount","TradeType","Rounding","SolidityType","MINIMUM_LIQUIDITY","ZERO","ONE","TWO","THREE","FIVE","TEN","_100","_997","_1000","SOLIDITY_TYPE_MAXIMA","uint8","uint256","CAN_SET_PROTOTYPE","InsufficientReservesError","isInsufficientReservesError","constructor","setPrototypeOf","prototype","InsufficientInputAmountError","isInsufficientInputAmountError","validateSolidityTypeInstance","solidityType","greaterThanOrEqual","lessThanOrEqual","validateAndParseAddress","checksummedAddress","warning","parseBigintIsh","bigintIsh","sqrt","y","z","greaterThan","divide","lessThan","notEqual","sortedInsert","items","maxSize","comparator","isFull","lo","hi","mid","splice","Currency","decimals","ETHER","other","currencyEquals","currencyA","currencyB","equals","Decimal","toFormat","_Decimal","Big","_Big","toSignificantRounding","ROUND_DOWN","ROUND_HALF_UP","ROUND_UP","toFixedRounding","Fraction","numerator","denominator","otherParsed","equal","multiply","subtract","significantDigits","format","groupSeparator","rounding","isInteger","precision","quotient","toSignificantDigits","decimalPlaces","DP","RM","remainder","CurrencyAmount","currency","parsedAmount","raw","TokenAmount","token","Price","baseCurrency","quoteCurrency","scalar","route","prices","pairs","pair","token0","reserve0","reserve1","slice","currentValue","fraction","currencyAmount","ether","adjusted","toSignificant","toFixed","PAIR_ADDRESS_CACHE","Pair","tokenAmountA","tokenAmountB","liquidityToken","tokenAmounts","sortsBefore","tokenA","tokenB","getCreate2Address","keccak256","pack","token1","involvesToken","token0Price","token1Price","inputAmount","inputReserve","reserveOf","outputReserve","inputAmountWithFee","outputAmount","totalSupply","liquidity","amount0","amount1","totalSupplyAdjusted","feeOn","kLast","kLastParsed","rootK","rootKLast","feeLiquidity","Route","input","output","midPrice","every","currentInput","fromRoute","_100_PERCENT","tradeComparator","b","ioComp","equalTo","inputOutputComparator","priceImpact","wrappedAmount","wrappedCurrency","Trade","tradeType","executionPrice","nextMidPrice","amounts","Array","nextPairs","EXACT_INPUT","getOutputAmount","nextPair","getInputAmount","EXACT_OUTPUT","exactQuote","slippage","computePriceImpact","amountIn","amountOut","slippageTolerance","slippageAdjustedAmountOut","invert","slippageAdjustedAmountIn","currencyAmountIn","currencyOut","maxNumResults","maxHops","currentPairs","originalAmountIn","bestTrades","tokenOut","pairsExcludingThisPair","bestTradeExactIn","currencyIn","currencyAmountOut","originalAmountOut","tokenIn","bestTradeExactOut","useDispatch","summary","approval","useAllTransactions","useSelector","transactions","isTransactionRecent","Date","getTime","addedTime","useHasPendingApproval","spender","allTransactions","some","receipt","i18next","use","XHR","LanguageDetector","initReactI18next","backend","loadPath","react","useSuspense","fallbackLng","en","zh","preload","keySeparator","interpolation","escapeValue","GoogleAnalyticsReporter","search","ReactGA","pageview","Row","styled","Box","align","padding","border","borderRadius","RowBetween","AutoRow","gap","justify","RowFixed","PopoverContainer","props","show","theme","bg1","bg3","transparentize","shadow1","text2","ReferenceElement","Arrow","Popover","content","placement","referenceElement","setReferenceElement","popperElement","setPopperElement","arrowElement","setArrowElement","usePopper","strategy","modifiers","options","offset","element","styles","update","attributes","delay","leading","savedCallback","tick","useInterval","ref","style","popper","className","arrow","TooltipContainer","Tooltip","rest","MouseoverTooltip","setShow","open","close","onMouseEnter","onMouseLeave","QuestionWrapper","bg2","QuestionHelper","marginLeft","onClick","size","useToggle","initialState","setState","toggle","useOnClickOutside","node","handler","handlerRef","handleClickOutside","contains","target","document","addEventListener","removeEventListener","Tabs","flexRowNoWrap","StyledTabs","mediaWidth","upToMedium","StyledBackHeadingWrapper","StyledNavLink","NavLink","attrs","activeClassName","text3","text1","darken","bg4","ActiveText","StyledShareWrapper","StyledShareButtonsWrapper","MenuFlyout","span","StyledShareIcon","Share","StyledBackIcon","ArrowLeft","StyledSpacerDiv","GroupStakingTabs","t","useTranslation","to","isActive","MainHeading","withRouter","history","backPath","title","helperText","showShare","ThemeContext","shareUrl","primary1","goBack","FacebookShareButton","FacebookIcon","RedditShareButton","RedditIcon","TelegramShareButton","TelegramIcon","TwitterShareButton","TwitterIcon","WhatsappShareButton","WhatsappIcon","updateBlockNumber","createAction","toggleWalletModal","toggleSettingsMenu","addPopup","removePopup","useBlockNumber","application","blockNumber","useWalletModalToggle","useToggleSettingsMenu","ADDRESS_REGEX","LOWER_HEX_REGEX","toCallKey","test","callData","parseCallKey","callKey","pcs","split","addMulticallListeners","removeMulticallListeners","fetchingMulticallResults","errorFetchingMulticallResults","updateMulticallResults","isMethodArg","indexOf","isValidMethodArgs","isArray","xi","INVALID_RESULT","valid","NEVER_RELOAD","blocksPerFetch","Infinity","useCallsData","calls","callResults","multicall","serializedCallKeys","c","callKeys","INVALID_CALL_STATE","loading","syncing","LOADING_CALL_STATE","toCallState","callResult","contractInterface","fragment","latestBlockNumber","success","decodeFunctionResult","useSingleContractMultipleData","contract","methodName","callInputs","interface","getFunction","results","inputs","encodeFunctionData","useMultipleContractSingleData","addresses","useSingleCallResult","WrappedTokenInfo","tokenInfo","tags","logoURI","listCache","WeakMap","EMPTY_LIST","useAllTokens","userAddedTokens","useUserAddedTokens","allTokens","setAllTokens","get","list","tokenMap","tagId","listToTokenMap","BYTES32_REGEX","parseStringOrBytes32","str","bytes32","defaultValue","parseBytes32String","useToken","tokenContractBytes32","tokenNameBytes32","symbolBytes32","useCurrency","currencyId","isETH","toUpperCase","updateMatchesDarkMode","updateUserDarkMode","updateUserExpertMode","updateUserSlippageTolerance","updateUserDeadline","addSerializedToken","removeSerializedToken","addSerializedPair","removeSerializedPair","deserializeToken","serializedToken","useIsDarkMode","user","matchesDarkMode","userDarkMode","shallowEqual","useDarkModeManager","darkMode","toggleSetDarkMode","useExpertModeManager","expertMode","userExpertMode","toggleSetExpertMode","useUserSlippageTolerance","userSlippageTolerance","useUserDeadline","userDeadline","serializedTokensMap","values","useETHBalances","uncheckedAddresses","multicallContract","useTokenBalances","validatedTokens","balances","vt","anyLoading","callState","useTokenBalancesWithLoadingIndicator","useGroupTokenBalances","validatedTokenAddresses","useGroupTokenBalancesWithLoadingIndicator","useCurrencyBalances","currencies","tokenBalances","ethBalance","useGroupCurrencyBalances","useCurrencyBalance","useGroupCurrencyBalance","Button","button","backgroundColor","red1","white","text4","CloseIcon","X","LinkStyledButton","disabled","StyledInternalLink","Link","StyledLink","ExternalLink","rel","handleClick","ctrlKey","metaKey","outboundLink","label","preventDefault","rotate","keyframes","Spinner","img","MEDIA_WIDTHS","upToExtraSmall","upToSmall","upToLarge","upToExtraLarge","mediaWidthTemplates","css","ThemeProvider","themeObject","black","text5","bg5","modalBG","advancedBG","primary2","primary3","primary4","primary5","primaryText1","secondary1","secondary2","secondary3","red2","green1","yellow1","yellow2","blue1","colors","grids","sm","md","lg","flexColumnNoWrap","TextWrapper","Text","TYPE","fontWeight","lineHeight","fontSize","fontStyle","FixedGlobalStyle","createGlobalStyle","ThemedGlobalStyle","FlexBox","display","flex","margin","width","maxWidth","Card","LightCard","GreyCard","YellowCard","RedCard","StyledAlertCircleIcon","AlertCircle","ErrorCard","paddingLeft","SlippageError","DeadlineError","Column","ColumnCenter","AutoColumn","FancyButton","Option","Input","OptionCustom","SlippageEmojiContainer","SlippageTabs","slippageError","deadlineError","rawSlippage","setRawSlippage","deadline","setDeadline","inputRef","slippageInput","setSlippageInput","deadlineInput","setDeadlineInput","slippageInputIsValid","deadlineInputIsValid","parseCustomSlippage","valueAsIntFromRoundedFloat","parseCustomDeadline","valueAsInt","RiskyLow","RiskyHigh","InvalidInput","tabIndex","role","aria-label","placeholder","onBlur","onChange","paddingTop","ToggleElement","isOnSwitch","StyledToggle","Toggle","Base","RebassButton","ButtonPrimary","altDisabledStyle","ButtonSecondary","ButtonEmpty","ButtonErrorStyle","lighten","ButtonError","AnimatedDialogOverlay","animated","DialogOverlay","StyledDialogOverlay","AnimatedDialogContent","DialogContent","StyledDialogContent","minHeight","maxHeight","isOpen","Modal","onDismiss","initialFocusRef","fadeTransition","useTransition","config","duration","opacity","enter","leave","useSpring","mass","tension","friction","bind","useGesture","onDrag","down","movement","velocity","direction","transform","interpolate","StyledMenuIcon","Settings","StyledCloseIcon","StyledMenuButton","StyledMenu","Break","ModalContentWrapper","SettingsTab","settingsMenuOpen","setUserslippageTolerance","toggleExpertMode","toggleDarkMode","showConfirmation","setShowConfirmation","prompt","_extends","assign","arguments","source","hasOwnProperty","apply","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","x1","y1","x2","y2","_ref","svgRef","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","ForwardRef","forwardRef","MenuIcon","MenuItem","MainNavLinksWrapper","isActiveTab","isZero","hexNumberString","useDebounce","debouncedValue","setDebouncedValue","clearTimeout","useENSName","debouncedAddress","ensNodeArgument","namehash","substr","resolverAddress","resolverAddressResult","changed","ENSName","useHasSocks","balance","useSocksBalance","StyledIdenticonContainer","Identicon","innerHTML","appendChild","Jazzicon","StyledSVG","svg","Loader","xmlns","d","usePrevious","CopyIcon","TransactionStatusText","CopyHelper","timeout","isCopied","setIsCopied","staticCopy","didCopy","copy","hide","useCopyClipboard","setCopied","toCopy","TransactionWrapper","TransactionState","IconWrapper","pending","Transaction","HeaderRow","UpperSection","InfoCard","AccountGroupingRow","AccountSection","YourAccount","LowerSection","AccountControl","AddressLink","CloseColor","Close","WalletName","TransactionListWrapper","WalletAction","MainWalletAction","renderTransactions","AccountDetails","pendingTransactions","confirmedTransactions","openOptions","getStatusIcon","src","WalletConnectIcon","alt","CoinbaseWalletIcon","FortmaticIcon","PortisIcon","showPortis","clearAllTransactionsCallback","clearAllTransactions","formatConnectorName","marginRight","hasENS","isENS","mb","justifyContent","OptionCard","OptionCardLeft","OptionCardClickable","clickable","GreenCircle","CircleWrapper","HeaderText","SubHeader","link","header","subheader","icon","PendingSection","StyledLoader","LoadingMessage","ErrorGroup","ErrorButton","LoadingWrapper","PendingView","setPendingError","tryActivation","isMetamask","option","Wrapper","ContentWrapper","Blurb","OptionGrid","HoverText","WALLET_VIEWS","WalletModal","useWeb3React","walletView","setWalletView","pendingWallet","setPendingWallet","pendingError","walletModalOpen","previousAccount","activePrevious","connectorPrevious","category","walletConnectProvider","wc","uri","UnsupportedChainIdError","MetamaskIcon","getOptions","Web3StatusGeneric","Web3StatusError","Web3StatusConnect","faded","Web3StatusConnected","p","NetworkIcon","Activity","newTransactionsFirst","SOCK","marginTop","marginBottom","StatusIcon","Web3StatusInner","hasPendingTransactions","hasSocks","Web3Status","sortedRecentTransactions","confirmed","HeaderFrame","HeaderElement","HeaderElementWrap","Title","AccountElement","TestnetWrapper","NetworkCard","UniIcon","HeaderControls","BalanceText","NETWORK_LABELS","userEthBalance","isDark","Logo","LogoDark","pointerEvents","flexShrink","pl","pr","StyledFlexBox","HeaderBanner","linkText","linkUrl","RowNoFlex","TransactionPopup","paddingRight","StyledClose","Popup","Fader","AnimatedFader","PopupItem","removeAfterMs","popKey","useRemovePopup","removeThisPopup","popupContent","txn","faderStyle","MobilePopupWrapper","MobilePopupInner","FixedPopupColumn","Popups","activePopups","popupList","useActivePopups","MessageWrapper","Message","h2","Web3ReactManager","networkActive","networkError","activateNetwork","triedEager","showLoader","setShowLoader","DarkModeQueryParamReader","parseArrays","ignoreQueryPrefix","BodyWrapper","isChildPage","DefaultLayout","StyledDataPointWrapper","StyledTooltipWrapper","StyledValueUnitWrapper","StyledLabel","StyledValue","DataPoint","unit","helpText","handleColorType","StatusBadge","StyledProgressWrapper","StyledProgressDataWrapper","StyledProgressBackground","StyledProgress","percentageString","FundsInvested","contributions","progressPercentage","StyledFundCardWrapper","StyledFundCardHeadingWrapper","StyledFlexCenterWrapper","StyledH2","StyledDataPointsWrapper","StyledChevronRight","ChevronRight","StatusBadgeWrapper","StyledText","listStyles","listItemActionStyles","listItemButtonStyles","GroupsPanel","pathName","started","runTimeout","isMember","isGroupMember","isGroupLeader","timeOuted","isMyFund","showWithdrawButton","showSwapButton","showFinishButton","showAbortButton","showStartButton","showAddFundsButton","showJoinButton","numeral","stopPropagation","nativeEvent","stopImmediatePropagation","StyledSpinnerWrapper","PageSpinner","Circle","StyledHeaderWrapper","Tab","StyledMyFundsEmptyStateWrapper","StyledEmptyStateIconWrapper","pendingGroups","completedGroups","unshift","tabName","FilterWrapper","SortButton","toggleSortOrder","ascending","useENSAddress","ensName","debouncedName","addr","useENS","nameOrAddress","validated","reverseLookup","lookup","InputPanel","ContainerRow","InputContainer","AddressInputPanel","showEtherscanLink","handleInput","withoutSpaces","autoComplete","autoCorrect","autoCapitalize","spellCheck","pattern","Section","BottomSection","ConfirmedIcon","CustomLightSpinner","ConfirmationPendingContent","pendingText","textAlign","TransactionSubmittedContent","ConfirmationModalContent","bottomContent","topContent","TransactionErrorContent","TransactionConfirmationModal","attemptingTxn","Field","selectCurrency","switchCurrencies","typeInput","replaceSwapState","setRecipient","BASE_FEE","ONE_HUNDRED_PERCENT","INPUT_FRACTION_AFTER_FEE","computeTradePriceBreakdown","trade","realizedLPFee","currentFee","priceImpactWithoutFeeFraction","priceImpactWithoutFee","computeSlippageAdjustedAmounts","allowedSlippage","pct","INPUT","maximumAmountIn","OUTPUT","minimumAmountOut","warningSeverity","ArrowWrapper","SectionBreak","BottomGrouping","ErrorText","severity","StyledBalanceMaxMini","TruncatedText","SwapCallbackErrorInner","SwapCallbackErrorInnerAlertTriangle","SwapCallbackError","SwapShowAcceptChanges","FormattedPriceImpact","SwapModalFooter","onConfirm","swapErrorMessage","disabledConfirm","showInverted","setShowInverted","slippageAdjustedAmounts","alignItems","inverted","formatExecutionPrice","UTF_8_DECODER","TextDecoder","contenthashToUri","contenthash","buff","hex","startsWith","arr","Uint8Array","hexToUint8Array","codec","getCodec","rmPrefix","cid","CID","toB58String","multihash","decode","digest","trim","ENS_NAME_REGEX","uriToHttp","useHttpLocations","ens","ensAddress","ensPath","parseENSAddress","resolvedContentHash","useENSContentHash","BAD_SRCS","getTokenLogoURL","StyledEthereumLogo","StyledLogo","srcs","refresh","onError","CurrencyLogo","uriLocations","EthereumLogo","SwapModalHeader","recipient","showAcceptChanges","onAcceptChanges","priceImpactSeverity","minWidth","ConfirmSwapModal","originalTrade","tradeB","tradeA","modalHeader","modalBottom","confirmationContent","BaseWrapper","disable","CommonBases","onSelect","selectedCurrency","selected","PaddedColumn","SearchInput","Separator","currencyKey","StyledBalanceText","Balance","toExact","Tag","TagContainer","TokenTags","tag","CurrencyRow","isSelected","otherSelected","groupCurrencyBalance","personalCurrencyBalance","justifySelf","CurrencyList","onCurrencySelect","otherCurrency","fixedListRef","showETH","itemData","itemKey","itemCount","itemSize","useTokenComparator","useAllTokenBalances","balanceComp","balanceA","balanceB","balanceComparator","getTokenComparator","CurrencySearch","otherSelectedCurrency","showCommonBases","fixedList","searchQuery","setSearchQuery","invertSearchOrder","setInvertSearchOrder","isAddressSearch","searchToken","tokenComparator","filteredTokens","searchingAddress","lowerSearchParts","s","matchesSearch","sParts","sp","endsWith","filterTokens","filteredSortedTokens","sorted","symbolMatch","handleCurrencySelect","checksummedInput","scrollTo","handleEnter","onKeyDown","iso","disableWidth","CurrencySearchModal","sizeraw","HigherLogo","CoveredLogo","DoubleCurrencyLogo","currency0","currency1","StyledInput","inputRegex","RegExp","onUserInput","tempValue","setTempValue","isComposing","isValid","newValue","inputMode","minLength","maxLength","InputRow","CurrencySelect","LabelRow","Aligner","StyledDropDown","DropDown","hideInput","Container","StyledTokenName","StyledBalanceMax","CurrencyInputPanel","onMax","showMaxButton","disableCurrencySelect","hideBalance","modalOpen","setModalOpen","selectedCurrencyBalance","selectedGroupCurrencyBalance","handleDismissSearch","cursor","val","isDefined","useLastTruthy","filterFn","last","setLast","useLast","px","py","my","flexWrap","isLastItem","ml","TradeSummary","isExactIn","AdvancedSwapDetails","showRoute","AdvancedDetailsFooter","AdvancedSwapDetailsDropdown","lastTrade","TradePrice","price","formattedPrice","WarningContainer","StyledWarningIcon","AlertTriangle","TokenWarningCard","duplicateNameOrSymbol","userToken","TokenWarningModal","understandChecked","setUnderstandChecked","toggleUnderstand","uc","handleDismiss","userSelect","checked","ApprovalState","useApproveCallback","amountToApprove","currentAllowance","owner","useTokenAllowance","pendingApproval","approvalState","APPROVED","PENDING","NOT_APPROVED","UNKNOWN","useExact","estimateGas","MaxUint256","estimatedGas","gasLimit","SwapCallbackState","toHex","swapCallParameters","etherIn","etherOut","ttl","Math","floor","useFeeOnTransfer","feeOnTransfer","useSwapCallArguments","recipientAddressOrName","recipientAddress","UnifundGroupABI","swapMethods","parameters","PairState","PAIR_INTERFACE","IUniswapV2PairABI","usePairs","reserves","LOADING","INVALID","NOT_EXISTS","EXISTS","useAllCommonPairs","bases","basePairs","flatMap","base","otherBase","t0","t1","allPairs","customBases","customBasesA","customBasesB","curr","useSwapState","swap","BAD_RECIPIENT_ADDRESSES","involvesAddress","useDerivedSwapInfo","inputError","useGroup","independentField","typedValue","inputCurrencyId","outputCurrencyId","inputCurrency","outputCurrency","recipientLookup","relevantTokenBalances","relevantGroupTokenBalances","typedValueParsed","parseUnits","tryParseAmount","allowedPairs","useTradeExactIn","useTradeExactOut","currencyBalances","groupCurrencyBalances","formattedTo","balanceIn","parseCurrencyFromURLParameter","urlParam","defaultAddress","queryParametersToSwapState","parsedQs","validatedRecipient","exactAmount","parseIndependentFieldURLParameter","exactField","useDefaultsFromURLSearch","useLocation","useParsedQueryString","setResult","field","ClickableText","MaxButton","enabled","RowAlignRight","AvailableTokens","TokenPanel","loadedUrlParams","allTokensArray","loadedInputCurrency","loadedOutputCurrency","dismissTokenWarning","setDismissTokenWarning","urlLoadedTokens","handleConfirmTokenWarning","toggleSettings","isExpertMode","swapInputError","parsedAmounts","showDetails","setShowDetails","onCurrencySelection","onSwitchTokens","onChangeRecipient","useSwapActionHandlers","dependentField","handleTypeInput","handleTypeOutput","showConfirm","tradeToConfirm","setSwapState","formattedAmounts","userHasSpecifiedInputOutput","noRoute","useApproveCallbackFromTrade","approvalSubmitted","setApprovalSubmitted","maxAmountInput","maxAmountSpend","atMaxAmountInput","swapCalls","VALID","gasEstimate","gasError","callStatic","callError","reason","estimatedCalls","successfulEstimation","el","ix","errorCalls","inputSymbol","outputSymbol","withRecipient","useSwapCallback","swapCallback","swapCallbackError","handleSwap","confirm","confirmPriceImpactWithoutFee","handleConfirmDismiss","handleAcceptChanges","handleInputSelect","handleMaxInput","handleOutputSelect","StyledRangeInput","Slider","min","step","max","changeCallback","aria-labelledby","StyledInputWrapper","StyledUnitWrapper","subLabel","onChangeInput","InputTextPanel","StyledButtonEmpty","StyledButtonWrapper","StyledPrimaryButton","StyledButtonError","StyledCancelButton","StyledStepCount","SuccessModalContent","ErrorModalContent","showModal","setShowModal","showSettings","setShowSettings","showBreakdown","setShowBreakdown","uppCurrency","uppBalance","uppPrice","setUppPrice","preset","setPreset","updatePreset","overrideUppPrice","riskScoreValue","riskScore","handleBack","handleNext","paddingBottom","uncreated","openForm","checkingAllowance","readyToApprove","approving","readyToCreate","creating","created","failed","StyledTokensTableWrapper","StyledTableRow","StyledTableCell","TokensTable","setStatus","setErrorMessage","actualMaxAllowed","fromWei","realMax","maxValue","setAmount","groupFull","back","attempting","setAttempting","unstartable","BalanceWrapper","StyledTitleInfoWrapper","StyledH1","h1","pow","InfoModal","isError","Description","setManager","setIsOpen","setIsError","statusMessage","setStatusMessage","onAddManager","Status","onRemoveManager","checkStakingAllowance","poolId","eq","approveStake","stake","masterChefContract","MasterChef","deposit","unstakePhase1","stakingContract","UnifundStaking","exit","unstake","claim","getUserStakingState","pendingiGov","pendingIGovTokens","unifundMultiplier","pendingUnifundTokens","userInfo","totalStaked","penaltyActive","penalty","penaltyPercent","iGov","iFund","getGlobalStakingState","iGovPerBlock","UnifundRewardBalance","totalRewards","balanceOf","totalStakedPercent","iGovRewardsPerMonth","iFundRewardsPerMonth","getPosition","yourStakedTokens","yourPendingReward","earned","yourEarnedAmount","yourTotalUnlockValue","yourShare","percentStaked","getBalanceByPoolId","erc20Contract","PoolStake","sliderStep","stakeAmount","setStakeAmount","stakeAmountValid","setStakeAmountValid","unstakeAmount","setUnstakeAmount","unstakeAmountValid","setUnstakeAmountValid","setBalance","None","isLoading","setIsLoading","stakingState","setStakingState","StakingService","approveStaking","loadStateAndBalance","TokenService","Unstaking","Unstaked","Claiming","Claimed","Checking","Approved","Checked","Approving","Staking","Staked","setIsActiveTab","activePool","setActivePool","position","setPosition","globalStakingState","setGlobalStakingState","ifundCurrency","ifundBalance","TokenList","tokenList","setTokenList","cacheBreaker","reload","initConfig","AppWrapper","HeaderWrapper","App","fallback","component","exact","strict","GroupCreate","GroupSwap","GroupJoin","GroupStart","GroupAbort","GroupAddFunds","GroupFinish","GroupWithdraw","GroupDetails","GroupAddManager","GroupRemoveManager","Trades","Leaderboard","Home","createReducer","builder","addCase","payload","popup","nanoid","updateVersion","currentTimestamp","pairKey","token0Address","token1Address","timestamp","lastUpdateVersionTimestamp","serializedPair","tokenAAddress","tokenBAddress","now","txs","checkedTransaction","lastCheckedBlockNumber","finalizeTransaction","confirmedTime","otherField","resetMintState","CURRENCY_A","otherTypedValue","noLiquidity","LIQUIDITY_PERCENT","listeners","callListeners","fetchingBlockNumber","PERSISTED_KEYS","store","configureStore","mint","burn","middleware","getDefaultMiddleware","thunk","save","states","preloadedState","load","VISIBILITY_STATE_SUPPORTED","isWindowVisible","visibilityState","Updater","windowVisible","focused","setFocused","listener","useIsWindowVisible","blockNumberCallback","getBlockNumber","debouncedState","waitRandom","ms","round","random","CancelledError","RetryableError","chunk","minBlockNumber","aggregate","obj","resultsBlockNumber","returnData","debouncedListeners","cancellations","listeningKeys","allListeners","keyListeners","previousMin","activeListeningKeys","unserializedOutdatedCallKeys","minDataBlockNumber","outdatedListeningKeys","serializedOutdatedCallKeys","outdatedCallKeys","chunkedCalls","maxChunkSize","numChunks","ceil","chunkSize","chunkArray","fn","rejectCancelled","n","minWait","maxWait","completed","cancel","retry","fetchChunk","fetchBlockNumber","firstCallKeyIndex","lastCallKeyIndex","lastBlockNumber","useAddPopup","blocksSinceCheck","minutesPending","shouldCheck","getTransactionReceipt","blockHash","contractAddress","transactionIndex","darkHandler","matches","matchMedia","addListener","getWeb3Provider","Web3Provider","dayjs","extend","utc","timezone","Web3ProviderNetwork","createWeb3ReactRoot","autoRefreshOnNetworkChange","GOOGLE_ANALYTICS_ID","REACT_APP_GOOGLE_ANALYTICS_ID","Updaters","initialize","customBrowserType","testMode","exception","filename","lineno","colno","fatal","ReactDOM","render","getLibrary","getElementById"],"mappings":"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","file":"static/js/main.0b2fcb61.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/coinbaseWalletIcon.aa4c7a76.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/portisIcon.b234b2bf.png\";","module.exports = __webpack_public_path__ + \"static/media/walletConnectIcon.5e81cac2.svg\";","import { Web3Provider } from '@ethersproject/providers'\r\nimport { ChainId } from 'src/sdk'\r\nimport Web3 from 'web3'\r\nimport { useWeb3React as useWeb3ReactCore } from '@web3-react/core'\r\nimport { Web3ReactContextInterface } from '@web3-react/core/dist/types'\r\nimport { useEffect, useState } from 'react'\r\nimport { isMobile } from 'react-device-detect'\r\nimport { injected } from '../connectors'\r\nimport { NetworkContextName } from '../constants'\r\n\r\nexport function useGroupId(): number {\r\n  return parseInt(window.location.hash?.match(/group\\/([0-9]*)/g)![0].replace('group/', ''), 10)\r\n}\r\n\r\nexport function useActiveWeb3React(): Web3ReactContextInterface<Web3Provider> & { chainId?: ChainId } {\r\n  const context = useWeb3ReactCore<Web3Provider>()\r\n  const contextNetwork = useWeb3ReactCore<Web3Provider>(NetworkContextName)\r\n\r\n  return context.active ? context : contextNetwork\r\n}\r\n\r\nexport function useOldWeb3() {\r\n  const newWeb3 = useActiveWeb3React()\r\n\r\n  if (!newWeb3.library?.provider) {\r\n    return undefined\r\n  }\r\n\r\n  // @ts-ignore\r\n  const web3 = new Web3(newWeb3.library?.provider)\r\n\r\n  return web3\r\n}\r\n\r\nexport function useEagerConnect() {\r\n  const { activate, active } = useWeb3ReactCore() // specifically using useWeb3ReactCore because of what this hook does\r\n  const [tried, setTried] = useState(false)\r\n\r\n  useEffect(() => {\r\n    injected.isAuthorized().then(isAuthorized => {\r\n      if (isAuthorized) {\r\n        activate(injected, undefined, true).catch(() => {\r\n          setTried(true)\r\n        })\r\n      } else {\r\n        if (isMobile && window.ethereum) {\r\n          activate(injected, undefined, true).catch(() => {\r\n            setTried(true)\r\n          })\r\n        } else {\r\n          setTried(true)\r\n        }\r\n      }\r\n    })\r\n  }, [activate]) // intentionally only running on mount (make sure it's only mounted once :))\r\n\r\n  // if the connection worked, wait until we get confirmation of that to flip the flag\r\n  useEffect(() => {\r\n    if (active) {\r\n      setTried(true)\r\n    }\r\n  }, [active])\r\n\r\n  return tried\r\n}\r\n\r\n/**\r\n * Use for network and injected - logs user in\r\n * and out after checking what network theyre on\r\n */\r\nexport function useInactiveListener(suppress = false) {\r\n  const { active, error, activate } = useWeb3ReactCore() // specifically using useWeb3React because of what this hook does\r\n\r\n  useEffect(() => {\r\n    const { ethereum } = window\r\n\r\n    if (ethereum && ethereum.on && !active && !error && !suppress) {\r\n      const handleChainChanged = () => {\r\n        // eat errors\r\n        activate(injected, undefined, true).catch(error => {\r\n          console.error('Failed to activate after chain changed', error)\r\n        })\r\n      }\r\n\r\n      const handleAccountsChanged = (accounts: string[]) => {\r\n        if (accounts.length > 0) {\r\n          // eat errors\r\n          activate(injected, undefined, true).catch(error => {\r\n            console.error('Failed to activate after accounts changed', error)\r\n          })\r\n        }\r\n      }\r\n\r\n      ethereum.on('chainChanged', handleChainChanged)\r\n      ethereum.on('accountsChanged', handleAccountsChanged)\r\n\r\n      return () => {\r\n        if (ethereum.removeListener) {\r\n          ethereum.removeListener('chainChanged', handleChainChanged)\r\n          ethereum.removeListener('accountsChanged', handleAccountsChanged)\r\n        }\r\n      }\r\n    }\r\n    return undefined\r\n  }, [active, error, suppress, activate])\r\n}\r\n","import { ChainId } from 'src/sdk'\r\nimport { FortmaticConnector as FortmaticConnectorCore } from '@web3-react/fortmatic-connector'\r\n\r\nexport const OVERLAY_READY = 'OVERLAY_READY'\r\n\r\ntype FormaticSupportedChains = Extract<ChainId, ChainId.MAINNET | ChainId.ROPSTEN | ChainId.RINKEBY | ChainId.KOVAN>\r\n\r\nconst CHAIN_ID_NETWORK_ARGUMENT: { readonly [chainId in FormaticSupportedChains]: string | undefined } = {\r\n  [ChainId.MAINNET]: undefined,\r\n  [ChainId.ROPSTEN]: 'ropsten',\r\n  [ChainId.RINKEBY]: 'rinkeby',\r\n  [ChainId.KOVAN]: 'kovan'\r\n}\r\n\r\nexport class FortmaticConnector extends FortmaticConnectorCore {\r\n  async activate() {\r\n    if (!this.fortmatic) {\r\n      const { default: Fortmatic } = await import('fortmatic')\r\n\r\n      const { apiKey, chainId } = this as any\r\n      if (chainId in CHAIN_ID_NETWORK_ARGUMENT) {\r\n        this.fortmatic = new Fortmatic(apiKey, CHAIN_ID_NETWORK_ARGUMENT[chainId as FormaticSupportedChains])\r\n      } else {\r\n        throw new Error(`Unsupported network ID: ${chainId}`)\r\n      }\r\n    }\r\n\r\n    const provider = this.fortmatic.getProvider()\r\n\r\n    const pollForOverlayReady = new Promise(resolve => {\r\n      const interval = setInterval(() => {\r\n        if (provider.overlayReady) {\r\n          clearInterval(interval)\r\n          this.emit(OVERLAY_READY)\r\n          resolve()\r\n        }\r\n      }, 200)\r\n    })\r\n\r\n    const [account] = await Promise.all([\r\n      provider.enable().then((accounts: string[]) => accounts[0]),\r\n      pollForOverlayReady\r\n    ])\r\n\r\n    return { provider: this.fortmatic.getProvider(), chainId: (this as any).chainId, account }\r\n  }\r\n}\r\n","import { Interface } from '@ethersproject/abi'\r\nimport ERC20_ABI from './erc20.json'\r\nimport ERC20_BYTES32_ABI from './erc20_bytes32.json'\r\n\r\nconst ERC20_INTERFACE = new Interface(ERC20_ABI)\r\n\r\nconst ERC20_BYTES32_INTERFACE = new Interface(ERC20_BYTES32_ABI)\r\n\r\nexport default ERC20_INTERFACE\r\nexport { ERC20_ABI, ERC20_BYTES32_INTERFACE, ERC20_BYTES32_ABI }\r\n","import { ChainId, JSBI, Percent, Token, WETH as WethTokens } from 'src/sdk'\r\nimport { AbstractConnector } from '@web3-react/abstract-connector'\r\n\r\nimport { fortmatic, injected, portis, walletconnect, walletlink } from '../connectors'\r\n\r\nexport const ROUTER_ADDRESS = process.env.REACT_APP_UNISWAP_V2_ROUTER || '0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D'\r\n\r\n// a list of tokens by chain\r\ntype ChainTokenList = {\r\n  readonly [chainId in ChainId]: Token[]\r\n}\r\n\r\nexport const DAI = new Token(ChainId.MAINNET, '0x6B175474E89094C44Da98b954EedeAC495271d0F', 18, 'DAI', 'Dai Stablecoin')\r\nexport const USDC = new Token(ChainId.MAINNET, '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48', 6, 'USDC', 'USD//C')\r\nexport const USDT = new Token(ChainId.MAINNET, '0xdAC17F958D2ee523a2206206994597C13D831ec7', 6, 'USDT', 'Tether USD')\r\nexport const COMP = new Token(ChainId.MAINNET, '0xc00e94Cb662C3520282E6f5717214004A7f26888', 18, 'COMP', 'Compound')\r\nexport const MKR = new Token(ChainId.MAINNET, '0x9f8F72aA9304c8B593d555F12eF6589cC3A579A2', 18, 'MKR', 'Maker')\r\nexport const AMPL = new Token(ChainId.MAINNET, '0xD46bA6D942050d489DBd938a2C909A5d5039A161', 9, 'AMPL', 'Ampleforth')\r\nexport const WETH = new Token(\r\n  ChainId.LOCAL,\r\n  process.env.REACT_APP_WETH_ADDRESS || '0x6B175474E89094C44Da98b954EedeAC495271d0F',\r\n  18,\r\n  'WETH',\r\n  'WrappedEther'\r\n)\r\n// export const ERC20 = new Token(\r\n//   ChainId.LOCAL,\r\n//   process.env.REACT_APP_ERC20_ADDRESS || '0x6B175474E89094C44Da98b954EedeAC495271d0F',\r\n//   18,\r\n//   'ERC20',\r\n//   'ERC20'\r\n// )\r\n// export const ERC20B = new Token(\r\n//   ChainId.LOCAL,\r\n//   process.env.REACT_APP_ERC20B_ADDRESS || '0x6B175474E89094C44Da98b954EedeAC495271d0F',\r\n//   18,\r\n//   'ERC20B',\r\n//   'ERC20B'\r\n// )\r\n// export const UPP = new Token(\r\n//   ChainId.LOCAL,\r\n//   process.env.REACT_APP_UNIFUND_ADDRESS || '0x6B175474E89094C44Da98b954EedeAC495271d0F',\r\n//   18,\r\n//   'UPP',\r\n//   'Unifund'\r\n// )\r\n\r\nconst WETH_ONLY: ChainTokenList = {\r\n  // @ts-ignore\r\n  [ChainId.MAINNET]: [WethTokens[ChainId.MAINNET]],\r\n  [ChainId.ROPSTEN]: [WethTokens[ChainId.ROPSTEN]],\r\n  [ChainId.RINKEBY]: [WethTokens[ChainId.RINKEBY]],\r\n  [ChainId.GÃ–RLI]: [WethTokens[ChainId.GÃ–RLI]],\r\n  [ChainId.KOVAN]: [WethTokens[ChainId.KOVAN]],\r\n  [ChainId.LOCAL]: []\r\n}\r\n\r\n// used to construct intermediary pairs for trading\r\nexport const BASES_TO_CHECK_TRADES_AGAINST: ChainTokenList = {\r\n  ...WETH_ONLY,\r\n  [ChainId.MAINNET]: [...WETH_ONLY[ChainId.MAINNET], DAI, USDC, USDT, COMP, MKR],\r\n  // [ChainId.ROPSTEN]: [...WETH_ONLY[ChainId.MAINNET], WETH],\r\n  [ChainId.LOCAL]: [...WETH_ONLY[ChainId.MAINNET]] //, WETH, ERC20, ERC20B]\r\n}\r\n\r\n/**\r\n * Some tokens can only be swapped via certain pairs, so we override the list of bases that are considered for these\r\n * tokens.\r\n */\r\nexport const CUSTOM_BASES: { [chainId in ChainId]?: { [tokenAddress: string]: Token[] } } = {\r\n  [ChainId.MAINNET]: {\r\n    [AMPL.address]: [DAI, WethTokens[ChainId.MAINNET]]\r\n  }\r\n}\r\n\r\n// used for display in the default list when adding liquidity\r\nexport const SUGGESTED_BASES: ChainTokenList = {\r\n  ...WETH_ONLY,\r\n  [ChainId.MAINNET]: [...WETH_ONLY[ChainId.MAINNET], DAI, USDC, USDT],\r\n  [ChainId.LOCAL]: [/*WETH, UPP,*/ DAI, USDC, USDT]\r\n}\r\n\r\n// used to construct the list of all pairs we consider by default in the frontend\r\nexport const BASES_TO_TRACK_LIQUIDITY_FOR: ChainTokenList = {\r\n  ...WETH_ONLY,\r\n  [ChainId.MAINNET]: [...WETH_ONLY[ChainId.MAINNET], DAI, USDC, USDT]\r\n}\r\n\r\nexport const PINNED_PAIRS: { readonly [chainId in ChainId]?: [Token, Token][] } = {\r\n  [ChainId.MAINNET]: [\r\n    [\r\n      new Token(ChainId.MAINNET, '0x5d3a536E4D6DbD6114cc1Ead35777bAB948E3643', 8, 'cDAI', 'Compound Dai'),\r\n      new Token(ChainId.MAINNET, '0x39AA39c021dfbaE8faC545936693aC917d5E7563', 8, 'cUSDC', 'Compound USD Coin')\r\n    ],\r\n    [USDC, USDT],\r\n    [DAI, USDT]\r\n  ]\r\n}\r\n\r\nexport interface WalletInfo {\r\n  connector?: AbstractConnector\r\n  name: string\r\n  iconName: string\r\n  description: string\r\n  href: string | null\r\n  color: string\r\n  primary?: true\r\n  mobile?: true\r\n  mobileOnly?: true\r\n}\r\n\r\nexport const SUPPORTED_WALLETS: { [key: string]: WalletInfo } = {\r\n  INJECTED: {\r\n    connector: injected,\r\n    name: 'Injected',\r\n    iconName: 'arrow-right.svg',\r\n    description: 'Injected web3 provider.',\r\n    href: null,\r\n    color: '#010101',\r\n    primary: true\r\n  },\r\n  METAMASK: {\r\n    connector: injected,\r\n    name: 'MetaMask',\r\n    iconName: 'metamask.png',\r\n    description: 'Easy-to-use browser extension.',\r\n    href: null,\r\n    color: '#E8831D'\r\n  },\r\n  WALLET_CONNECT: {\r\n    connector: walletconnect,\r\n    name: 'WalletConnect',\r\n    iconName: 'walletConnectIcon.svg',\r\n    description: 'Connect to Trust Wallet, Rainbow Wallet and more...',\r\n    href: null,\r\n    color: '#4196FC',\r\n    mobile: true\r\n  },\r\n  WALLET_LINK: {\r\n    connector: walletlink,\r\n    name: 'Coinbase Wallet',\r\n    iconName: 'coinbaseWalletIcon.svg',\r\n    description: 'Use Coinbase Wallet app on mobile device',\r\n    href: null,\r\n    color: '#315CF5'\r\n  },\r\n  COINBASE_LINK: {\r\n    name: 'Open in Coinbase Wallet',\r\n    iconName: 'coinbaseWalletIcon.svg',\r\n    description: 'Open in Coinbase Wallet app.',\r\n    href: 'https://go.cb-w.com/mtUDhEZPy1',\r\n    color: '#315CF5',\r\n    mobile: true,\r\n    mobileOnly: true\r\n  },\r\n  FORTMATIC: {\r\n    connector: fortmatic,\r\n    name: 'Fortmatic',\r\n    iconName: 'fortmaticIcon.png',\r\n    description: 'Login using Fortmatic hosted wallet',\r\n    href: null,\r\n    color: '#6748FF',\r\n    mobile: true\r\n  },\r\n  Portis: {\r\n    connector: portis,\r\n    name: 'Portis',\r\n    iconName: 'portisIcon.png',\r\n    description: 'Login using Portis hosted wallet',\r\n    href: null,\r\n    color: '#4A6C9B',\r\n    mobile: true\r\n  }\r\n}\r\n\r\nexport const NetworkContextName = 'NETWORK'\r\n\r\n// default allowed slippage, in bips\r\nexport const INITIAL_ALLOWED_SLIPPAGE = 50\r\n// 20 minutes, denominated in seconds\r\nexport const DEFAULT_DEADLINE_FROM_NOW = 60 * 20\r\n\r\n// one basis point\r\nexport const ONE_BIPS = new Percent(JSBI.BigInt(1), JSBI.BigInt(10000))\r\nexport const BIPS_BASE = JSBI.BigInt(10000)\r\n// used for warning states\r\nexport const ALLOWED_PRICE_IMPACT_LOW: Percent = new Percent(JSBI.BigInt(100), BIPS_BASE) // 1%\r\nexport const ALLOWED_PRICE_IMPACT_MEDIUM: Percent = new Percent(JSBI.BigInt(300), BIPS_BASE) // 3%\r\nexport const ALLOWED_PRICE_IMPACT_HIGH: Percent = new Percent(JSBI.BigInt(500), BIPS_BASE) // 5%\r\n// if the price slippage exceeds this number, force the user to type 'confirm' to execute\r\nexport const PRICE_IMPACT_WITHOUT_FEE_CONFIRM_MIN: Percent = new Percent(JSBI.BigInt(1000), BIPS_BASE) // 10%\r\n// for non expert mode disable swaps above this\r\nexport const BLOCKED_PRICE_IMPACT_NON_EXPERT: Percent = new Percent(JSBI.BigInt(1500), BIPS_BASE) // 15%\r\n\r\n// used to ensure the user doesn't send so much ETH so they end up with <.01\r\nexport const MIN_ETH: JSBI = JSBI.exponentiate(JSBI.BigInt(10), JSBI.BigInt(16)) // .01 ETH\r\nexport const BETTER_TRADE_LINK_THRESHOLD = new Percent(JSBI.BigInt(75), JSBI.BigInt(10000))\r\n","var map = {\n\t\"./arrow-down-blue.svg\": 748,\n\t\"./arrow-down-grey.svg\": 749,\n\t\"./arrow-right-white.png\": 750,\n\t\"./arrow-right.svg\": 751,\n\t\"./blue-loader.svg\": 95,\n\t\"./circle-grey.svg\": 752,\n\t\"./circle.svg\": 753,\n\t\"./coinbaseWalletIcon.svg\": 175,\n\t\"./dropdown-blue.svg\": 754,\n\t\"./dropdown.svg\": 755,\n\t\"./dropup-blue.svg\": 756,\n\t\"./ethereum-logo.png\": 253,\n\t\"./fortmaticIcon.png\": 176,\n\t\"./link.svg\": 757,\n\t\"./logo.png\": 250,\n\t\"./logoDark.png\": 251,\n\t\"./magnifying-glass.svg\": 758,\n\t\"./menu.svg\": 759,\n\t\"./metamask.png\": 254,\n\t\"./plus-blue.svg\": 760,\n\t\"./plus-grey.svg\": 761,\n\t\"./portisIcon.png\": 177,\n\t\"./question-mark.svg\": 762,\n\t\"./question.svg\": 763,\n\t\"./spinner.svg\": 764,\n\t\"./token-list/lists-dark.png\": 765,\n\t\"./token-list/lists-light.png\": 766,\n\t\"./trustWallet.png\": 767,\n\t\"./walletConnectIcon.svg\": 178,\n\t\"./x.svg\": 768\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 243;","import { Contract } from '@ethersproject/contracts'\r\nimport { getAddress } from '@ethersproject/address'\r\nimport { AddressZero } from '@ethersproject/constants'\r\nimport { JsonRpcSigner, Web3Provider } from '@ethersproject/providers'\r\nimport { BigNumber } from '@ethersproject/bignumber'\r\nimport { abi as IUniswapV2Router02ABI } from '@uniswap/v2-periphery/build/IUniswapV2Router02.json'\r\nimport { ROUTER_ADDRESS } from '../constants'\r\nimport { ChainId, JSBI, Percent, CurrencyAmount } from 'src/sdk'\r\n\r\n// returns the checksummed address if the address is valid, otherwise returns false\r\nexport function isAddress(value: any): string | false {\r\n  try {\r\n    return getAddress(value)\r\n  } catch {\r\n    return false\r\n  }\r\n}\r\n\r\nconst ETHERSCAN_PREFIXES: { [chainId in ChainId]: string } = {\r\n  1: '',\r\n  3: 'ropsten.',\r\n  4: 'rinkeby.',\r\n  5: 'goerli.',\r\n  42: 'kovan.',\r\n  1337: ''\r\n}\r\n\r\nexport function getEtherscanLink(chainId: ChainId, data: string, type: 'transaction' | 'token' | 'address'): string {\r\n  const prefix = `https://${ETHERSCAN_PREFIXES[chainId] || ETHERSCAN_PREFIXES[1]}etherscan.io`\r\n\r\n  switch (type) {\r\n    case 'transaction': {\r\n      return `${prefix}/tx/${data}`\r\n    }\r\n    case 'token': {\r\n      return `${prefix}/token/${data}`\r\n    }\r\n    case 'address':\r\n    default: {\r\n      return `${prefix}/address/${data}`\r\n    }\r\n  }\r\n}\r\n\r\n// shorten the checksummed version of the input address to have 0x + 4 characters at start and end\r\nexport function shortenAddress(address: string, chars = 4): string {\r\n  const parsed = isAddress(address)\r\n  if (!parsed) {\r\n    throw Error(`Invalid 'address' parameter '${address}'.`)\r\n  }\r\n  return `${parsed.substring(0, chars + 2)}...${parsed.substring(42 - chars)}`\r\n}\r\n\r\n// add 10%\r\nexport function calculateGasMargin(value: BigNumber): BigNumber {\r\n  return value.mul(BigNumber.from(10000).add(BigNumber.from(1000))).div(BigNumber.from(10000))\r\n}\r\n\r\n// converts a basis points value to a sdk percent\r\nexport function basisPointsToPercent(num: number): Percent {\r\n  return new Percent(JSBI.BigInt(num), JSBI.BigInt(10000))\r\n}\r\n\r\nexport function calculateSlippageAmount(value: CurrencyAmount, slippage: number): [JSBI, JSBI] {\r\n  if (slippage < 0 || slippage > 10000) {\r\n    throw Error(`Unexpected slippage value: ${slippage}`)\r\n  }\r\n  return [\r\n    JSBI.divide(JSBI.multiply(value.raw, JSBI.BigInt(10000 - slippage)), JSBI.BigInt(10000)),\r\n    JSBI.divide(JSBI.multiply(value.raw, JSBI.BigInt(10000 + slippage)), JSBI.BigInt(10000))\r\n  ]\r\n}\r\n\r\n// account is not optional\r\nexport function getSigner(library: Web3Provider, account: string): JsonRpcSigner {\r\n  return library.getSigner(account).connectUnchecked()\r\n}\r\n\r\n// account is optional\r\nexport function getProviderOrSigner(library: Web3Provider, account?: string): Web3Provider | JsonRpcSigner {\r\n  return account ? getSigner(library, account) : library\r\n}\r\n\r\n// account is optional\r\nexport function getContract(address: string, ABI: any, library: Web3Provider, account?: string): Contract {\r\n  if (!isAddress(address) || address === AddressZero) {\r\n    throw Error(`Invalid 'address' parameter '${address}'.`)\r\n  }\r\n\r\n  return new Contract(address, ABI, getProviderOrSigner(library, account) as any)\r\n}\r\n\r\n// account is optional\r\nexport function getRouterContract(_: number, library: Web3Provider, account?: string): Contract {\r\n  return getContract(ROUTER_ADDRESS, IUniswapV2Router02ABI, library, account)\r\n}\r\n\r\nexport function escapeRegExp(string: string): string {\r\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&') // $& means the whole matched string\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.72d03263.png\";","module.exports = __webpack_public_path__ + \"static/media/logoDark.5325d8e7.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/metamask.023762b6.png\";","import { ConnectorUpdate } from '@web3-react/types'\r\nimport { AbstractConnector } from '@web3-react/abstract-connector'\r\nimport invariant from 'tiny-invariant'\r\n\r\ninterface NetworkConnectorArguments {\r\n  urls: { [chainId: number]: string }\r\n  defaultChainId?: number\r\n}\r\n\r\n// taken from ethers.js, compatible interface with web3 provider\r\ntype AsyncSendable = {\r\n  isMetaMask?: boolean\r\n  host?: string\r\n  path?: string\r\n  sendAsync?: (request: any, callback: (error: any, response: any) => void) => void\r\n  send?: (request: any, callback: (error: any, response: any) => void) => void\r\n}\r\n\r\nclass RequestError extends Error {\r\n  constructor(message: string, public code: number, public data?: unknown) {\r\n    super(message)\r\n  }\r\n}\r\n\r\ninterface BatchItem {\r\n  request: { jsonrpc: '2.0'; id: number; method: string; params: unknown }\r\n  resolve: (result: any) => void\r\n  reject: (error: Error) => void\r\n}\r\n\r\nclass MiniRpcProvider implements AsyncSendable {\r\n  public readonly isMetaMask: false = false\r\n  public readonly chainId: number\r\n  public readonly url: string\r\n  public readonly host: string\r\n  public readonly path: string\r\n  public readonly batchWaitTimeMs: number\r\n\r\n  private nextId = 1\r\n  private batchTimeoutId: ReturnType<typeof setTimeout> | null = null\r\n  private batch: BatchItem[] = []\r\n\r\n  constructor(chainId: number, url: string, batchWaitTimeMs?: number) {\r\n    this.chainId = chainId\r\n    this.url = url\r\n    const parsed = new URL(url)\r\n    this.host = parsed.host\r\n    this.path = parsed.pathname\r\n    // how long to wait to batch calls\r\n    this.batchWaitTimeMs = batchWaitTimeMs ?? 50\r\n  }\r\n\r\n  public readonly clearBatch = async () => {\r\n    console.debug('Clearing batch', this.batch)\r\n    const batch = this.batch\r\n    this.batch = []\r\n    this.batchTimeoutId = null\r\n    let response: Response\r\n    try {\r\n      response = await fetch(this.url, {\r\n        method: 'POST',\r\n        headers: { 'content-type': 'application/json', accept: 'application/json' },\r\n        body: JSON.stringify(batch.map(item => item.request))\r\n      })\r\n    } catch (error) {\r\n      batch.forEach(({ reject }) => reject(new Error('Failed to send batch call')))\r\n      return\r\n    }\r\n\r\n    if (!response.ok) {\r\n      batch.forEach(({ reject }) => reject(new RequestError(`${response.status}: ${response.statusText}`, -32000)))\r\n      return\r\n    }\r\n\r\n    let json\r\n    try {\r\n      json = await response.json()\r\n    } catch (error) {\r\n      batch.forEach(({ reject }) => reject(new Error('Failed to parse JSON response')))\r\n      return\r\n    }\r\n    const byKey = batch.reduce<{ [id: number]: BatchItem }>((memo, current) => {\r\n      memo[current.request.id] = current\r\n      return memo\r\n    }, {})\r\n    for (const result of json) {\r\n      const {\r\n        resolve,\r\n        reject,\r\n        request: { method }\r\n      } = byKey[result.id]\r\n      if (resolve && reject) {\r\n        if ('error' in result) {\r\n          reject(new RequestError(result?.error?.message, result?.error?.code, result?.error?.data))\r\n        } else if ('result' in result) {\r\n          resolve(result.result)\r\n        } else {\r\n          reject(new RequestError(`Received unexpected JSON-RPC response to ${method} request.`, -32000, result))\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public readonly sendAsync = (\r\n    request: { jsonrpc: '2.0'; id: number | string | null; method: string; params?: unknown[] | object },\r\n    callback: (error: any, response: any) => void\r\n  ): void => {\r\n    this.request(request.method, request.params)\r\n      .then(result => callback(null, { jsonrpc: '2.0', id: request.id, result }))\r\n      .catch(error => callback(error, null))\r\n  }\r\n\r\n  public readonly request = async (\r\n    method: string | { method: string; params: unknown[] },\r\n    params?: unknown[] | object\r\n  ): Promise<unknown> => {\r\n    if (typeof method !== 'string') {\r\n      return this.request(method.method, method.params)\r\n    }\r\n    if (method === 'eth_chainId') {\r\n      return `0x${this.chainId.toString(16)}`\r\n    }\r\n    const promise = new Promise((resolve, reject) => {\r\n      this.batch.push({\r\n        request: {\r\n          jsonrpc: '2.0',\r\n          id: this.nextId++,\r\n          method,\r\n          params\r\n        },\r\n        resolve,\r\n        reject\r\n      })\r\n    })\r\n    this.batchTimeoutId = this.batchTimeoutId ?? setTimeout(this.clearBatch, this.batchWaitTimeMs)\r\n    return promise\r\n  }\r\n}\r\n\r\nexport class NetworkConnector extends AbstractConnector {\r\n  private readonly providers: { [chainId: number]: MiniRpcProvider }\r\n  private currentChainId: number\r\n\r\n  constructor({ urls, defaultChainId }: NetworkConnectorArguments) {\r\n    invariant(defaultChainId || Object.keys(urls).length === 1, 'defaultChainId is a required argument with >1 url')\r\n    super({ supportedChainIds: Object.keys(urls).map((k): number => Number(k)) })\r\n\r\n    this.currentChainId = defaultChainId || Number(Object.keys(urls)[0])\r\n    this.providers = Object.keys(urls).reduce<{ [chainId: number]: MiniRpcProvider }>((accumulator, chainId) => {\r\n      accumulator[Number(chainId)] = new MiniRpcProvider(Number(chainId), urls[Number(chainId)])\r\n      return accumulator\r\n    }, {})\r\n  }\r\n\r\n  public get provider(): MiniRpcProvider {\r\n    return this.providers[this.currentChainId]\r\n  }\r\n\r\n  public async activate(): Promise<ConnectorUpdate> {\r\n    return { provider: this.providers[this.currentChainId], chainId: this.currentChainId, account: null }\r\n  }\r\n\r\n  public async getProvider(): Promise<MiniRpcProvider> {\r\n    return this.providers[this.currentChainId]\r\n  }\r\n\r\n  public async getChainId(): Promise<number> {\r\n    return this.currentChainId\r\n  }\r\n\r\n  public async getAccount(): Promise<null> {\r\n    return null\r\n  }\r\n\r\n  public deactivate() {\r\n    return\r\n  }\r\n}\r\n","import { Web3Provider } from '@ethersproject/providers'\r\nimport { InjectedConnector } from '@web3-react/injected-connector'\r\nimport { WalletConnectConnector } from '@web3-react/walletconnect-connector'\r\nimport { WalletLinkConnector } from '@web3-react/walletlink-connector'\r\nimport { PortisConnector } from '@web3-react/portis-connector'\r\n\r\nimport { FortmaticConnector } from './Fortmatic'\r\nimport { NetworkConnector } from './NetworkConnector'\r\n\r\nconst NETWORK_URL = process.env.REACT_APP_NETWORK_URL\r\nconst FORMATIC_KEY = process.env.REACT_APP_FORTMATIC_KEY\r\nconst PORTIS_ID = process.env.REACT_APP_PORTIS_ID\r\n\r\nexport const NETWORK_CHAIN_ID: number = parseInt(process.env.REACT_APP_CHAIN_ID ?? '1')\r\n\r\nif (typeof NETWORK_URL === 'undefined') {\r\n  throw new Error(`REACT_APP_NETWORK_URL must be a defined environment variable`)\r\n}\r\n\r\nexport const network = new NetworkConnector({\r\n  urls: { [NETWORK_CHAIN_ID]: NETWORK_URL }\r\n})\r\n\r\nlet networkLibrary: Web3Provider | undefined\r\nexport function getNetworkLibrary(): Web3Provider {\r\n  return (networkLibrary = networkLibrary ?? new Web3Provider(network.provider as any))\r\n}\r\n\r\nexport const injected = new InjectedConnector({\r\n  supportedChainIds: [1, 3, 4, 5, 42, 1337]\r\n})\r\n\r\n// mainnet only\r\nexport const walletconnect = new WalletConnectConnector({\r\n  rpc: { 1: NETWORK_URL },\r\n  bridge: 'https://bridge.walletconnect.org',\r\n  qrcode: true,\r\n  pollingInterval: 15000\r\n})\r\n\r\n// mainnet only\r\nexport const fortmatic = new FortmaticConnector({\r\n  apiKey: FORMATIC_KEY ?? '',\r\n  chainId: 1\r\n})\r\n\r\n// mainnet only\r\nexport const portis = new PortisConnector({\r\n  dAppId: PORTIS_ID ?? '',\r\n  networks: [1]\r\n})\r\n\r\n// mainnet only\r\nexport const walletlink = new WalletLinkConnector({\r\n  url: NETWORK_URL,\r\n  appName: 'Uniswap',\r\n  appLogoUrl:\r\n    'https://mpng.pngfly.com/20181202/bex/kisspng-emoji-domain-unicorn-pin-badges-sticker-unicorn-tumblr-emoji-unicorn-iphoneemoji-5c046729264a77.5671679315437924251569.jpg'\r\n})\r\n","import { Reducer, ReducerAction, ReducerState, useCallback, useMemo, useReducer, useRef } from 'react'\r\n\r\nexport const useEnhancedReducer = <R extends Reducer<any, any>>(\r\n  reducer: R,\r\n  initState: ReducerState<R>,\r\n  initializer?: Parameters<typeof useReducer>[2],\r\n  middlewares: Array<\r\n    (\r\n      state: ReducerState<R>\r\n    ) => (\r\n      getState: () => ReducerState<R>\r\n    ) => (next: (action: ReducerAction<R>) => any) => (action: ReducerAction<R>) => any\r\n  > = []\r\n) => {\r\n  const lastState = useRef(initState)\r\n  const getState = useCallback(() => lastState.current, [])\r\n  const enhancedReducer = useRef(\r\n    (state: ReducerState<R>, action: ReducerAction<R>) => (lastState.current = reducer(state, action))\r\n  ).current // to prevent reducer called twice, per: https://github.com/facebook/react/issues/16295\r\n  const [state, dispatch] = useReducer(enhancedReducer, initState, initializer)\r\n  const middlewaresRef = useRef(middlewares)\r\n  //use useMemo instead of useRef to avoid redundant calculation\r\n  const enhancedDispatch = useMemo(\r\n    () => middlewaresRef.current.reduceRight((acc, mdw) => action => mdw(state)(getState)(acc)(action), dispatch),\r\n    []\r\n  )\r\n  return [state, enhancedDispatch, getState]\r\n}\r\n","import React, { createContext, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport { Contract } from '@ethersproject/contracts'\r\nimport { BigNumber } from '@ethersproject/bignumber'\r\nimport UnifundGroupAbi from 'src/constants/unifund/UnifundGroup.abi.json'\r\nimport ERC20Abi from 'src/constants/abis/erc20.json'\r\nimport { useContract } from 'src/hooks/useContract'\r\nimport { useTransactionAdder } from '../state/transactions/hooks'\r\nimport { useActiveWeb3React, useOldWeb3 } from 'src/hooks'\r\nimport { formatEther, parseEther } from 'ethers/lib/utils'\r\nimport * as GroupService from 'src/services/groupService'\r\nimport * as AccountService from 'src/services/accountService'\r\nimport { useEnhancedReducer } from 'src/hooks/useEnhancedReducer'\r\n\r\n// const ETHER_TO_WEI = 1000000000000000000\r\n// WEI_TO_ETHER = 0.000000000000000001\r\n\r\nconst ethUtil = require('ethereumjs-util')\r\nconst sigUtil = require('eth-sig-util')\r\n\r\n// @ts-ignore\r\nwindow.GroupService = GroupService\r\n\r\ntype GroupParamsType = {\r\n  tokenListId: number\r\n  maxRunTimeHours: number\r\n  startTimeoutHours: number\r\n  leaderProfitShareOutOf10000: number\r\n  leaderiFundCollateral: number\r\n  requiredMemberiFundFee: number\r\n  maxEthContribution: number\r\n  minEthToStart: number\r\n  maxEthAcceptable: number\r\n  description: string\r\n  name: string\r\n}\r\n\r\ntype GroupStatus =\r\n  | 'uncreated'\r\n  | 'openForm'\r\n  | 'checkAllowance'\r\n  | 'checkingAllowance'\r\n  | 'readyToApprove'\r\n  | 'readyToCreate'\r\n  | 'startApprove'\r\n  | 'startCreate'\r\n  | 'approving'\r\n  | 'creating'\r\n  | 'created'\r\n  | 'failed'\r\n\r\ntype GroupAdditionalInfo = {\r\n  name?: string\r\n  description?: string\r\n}\r\n\r\ntype GroupToken = {\r\n  address: string\r\n  name: string\r\n  amount: number\r\n}\r\n\r\ntype GroupType = {\r\n  id?: number\r\n  name?: string\r\n  txHash?: string\r\n  errorMessage?: string\r\n  status: GroupStatus\r\n  params: GroupParamsType\r\n  withdrawn?: boolean\r\n  totalContributions?: number\r\n  myContribution?: number\r\n  data?: any\r\n  tokens: GroupToken[] | undefined\r\n  verified?: boolean\r\n  additionalInfo?: GroupAdditionalInfo\r\n  isGroupManager?: boolean\r\n}\r\n\r\nexport type State = {\r\n  groupForm: GroupType\r\n  groups: GroupType[]\r\n}\r\n\r\nexport type Actions = {\r\n  getState: () => any\r\n  editGroupForm: (group: Partial<GroupType>) => void\r\n  updateGroup: (group: GroupType) => void\r\n  startEdit: () => void\r\n  updateStatus: (status: GroupStatus) => void\r\n  clearForm: () => void\r\n  startApprove: () => void\r\n  startCreate: () => void\r\n  checkAllowance: () => void\r\n  checkGroupAllowance: () => Promise<boolean>\r\n  setGroupParams: (params: Partial<GroupParamsType>) => void\r\n  getGroup: (groupId: number) => GroupType | undefined\r\n  addOrUpdateGroup: (groupId: number, group?: any) => void\r\n  onGroupUpdated: (eventName: string, groupId: number, transactionHash: string) => void\r\n  startGroup: (groupId: number) => void\r\n  finishGroup: (groupId: number) => void\r\n  abortGroup: (groupId: number) => void\r\n  approveJoinGroup: (groupId: number) => void\r\n  addFunds: (groupId: number, amount: number) => void\r\n  withdraw: (groupId: number) => void\r\n  reloadGroups: () => void\r\n  getTokenList: (tokenListId: number) => any\r\n  saveData: (key: string, value: string, type: string) => Promise<unknown>\r\n  updateGroupInfo: ({ groupId, name, description }: { groupId: number; name: string; description: string }) => void\r\n  fetchAdditionalInfo: () => void\r\n  addGroupManager: (groupId: number, manager: string) => void\r\n  removeGroupManager: (groupId: number, manager: string) => void\r\n  isGroupManager: (groupId: number, manager: string) => any\r\n}\r\n\r\ntype Action = {\r\n  key: string\r\n  value: GroupType\r\n}\r\n\r\nexport const GroupStateContext = createContext<State | undefined>(undefined)\r\nexport const GroupActionsContext = createContext<Actions | undefined>(undefined)\r\n\r\nfunction GroupReducer(state: State, action: Action): State {\r\n  console.debug('GroupReducer', action, action.value)\r\n\r\n  if (action.key === 'editGroupForm') {\r\n    return {\r\n      ...state,\r\n      groupForm: action.value\r\n    }\r\n  } else if (action.key === 'addOrUpdateGroup') {\r\n    const index = state.groups.findIndex(x => x.id === action.value.id)\r\n\r\n    if (index !== -1) {\r\n      const newGroups = [...state.groups]\r\n      newGroups[index] = action.value\r\n\r\n      return {\r\n        ...state,\r\n        groups: newGroups\r\n      }\r\n    } else {\r\n      return {\r\n        ...state,\r\n        groups: [...state.groups, action.value]\r\n      }\r\n    }\r\n  }\r\n\r\n  return state\r\n}\r\n\r\nconst defaultGroupForm: GroupType = {\r\n  id: undefined,\r\n  name: 'Pending',\r\n  status: 'uncreated',\r\n  params: {\r\n    tokenListId: 0,\r\n    maxRunTimeHours: 30 * 24,\r\n    startTimeoutHours: 7 * 24,\r\n    leaderProfitShareOutOf10000: 5 * 100,\r\n    leaderiFundCollateral: 10000,\r\n    requiredMemberiFundFee: 500,\r\n    minEthToStart: 10,\r\n    maxEthContribution: 100,\r\n    maxEthAcceptable: 100,\r\n    description: '',\r\n    name: ''\r\n  },\r\n  withdrawn: false,\r\n  isGroupManager: false,\r\n  tokens: undefined,\r\n  myContribution: 0,\r\n  totalContributions: 0,\r\n  data: {}\r\n}\r\n\r\ntype GroupProviderProps = {\r\n  value?: GroupType\r\n  children: React.ReactNode\r\n}\r\n\r\nlet latestTransactionHash: string | undefined = undefined\r\n\r\nconst ZeroAddress = '0x0000000000000000000000000000000000000000'\r\n\r\nconst getGroupFromContract = async (account: string, groupContract: Contract, groupId: number) => {\r\n  console.log('getGroupFromContract', account, groupContract, groupId)\r\n  const group = await groupContract.group(groupId, { from: account })\r\n  console.log(group)\r\n  const myContribution = await groupContract.groupContribution(groupId, account, { from: account })\r\n  console.log(myContribution)\r\n  let withdrawn = false\r\n  const isLeader = account.toLowerCase() === group.leader.toLowerCase()\r\n\r\n  if ((group.aborted || group.complete) && (myContribution > 0 || isLeader)) {\r\n    const address = group.aborted ? ZeroAddress : process.env.REACT_APP_WETH_ADDRESS\r\n    withdrawn = await groupContract.groupMemberWithdrawal(groupId, account, address, { from: account })\r\n  }\r\n\r\n  let isGroupManager = false\r\n  if (!group.aborted && !group.complete) {\r\n    isGroupManager = await groupContract.authorizedTrader(groupId, account, { from: account })\r\n  }\r\n\r\n  console.log({\r\n    group,\r\n    groupId,\r\n    myContribution,\r\n    withdrawn\r\n  })\r\n  return {\r\n    id: groupId,\r\n    description: group.description,\r\n    tokenListId: group.tokenListId,\r\n    maxRunTimeHours: group.maxRunTimeHours,\r\n    startTimeoutHours: group.startTimeout,\r\n    leaderProfitShareOutOf10000: group.leaderProfitShareOutOf10000,\r\n    leaderiFundCollateral: group.leaderiFundCollateral,\r\n    requiredMemberiFundFee: group.requiredMemberiFundFee,\r\n    maxEthContribution: group.maxEthContribution,\r\n    minEthToStart: group.minEthToStart,\r\n    maxEthAcceptable: group.maxEthAcceptable,\r\n    withdrawn: withdrawn,\r\n    isGroupManager: isGroupManager,\r\n    myContribution: myContribution,\r\n    totalContributions: group.totalContributions,\r\n    leader: group.leader,\r\n    data: group\r\n  }\r\n}\r\n\r\nconst loadGroups = async (web3: any, account: string) => {\r\n  // const myGroups = await GroupService.getMyGroups(web3, account)\r\n  // const openGroups = await GroupService.getOpenGroups(web3, account)\r\n  // const runningGroups = await GroupService.getRunningGroups(web3, account)\r\n  const otherGroups = await GroupService.getGroups(web3, account)\r\n\r\n  // https://loopring.org/#/post/looprings-new-approach-to-generating-layer-2-account-keys\r\n  // const account = web3.eth.accounts[0]\r\n  // const signature = await web3.eth.sign('Hello world', account)\r\n  // const signingAddress = web3.eth.accounts.recover('Hello world', signature)\r\n  // // account === signingAddress\r\n\r\n  return {\r\n    // myGroups,\r\n    // openGroups,\r\n    // runningGroups,\r\n    otherGroups\r\n  }\r\n}\r\n\r\nconst GroupProvider: React.FC<GroupProviderProps> = ({ value, children }) => {\r\n  const [state, dispatch, getState] = useEnhancedReducer(GroupReducer, {\r\n    groupForm: value || defaultGroupForm,\r\n    groups: []\r\n  })\r\n\r\n  // @ts-ignore\r\n  window.unistate = state\r\n\r\n  const { account } = useActiveWeb3React()\r\n  const web3 = useOldWeb3()\r\n  const tokenContract = useContract(process.env.REACT_APP_UNIFUND_ADDRESS!, ERC20Abi)\r\n  const groupContract = useContract(process.env.REACT_APP_UNIFUND_GROUP_ADDRESS!, UnifundGroupAbi) //getContract(process.env.REACT_APP_UNIFUND_GROUP_ADDRESS!, UnifundGroupAbi, library!, account!)\r\n  const addTransaction = useTransactionAdder()\r\n\r\n  const setGroupParams = (params: Partial<GroupParamsType>) => {\r\n    const state = getState()\r\n    const sanitizedParams: { [key: string]: any } = params\r\n\r\n    for (const key in sanitizedParams) {\r\n      if (typeof sanitizedParams[key] === 'number' && isNaN(sanitizedParams[key])) {\r\n        sanitizedParams[key] = 0\r\n      }\r\n    }\r\n\r\n    dispatch({\r\n      key: 'editGroupForm',\r\n      value: {\r\n        ...state.groupForm,\r\n        status: 'openForm',\r\n        params: {\r\n          ...state.groupForm.params,\r\n          ...sanitizedParams\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  const editGroupForm = (group: Partial<GroupType>) =>\r\n    dispatch({\r\n      key: 'editGroupForm',\r\n      value: {\r\n        ...getState().groupForm,\r\n        ...group\r\n      }\r\n    })\r\n\r\n  const updateStatus = (status: GroupStatus) =>\r\n    dispatch({\r\n      key: 'editGroupForm',\r\n      value: {\r\n        ...getState().groupForm,\r\n        status: status\r\n      }\r\n    })\r\n\r\n  const startEdit = () =>\r\n    dispatch({\r\n      key: 'editGroupForm',\r\n      value: {\r\n        ...getState().groupForm,\r\n        status: 'openForm'\r\n      }\r\n    })\r\n\r\n  const startApprove = () => {\r\n    updateStatus('approving')\r\n\r\n    tokenContract\r\n      ?.approve(process.env.REACT_APP_UNIFUND_GROUP_ADDRESS!, parseEther('30000000'), {\r\n        from: account\r\n      })\r\n      .then((tx: any) => {\r\n        addTransaction(tx)\r\n        updateStatus('readyToCreate')\r\n        // tx.wait().then((txReceipt: any) => {\r\n        //   if (txReceipt.status === 1) {\r\n        //     updateStatus('readyToCreate')\r\n        //   } else {\r\n        //     updateStatus('readyToApprove')\r\n        //   }\r\n        // })\r\n\r\n        return tx.hash\r\n      })\r\n      .catch((error: any) => {\r\n        updateStatus('readyToApprove')\r\n        // if the user rejected the tx, pass this along\r\n        if (error?.code !== 4001) {\r\n          // otherwise, the error was unexpected and we need to convey that\r\n          console.error(`Approve group failed`, error)\r\n          throw new Error(`Approve group failed: ${error.message}`)\r\n        }\r\n      })\r\n  }\r\n\r\n  const startCreate = () => {\r\n    updateStatus('creating')\r\n    const { groupForm } = state\r\n    const { params } = groupForm\r\n    const tokenListId = BigNumber.from(params.tokenListId)\r\n    const maxRunTimeHours = BigNumber.from(params.maxRunTimeHours)\r\n    const startTimeoutHours = BigNumber.from(params.startTimeoutHours)\r\n    const leaderProfitShareOutOf10000 = BigNumber.from(params.leaderProfitShareOutOf10000)\r\n    const leaderiFundCollateral = parseEther(params.leaderiFundCollateral.toString())\r\n    const requiredMemberiFundFee = parseEther(params.requiredMemberiFundFee.toString())\r\n    const maxEthContribution = parseEther(params.maxEthContribution.toString())\r\n    const minEthToStart = parseEther(params.minEthToStart.toString())\r\n    const maxEthAcceptable = parseEther(params.maxEthAcceptable.toString())\r\n    const description = params.description\r\n\r\n    groupContract\r\n      ?.create(\r\n        tokenListId,\r\n        maxRunTimeHours,\r\n        startTimeoutHours,\r\n        leaderProfitShareOutOf10000,\r\n        leaderiFundCollateral,\r\n        requiredMemberiFundFee,\r\n        maxEthContribution,\r\n        minEthToStart,\r\n        maxEthAcceptable,\r\n        description,\r\n        {\r\n          from: account\r\n        }\r\n      )\r\n      .then((tx: any) => {\r\n        const { groupForm } = getState()\r\n        //const { name, description } = groupForm.additionalInfo\r\n\r\n        addTransaction(tx)\r\n\r\n        editGroupForm({\r\n          ...groupForm,\r\n          txHash: tx.hash\r\n        })\r\n\r\n        tx.wait().then((txReceipt: any) => {\r\n          const { groupForm } = getState()\r\n\r\n          if (txReceipt.status === 1) {\r\n            const txEvent = txReceipt.events.pop()\r\n\r\n            const groupId: number = txEvent.args['groupId'].toNumber()\r\n\r\n            addOrUpdateGroup(groupId)\r\n\r\n            editGroupForm({\r\n              ...groupForm,\r\n              status: 'created',\r\n              id: groupId\r\n            })\r\n\r\n            // updateGroupInfo({\r\n            //   groupId,\r\n            //   name,\r\n            //   description\r\n            // })\r\n          } else {\r\n            editGroupForm({\r\n              ...groupForm,\r\n              status: 'failed',\r\n              errorMessage: 'Error creating the group. Please check the form and try again.'\r\n            })\r\n          }\r\n\r\n          // addPopup(\r\n          //   {\r\n          //     txn: {\r\n          //       hash,\r\n          //       success: receipt.status === 1,\r\n          //       summary: transactions[hash]?.summary\r\n          //     }\r\n          //   },\r\n          //   hash\r\n          // )\r\n        })\r\n\r\n        return tx.hash\r\n      })\r\n      .catch((error: any) => {\r\n        updateStatus('readyToCreate')\r\n        // if the user rejected the tx, pass this along\r\n        if (error?.code !== 4001) {\r\n          // otherwise, the error was unexpected and we need to convey that\r\n          console.error(`Create group failed`, error)\r\n          const { groupForm } = getState()\r\n          editGroupForm({\r\n            ...groupForm,\r\n            status: 'failed',\r\n            errorMessage: `Error creating the group. Please check the form and try again. Details: ${error.message}`\r\n          })\r\n        }\r\n      })\r\n  }\r\n\r\n  const getGroup = (groupId: number): GroupType | undefined => {\r\n    const state = getState()\r\n    return state.groups.find((x: any) => x.id === groupId)\r\n  }\r\n\r\n  const updateGroup = (group: GroupType) =>\r\n    dispatch({\r\n      key: 'addOrUpdateGroup',\r\n      value: group\r\n    })\r\n\r\n  const clearForm = () =>\r\n    dispatch({\r\n      key: 'uncreated',\r\n      value: defaultGroupForm\r\n    })\r\n\r\n  const onGroupUpdated = async (eventName: string, groupId: number, transactionHash: string) => {\r\n    if (latestTransactionHash === transactionHash) {\r\n      // ignore duplicate events\r\n      return\r\n    }\r\n\r\n    latestTransactionHash = transactionHash\r\n\r\n    if (state.groupForm.txHash === transactionHash) {\r\n      clearForm()\r\n    }\r\n\r\n    await addOrUpdateGroup(groupId)\r\n  }\r\n\r\n  const addOrUpdateGroup = async (groupId: number, group?: any) => {\r\n    if (!group) {\r\n      group = await getGroupFromContract(account!, groupContract!, groupId)\r\n    }\r\n\r\n    // const tokens = []\r\n    // const tokenCount = await GroupService.tokenListTokenCount(group.data.tokenListId, web3, account!)\r\n\r\n    // for (let i = 0; i < tokenCount; i++) {\r\n    //   const tokenAddress = await GroupService.tokenListToken(group.data.tokenListId, i, web3, account!)\r\n    //   const tokenName = await GroupService.getTokenName(tokenAddress, web3, account!)\r\n\r\n    //   tokens.push({\r\n    //     name: tokenName,\r\n    //     address: tokenAddress\r\n    //   })\r\n    // }\r\n    setTimeout(() => {\r\n      GroupService.tokensWithBalances(groupId, web3, account!).then(async tokenAddresses => {\r\n        const tokens = []\r\n        for (const tokenAddress of tokenAddresses) {\r\n          const tokenBalance = await GroupService.groupBalance(groupId, tokenAddress, web3, account!)\r\n          const tokenName = await GroupService.getTokenName(tokenAddress, web3, account!)\r\n          const tokenSymbol = await GroupService.getTokenSymbol(tokenAddress, web3, account!)\r\n          if (tokenBalance > 0) {\r\n            tokens.push({\r\n              name: tokenName,\r\n              address: tokenAddress,\r\n              symbol: tokenSymbol,\r\n              amount: parseFloat(formatEther(tokenBalance))\r\n            })\r\n          }\r\n        }\r\n        const group = getGroup(groupId)\r\n\r\n        dispatch({\r\n          key: 'addOrUpdateGroup',\r\n          value: {\r\n            ...group,\r\n            tokens\r\n          }\r\n        })\r\n      })\r\n    }, 100)\r\n\r\n    dispatch({\r\n      key: 'addOrUpdateGroup',\r\n      value: {\r\n        id: groupId,\r\n        status: 'created',\r\n        params: {\r\n          description: group.description,\r\n          tokenListId: group.tokenListId.toNumber(),\r\n          maxRunTimeHours: group.maxRunTimeHours,\r\n          startTimeoutHours: group.startTimeoutHours, // todo fix 1600048707\r\n          leaderProfitShareOutOf10000: group.leaderProfitShareOutOf10000,\r\n          leaderiFundCollateral: parseFloat(formatEther(group.leaderiFundCollateral)),\r\n          requiredMemberiFundFee: parseFloat(formatEther(group.requiredMemberiFundFee)),\r\n          maxEthContribution: parseFloat(formatEther(group.maxEthContribution)),\r\n          minEthToStart: parseFloat(formatEther(group.minEthToStart)),\r\n          maxEthAcceptable: parseFloat(formatEther(group.maxEthAcceptable))\r\n        },\r\n        data: group.data,\r\n        withdrawn: group.withdrawn,\r\n        isGroupManager: group.isGroupManager,\r\n        myContribution: parseFloat(formatEther(group.myContribution)),\r\n        totalContributions: parseFloat(formatEther(group.totalContributions)),\r\n        tokens: group.tokens\r\n      }\r\n    })\r\n  }\r\n\r\n  const startGroup = async (groupId: number) => {\r\n    await GroupService.startGroup(groupId, web3, account!)\r\n  }\r\n\r\n  const finishGroup = async (groupId: number) => {\r\n    await GroupService.finishGroup(groupId, web3, account!)\r\n  }\r\n\r\n  const abortGroup = async (groupId: number) => {\r\n    await GroupService.abortGroup(groupId, web3, account!)\r\n  }\r\n\r\n  const checkGroupAllowance = async () => {\r\n    return await GroupService.checkGroupAllowance(state.groupForm.params.leaderiFundCollateral, web3, account!)\r\n  }\r\n\r\n  const approveGroup = async (groupId: number) => {\r\n    await GroupService.approveGroup(\r\n      parseEther('30000000'), //group.data.requiredMemberiFundFee,\r\n      web3,\r\n      account!\r\n    )\r\n  }\r\n\r\n  const approveJoinGroup = async (groupId: number) => {\r\n    const group = getGroup(groupId)!\r\n\r\n    await GroupService.approveJoinGroup(\r\n      groupId,\r\n      parseEther('30000000'), //group.data.requiredMemberiFundFee,\r\n      AccountService.isGroupLeader(group, account!),\r\n      web3,\r\n      account!\r\n    )\r\n  }\r\n\r\n  const addFunds = async (groupId: number, value: number) => {\r\n    const group = getGroup(groupId)!\r\n    await GroupService.joinGroup(\r\n      groupId,\r\n      value,\r\n      parseEther('30000000'), //group.data.requiredMemberiFundFee,\r\n      AccountService.isGroupLeader(group, account!),\r\n      web3,\r\n      account!\r\n    )\r\n  }\r\n\r\n  const withdraw = async (groupId: number) => {\r\n    const group = getGroup(groupId)!\r\n    await GroupService.withdraw(groupId, group.data.aborted, web3, account!)\r\n    await addOrUpdateGroup(groupId)\r\n  }\r\n\r\n  const checkAllowance = async () => {\r\n    updateStatus('checkingAllowance')\r\n    const allowance = await tokenContract?.allowance(account!, process.env.REACT_APP_UNIFUND_GROUP_ADDRESS!, {\r\n      from: account\r\n    })\r\n    console.log('mmm', allowance.toString())\r\n    if (allowance.gte(state.groupForm.params.leaderiFundCollateral)) {\r\n      updateStatus('readyToCreate')\r\n    } else {\r\n      updateStatus('readyToApprove')\r\n    }\r\n  }\r\n\r\n  const addGroupManager = async (groupId: number, manager: string) =>\r\n    await GroupService.addAuthorizedTrader(groupId, manager, web3, account!)\r\n  const removeGroupManager = async (groupId: number, manager: string) =>\r\n    await GroupService.removeAuthorizedTrader(groupId, manager, web3, account!)\r\n  const isGroupManager = async (groupId: number, manager: string) =>\r\n    await GroupService.isAuthorizedTrader(groupId, manager, web3, account!)\r\n\r\n  const getTokenList = async (tokenListId: number) => {\r\n    return GroupService.getTokenList(tokenListId, web3, account!)\r\n  }\r\n\r\n  // @ts-ignore\r\n  window.addOrUpdateGroup = addOrUpdateGroup\r\n\r\n  const reloadGroups = async () => {\r\n    if (!web3 || !account) return\r\n\r\n    const { otherGroups } = await loadGroups(web3, account!)\r\n\r\n    otherGroups\r\n      // openGroups\r\n      // .concat(runningGroups)\r\n      // .filter((item: any) => !myGroups.find((x: any) => x.groupId === item.groupId))\r\n      // .concat(myGroups)\r\n      .filter((item: any) => item.group.tokenListId === '0')\r\n      .forEach((item: any) => {\r\n        addOrUpdateGroup(parseInt(item.groupId), {\r\n          id: parseInt(item.groupId),\r\n          description: item.group.description,\r\n          tokenListId: BigNumber.from(item.group.tokenListId),\r\n          maxRunTimeHours: item.group.maxRunTimeHours,\r\n          startTimeoutHours: item.group.startTimeout,\r\n          leaderProfitShareOutOf10000: item.group.leaderProfitShareOutOf10000,\r\n          leaderiFundCollateral: BigNumber.from(item.group.leaderiFundCollateral),\r\n          requiredMemberiFundFee: BigNumber.from(item.group.requiredMemberiFundFee),\r\n          maxEthContribution: BigNumber.from(item.group.maxEthContribution),\r\n          minEthToStart: BigNumber.from(item.group.minEthToStart),\r\n          maxEthAcceptable: BigNumber.from(item.group.maxEthAcceptable),\r\n          withdrawn: item.withdrawn,\r\n          isGroupManager: item.isGroupManager,\r\n          myContribution: BigNumber.from(item.myContribution),\r\n          totalContributions: BigNumber.from(item.group.totalContributions),\r\n          leader: item.group.leader,\r\n          data: item.group\r\n        })\r\n      })\r\n  }\r\n\r\n  const saveData = async (key: string, value: string, type: string) => {\r\n    return new Promise((resolve, reject) => {\r\n      // send .key and .value to sheet\r\n      const bodyFormData = new FormData()\r\n\r\n      bodyFormData.set('entry.2067540436', key)\r\n      bodyFormData.set('entry.401305064', value)\r\n      bodyFormData.set('entry.712061620', type)\r\n\r\n      axios('https://docs.google.com/forms/d/1FAIpQLSfZuxxsugOdrWHpucfjx1Mavjl6x8_vI66ZbiMFFpD9LZ5wvw/formResponse', {\r\n        method: 'post',\r\n        data: bodyFormData,\r\n        headers: { 'Content-Type': 'multipart/form-data' }\r\n      })\r\n        .then(res => {\r\n          resolve()\r\n        })\r\n        .catch(err => {\r\n          reject('An error occurred.')\r\n        })\r\n    })\r\n  }\r\n\r\n  const fetchAdditionalInfo = async () => {\r\n    const sheetUrl =\r\n      'https://spreadsheets.google.com/feeds/list/1TBlZP_LNmn_v-ZasvU8B7hSTjGbOSO5_oGsgkgRs588/1/public/values?alt=json'\r\n\r\n    axios(sheetUrl, {\r\n      method: 'get'\r\n    })\r\n      .then(res => {\r\n        const entries = res.data.feed.entry\r\n        try {\r\n          for (const i in entries) {\r\n            const entry = entries[i]\r\n            const key = entry.gsx$key.$t\r\n            const type = entry.gsx$type.$t\r\n            const verified = entry.gsx$verified.$t === '1'\r\n            let value = entry.gsx$value.$t\r\n            if (type === 'int32') {\r\n              value = Number(value)\r\n            } else if (type === 'boolean') {\r\n              value = Boolean(value)\r\n            } else if (type === 'json') {\r\n              value = JSON.parse(value)\r\n            }\r\n\r\n            if (key === 'additionalGroupInfo') {\r\n              const additionalInfo = value.data\r\n              const group = getGroup(value.groupId)!\r\n\r\n              if (group) {\r\n                const signingAddress = sigUtil.recoverPersonalSignature({\r\n                  data: 'Additional Info: ' + JSON.stringify(additionalInfo, undefined, 4),\r\n                  sig: value.signature\r\n                })\r\n                //const signingAddress = web3!.personal.recover('Update: additionalGroupInfo', additionalInfo.signature)\r\n                if (signingAddress.toLowerCase() === group.data.leader.toLowerCase()) {\r\n                  dispatch({\r\n                    key: 'addOrUpdateGroup',\r\n                    value: {\r\n                      ...group,\r\n                      verified,\r\n                      additionalInfo: {\r\n                        ...group.additionalInfo,\r\n                        ...additionalInfo\r\n                      }\r\n                    }\r\n                  })\r\n                }\r\n              }\r\n            }\r\n          }\r\n        } catch (e) {\r\n          console.log(e)\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(\r\n          `Could not contact external state service. Please contact support with this error: ${JSON.stringify(err)}`\r\n        )\r\n      })\r\n  }\r\n\r\n  const updateGroupInfo = async ({\r\n    groupId,\r\n    name,\r\n    description\r\n  }: {\r\n    groupId: number\r\n    name: string\r\n    description: string\r\n  }) => {\r\n    const additionalInfo = {\r\n      name,\r\n      description\r\n    }\r\n    const from = account!\r\n    const text = 'Additional Info: ' + JSON.stringify(additionalInfo, undefined, 4)\r\n    const msg = ethUtil.bufferToHex(new Buffer(text, 'utf8'))\r\n    const params = [msg, from]\r\n    const method = 'personal_sign'\r\n\r\n    // @ts-ignore\r\n    return web3!.currentProvider!.sendAsync(\r\n      {\r\n        method,\r\n        params,\r\n        from\r\n      },\r\n      function(err: any, result: any) {\r\n        if (err) return console.error(err)\r\n        if (result.error) return console.error(result.error)\r\n\r\n        const signature = result.result\r\n\r\n        const additionalInfo = {\r\n          groupId,\r\n          signature,\r\n          data: {\r\n            name,\r\n            description\r\n          }\r\n        }\r\n        console.debug('Saving data', JSON.stringify(additionalInfo))\r\n        //saveData('additionalGroupInfo', JSON.stringify(additionalInfo), 'json')\r\n      }\r\n    )\r\n    // @ts-ignore\r\n    //const signature = await web3!.personal.sign('Update: additionalGroupInfo', account!.toLowerCase())\r\n  }\r\n\r\n  useEffect(() => {\r\n    async function init() {\r\n      await reloadGroups()\r\n      //await fetchAdditionalInfo()\r\n    }\r\n\r\n    init()\r\n  }, [account])\r\n\r\n  const actions = {\r\n    getState,\r\n    getGroup,\r\n    reloadGroups,\r\n    clearForm,\r\n    addOrUpdateGroup,\r\n    updateGroup,\r\n    editGroupForm,\r\n    setGroupParams,\r\n    checkAllowance,\r\n    startEdit,\r\n    updateStatus,\r\n    startApprove,\r\n    startCreate,\r\n    onGroupUpdated,\r\n    startGroup,\r\n    finishGroup,\r\n    abortGroup,\r\n    checkGroupAllowance,\r\n    approveGroup,\r\n    approveJoinGroup,\r\n    addFunds,\r\n    withdraw,\r\n    getTokenList,\r\n    updateGroupInfo,\r\n    saveData,\r\n    fetchAdditionalInfo,\r\n    addGroupManager,\r\n    removeGroupManager,\r\n    isGroupManager\r\n  }\r\n\r\n  return (\r\n    <GroupStateContext.Provider value={state}>\r\n      <GroupActionsContext.Provider value={actions}>{children}</GroupActionsContext.Provider>\r\n    </GroupStateContext.Provider>\r\n  )\r\n}\r\n\r\nfunction useGroupState() {\r\n  const state = React.useContext(GroupStateContext)\r\n\r\n  if (state === undefined) {\r\n    throw new Error('useGroupState must be used within a GroupProvider')\r\n  }\r\n\r\n  return state\r\n}\r\n\r\nfunction useGroupActions() {\r\n  const actions = React.useContext(GroupActionsContext)\r\n\r\n  if (actions === undefined) {\r\n    throw new Error('useGroupActions must be used within a GroupProvider')\r\n  }\r\n\r\n  return actions\r\n}\r\n\r\nfunction useGroup(): [State, Actions] {\r\n  return [useGroupState(), useGroupActions()]\r\n}\r\n\r\ninterface ConsumerProps {\r\n  children: (state: State | undefined, actions: Actions | undefined) => React.ReactNode\r\n}\r\nconst GroupConsumer: React.FC<ConsumerProps> = ({ children }) => {\r\n  return (\r\n    <GroupStateContext.Consumer>\r\n      {state => {\r\n        if (state === undefined) {\r\n          throw new Error('GroupConsumer must be used within a GroupProvider')\r\n        }\r\n        return (\r\n          <GroupActionsContext.Consumer>\r\n            {actions => {\r\n              if (actions === undefined) {\r\n                throw new Error('GroupConsumer must be used within a GroupProvider')\r\n              }\r\n              return children(state, actions)\r\n            }}\r\n          </GroupActionsContext.Consumer>\r\n        )\r\n      }}\r\n    </GroupStateContext.Consumer>\r\n  )\r\n}\r\n\r\n// TODO: get rid of this bullshit later\r\nfunction GroupUpdater() {\r\n  const { groupForm } = useGroupState()\r\n  const { onGroupUpdated, reloadGroups, editGroupForm } = useGroupActions()\r\n  const groupContract = useContract(process.env.REACT_APP_UNIFUND_GROUP_ADDRESS!, UnifundGroupAbi) //getContract(process.env.REACT_APP_UNIFUND_GROUP_ADDRESS!, UnifundGroupAbi, library!, account!)\r\n\r\n  useEffect(() => {\r\n    groupContract?.on('*', async (event: any) => {\r\n      console.log('eventHandler', event, event.args)\r\n      if (event.event === 'GroupCreated') {\r\n        const groupId: BigNumber = event.args.groupId\r\n\r\n        onGroupUpdated(event.event, groupId.toNumber(), event.transactionHash)\r\n\r\n        if (event.transactionHash === groupForm.txHash) {\r\n          editGroupForm({\r\n            ...groupForm,\r\n            status: 'created',\r\n            id: groupId.toNumber()\r\n          })\r\n        }\r\n      } else if (['GroupStarted', 'GroupAborted', 'GroupFinished', 'GroupContribution'].includes(event.event)) {\r\n        reloadGroups()\r\n      }\r\n    })\r\n  }, [groupContract])\r\n\r\n  return null\r\n}\r\n\r\nexport { GroupProvider, GroupConsumer, GroupUpdater, useGroup, useGroupState, useGroupActions }\r\n","import { ChainId } from 'src/sdk'\r\nimport MULTICALL_ABI from './Multicall.abi.json'\r\n\r\nconst MULTICALL_NETWORKS: { [chainId in ChainId]: string } = {\r\n  [ChainId.MAINNET]: '0xeefBa1e63905eF1D7ACbA5a8513c70307C1cE441',\r\n  [ChainId.ROPSTEN]: '0x53C43764255c17BD724F74c4eF150724AC50a3ed',\r\n  [ChainId.KOVAN]: '0x2cc8688C5f75E365aaEEb4ea8D6a480405A48D2A',\r\n  [ChainId.RINKEBY]: '0x42Ad527de7d4e9d9d011aC45B31D8551f8Fe9821',\r\n  [ChainId.GÃ–RLI]: '0x77dCa2C955b15e9dE4dbBCf1246B4B85b651e50e',\r\n  [ChainId.LOCAL]: process.env.REACT_APP_MULTICALL_ADDRESS!\r\n}\r\n\r\nexport { MULTICALL_ABI, MULTICALL_NETWORKS }\r\n","import { Contract } from '@ethersproject/contracts'\r\nimport { ChainId, WETH } from 'src/sdk'\r\nimport { abi as IUniswapV2PairABI } from '@uniswap/v2-core/build/IUniswapV2Pair.json'\r\nimport { useMemo } from 'react'\r\nimport ENS_ABI from '../constants/abis/ens-registrar.json'\r\nimport ENS_PUBLIC_RESOLVER_ABI from '../constants/abis/ens-public-resolver.json'\r\nimport { ERC20_BYTES32_ABI } from '../constants/abis/erc20'\r\nimport ERC20_ABI from '../constants/abis/erc20.json'\r\nimport UNISOCKS_TOKEN_ABI from '../constants/abis/erc20.json'\r\nimport UNIFUND_GROUP_ABI from '../constants/unifund/UnifundGroup.abi.json'\r\nimport UNISOCKS_ABI from '../constants/abis/unisocks.json'\r\nimport WETH_ABI from '../constants/abis/weth.json'\r\nimport { MULTICALL_ABI, MULTICALL_NETWORKS } from '../constants/multicall'\r\nimport { getContract } from '../utils'\r\nimport { useActiveWeb3React } from './index'\r\n\r\n// returns null on errors\r\nexport function useContract(address: string | undefined, ABI: any, withSignerIfPossible = true): Contract | null {\r\n  const { library, account } = useActiveWeb3React()\r\n\r\n  return useMemo(() => {\r\n    if (!address || !ABI || !library) return null\r\n    try {\r\n      return getContract(address, ABI, library, withSignerIfPossible && account ? account : undefined)\r\n    } catch (error) {\r\n      console.error('Failed to get contract', error)\r\n      return null\r\n    }\r\n  }, [address, ABI, library, withSignerIfPossible, account])\r\n}\r\n\r\nexport function useTokenContract(tokenAddress?: string, withSignerIfPossible?: boolean): Contract | null {\r\n  return useContract(tokenAddress, ERC20_ABI, withSignerIfPossible)\r\n}\r\n\r\n// @ts-ignore\r\nWETH[1337] = { address: process.env.REACT_APP_WETH_ADDRESS }\r\n\r\nexport function useWETHContract(withSignerIfPossible?: boolean): Contract | null {\r\n  const { chainId } = useActiveWeb3React()\r\n  return useContract(chainId ? WETH[chainId].address : undefined, WETH_ABI, withSignerIfPossible)\r\n}\r\n\r\nexport function useENSRegistrarContract(withSignerIfPossible?: boolean): Contract | null {\r\n  const { chainId } = useActiveWeb3React()\r\n  let address: string | undefined\r\n  if (chainId) {\r\n    switch (chainId) {\r\n      case ChainId.MAINNET:\r\n      case ChainId.GÃ–RLI:\r\n      case ChainId.ROPSTEN:\r\n      case ChainId.RINKEBY:\r\n        address = '0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e'\r\n        break\r\n    }\r\n  }\r\n  return useContract(address, ENS_ABI, withSignerIfPossible)\r\n}\r\n\r\nexport function useENSResolverContract(address: string | undefined, withSignerIfPossible?: boolean): Contract | null {\r\n  return useContract(address, ENS_PUBLIC_RESOLVER_ABI, withSignerIfPossible)\r\n}\r\n\r\nexport function useBytes32TokenContract(tokenAddress?: string, withSignerIfPossible?: boolean): Contract | null {\r\n  return useContract(tokenAddress, ERC20_BYTES32_ABI, withSignerIfPossible)\r\n}\r\n\r\nexport function usePairContract(pairAddress?: string, withSignerIfPossible?: boolean): Contract | null {\r\n  return useContract(pairAddress, IUniswapV2PairABI, withSignerIfPossible)\r\n}\r\n\r\nexport function useMulticallContract(): Contract | null {\r\n  const { chainId } = useActiveWeb3React()\r\n  // console.log(\r\n  //   chainId ? MULTICALL_NETWORKS[chainId] : '',\r\n  //   process.env.MULTICALL_ADDRESS,\r\n  //   MULTICALL_NETWORKS,\r\n  //   process.env\r\n  // )\r\n  return useContract(chainId && MULTICALL_NETWORKS[chainId], MULTICALL_ABI, false)\r\n}\r\n\r\nexport function useSocksController(): Contract | null {\r\n  return useContract(process.env.REACT_APP_UNIFUND_ADDRESS, UNISOCKS_ABI, false)\r\n}\r\n\r\nexport function useGroupContract(): Contract | null {\r\n  return useContract(process.env.REACT_APP_UNIFUND_GROUP_ADDRESS, UNIFUND_GROUP_ABI, false)\r\n}\r\n\r\nexport function useUnifundContract(): Contract | null {\r\n  return useContract(process.env.REACT_APP_UNIFUND_ADDRESS, UNISOCKS_TOKEN_ABI, false)\r\n}\r\n","import UnifundGroupAbi from '../constants/unifund/UnifundGroup.abi.json'\r\nimport UnifundGroupHelperLibraryAbi from '../constants/unifund/UnifundGroupHelperLibrary.abi.json'\r\nimport ERC20Abi from '../constants/abis/erc20.json'\r\nimport { BigNumber } from '@ethersproject/bignumber'\r\n\r\nconst ZeroAddress = '0x0000000000000000000000000000000000000000'\r\n\r\nexport const getMyGroups = async (web3: any, account: string) => {\r\n  const groupContract = new web3.eth.Contract(UnifundGroupAbi, process.env.REACT_APP_UNIFUND_GROUP_ADDRESS!)\r\n  const groupHelperContract = new web3.eth.Contract(\r\n    UnifundGroupHelperLibraryAbi,\r\n    process.env.REACT_APP_UNIFUND_GROUP_LIBRARY_ADDRESS!\r\n  )\r\n\r\n  const groupCount = await groupContract.methods.groupCount().call({ from: account })\r\n  let myGroupIds: any = []\r\n\r\n  // member\r\n  let result = await groupHelperContract.methods.memberOfGroupIds(account, 0).call({ from: account })\r\n  myGroupIds = myGroupIds.concat(result.groupIds)\r\n  while (result.nextGroupId < groupCount) {\r\n    result = await groupHelperContract.methods.memberOfGroupIds(account, result?.nextGroupId).call({ from: account })\r\n    myGroupIds = myGroupIds.concat(result.groupIds)\r\n  }\r\n\r\n  // leader\r\n  const leaderGroupsCount = await groupContract.methods.groupIdsByLeaderCount(account).call({ from: account })\r\n  let groupIds = await groupHelperContract.methods.leaderOfGroupIds(account, 0).call({ from: account })\r\n  while (groupIds.length < leaderGroupsCount) {\r\n    groupIds = groupIds.concat(\r\n      await groupHelperContract.methods.leaderOfGroupIds(account, groupIds.length).call({ from: account })\r\n    )\r\n  }\r\n  const myGroupIdsSet = new Set(myGroupIds.concat(groupIds))\r\n  myGroupIds = [...myGroupIdsSet]\r\n\r\n  const myGroups: any = []\r\n  myGroupIds\r\n    .sort()\r\n    .reverse()\r\n    .forEach(async (groupId: number) => {\r\n      const group = await groupContract.methods.group(groupId).call({ from: account })\r\n      const myContribution = await groupContract.methods.groupContribution(groupId, account).call({ from: account })\r\n      const address = group.aborted ? ZeroAddress : process.env.REACT_APP_WETH_ADDRESS\r\n\r\n      const withdrawn =\r\n        group.aborted || group.complete\r\n          ? await groupContract.methods.groupMemberWithdrawal(groupId, account, address).call({ from: account })\r\n          : false\r\n\r\n      myGroups.push({\r\n        group: group,\r\n        groupId: groupId.toString(),\r\n        myContribution: myContribution,\r\n        withdrawn: withdrawn\r\n      })\r\n    })\r\n\r\n  return myGroups\r\n}\r\n\r\nexport const getOpenGroups = async (web3: any, account: string) => {\r\n  const groupContract = new web3.eth.Contract(UnifundGroupAbi, process.env.REACT_APP_UNIFUND_GROUP_ADDRESS!)\r\n  const groupHelperContract = new web3.eth.Contract(\r\n    UnifundGroupHelperLibraryAbi,\r\n    process.env.REACT_APP_UNIFUND_GROUP_LIBRARY_ADDRESS!\r\n  )\r\n  const openGroupsCount = await groupContract.methods.groupIdsBeingStartedCount().call({ from: account })\r\n  const openGroups: any = []\r\n\r\n  if (openGroupsCount === 0) {\r\n    return openGroups\r\n  }\r\n\r\n  let groupIds = await groupHelperContract.methods.groupIdsBeingStarted(0).call({ from: account })\r\n  while (groupIds.length < openGroupsCount) {\r\n    groupIds = groupIds.concat(\r\n      await groupHelperContract.methods.groupIdsBeingStarted(account, groupIds.length).call({ from: account })\r\n    )\r\n  }\r\n  const set = new Set(groupIds)\r\n  const openGroupIds = [...set]\r\n\r\n  openGroupIds\r\n    .sort()\r\n    .reverse()\r\n    .forEach(async (groupId: any) => {\r\n      const group = await groupContract.methods.group(groupId).call({ from: account })\r\n      openGroups.push({ \r\n        group: group, \r\n        groupId: groupId.toString(), \r\n        myContribution: 0, \r\n        withdrawn: false,\r\n        isGroupManager: await groupContract.methods.authorizedTrader(groupId, account).call({ from: account })\r\n       })\r\n    })\r\n\r\n  return openGroups\r\n}\r\n\r\nexport const getRunningGroups = async (web3: any, account: string) => {\r\n  const groupContract = new web3.eth.Contract(UnifundGroupAbi, process.env.REACT_APP_UNIFUND_GROUP_ADDRESS!)\r\n  const groupHelperContract = new web3.eth.Contract(\r\n    UnifundGroupHelperLibraryAbi,\r\n    process.env.REACT_APP_UNIFUND_GROUP_LIBRARY_ADDRESS!\r\n  )\r\n  const runningGroupsCount = await groupContract.methods.groupIdsRunningCount().call({ from: account })\r\n  const runningGroups: any = []\r\n\r\n  if (runningGroupsCount === 0) {\r\n    return runningGroups\r\n  }\r\n\r\n  let groupIds = await groupHelperContract.methods.groupIdsRunning(0).call({ from: account })\r\n  while (groupIds.length < runningGroupsCount) {\r\n    groupIds = groupIds.concat(\r\n      await groupHelperContract.methods.groupIdsRunning(account, groupIds.length).call({ from: account })\r\n    )\r\n  }\r\n  const set: Set<number> = new Set(groupIds)\r\n  const runningGroupIds: number[] = [...set]\r\n\r\n  runningGroupIds\r\n    .sort()\r\n    .reverse()\r\n    .forEach(async (groupId: number) => {\r\n      const group = await groupContract.methods.group(groupId).call({ from: account })\r\n      runningGroups.push({\r\n        group: group,\r\n        groupId: groupId.toString(),\r\n        myContribution: 0,\r\n        withdrawn: false,\r\n        isGroupManager: await groupContract.methods.authorizedTrader(groupId, account).call({ from: account })\r\n      })\r\n    })\r\n\r\n  return runningGroups\r\n}\r\n\r\nexport const getGroups = async (web3: any, account: string) => {\r\n  const groupContract = new web3.eth.Contract(UnifundGroupAbi, process.env.REACT_APP_UNIFUND_GROUP_ADDRESS!)\r\n\r\n  const groupCount = await groupContract.methods.groupCount().call({ from: account })\r\n  const groups = []\r\n\r\n  for (let i = groupCount - 1; i >= 0; i--) {\r\n    const groupId = i.toString()\r\n    const group = await groupContract.methods.group(i).call({ from: account })\r\n    const myContribution = await groupContract.methods.groupContribution(i, account).call({ from: account })\r\n    let withdrawn = false\r\n    const isLeader = account.toLowerCase() === group.leader.toLowerCase()\r\n    if ((group.aborted || group.complete) && (myContribution > 0 || isLeader)) {\r\n      const address = group.aborted ? ZeroAddress : process.env.REACT_APP_WETH_ADDRESS\r\n\r\n      withdrawn =\r\n        group.aborted || group.complete\r\n          ? await groupContract.methods.groupMemberWithdrawal(groupId, account, address).call({ from: account })\r\n          : false\r\n    }\r\n\r\n    let isGroupManager = false\r\n    if (!group.aborted && !group.complete){\r\n      isGroupManager = await groupContract.methods.authorizedTrader(groupId, account).call({ from: account })\r\n    }    \r\n\r\n    groups.push({\r\n      group,\r\n      groupId,\r\n      myContribution,\r\n      withdrawn,\r\n      isGroupManager\r\n    })\r\n  }\r\n  return groups\r\n}\r\n\r\nexport const getGroup = async (groupId: number, web3: any, account: string) => {\r\n  const groupContract = new web3.eth.Contract(UnifundGroupAbi, process.env.REACT_APP_UNIFUND_GROUP_ADDRESS!)\r\n  const group = await groupContract.methods.group(groupId).call({ from: account })\r\n  const myContribution = await groupContract.methods.groupContribution(groupId, account).call({ from: account })\r\n  let withdrawn = false\r\n  const isLeader = account.toLowerCase() === group.leader.toLowerCase()\r\n  if ((group.aborted || group.complete) && (myContribution > 0 || isLeader)) {\r\n    const address = group.aborted ? ZeroAddress : process.env.REACT_APP_WETH_ADDRESS\r\n    withdrawn = await groupContract.methods.groupMemberWithdrawal(groupId, account, address).call({ from: account })\r\n  }\r\n\r\n  let isGroupManager = false\r\n  if (!group.aborted && !group.complete){\r\n    isGroupManager = await groupContract.methods.authorizedTrader(groupId, account).call({ from: account })\r\n  }    \r\n\r\n  return {\r\n    group: group,\r\n    groupId: groupId,\r\n    myContribution: myContribution,\r\n    withdrawn: withdrawn,\r\n    isGroupManager: isGroupManager\r\n  }\r\n}\r\n\r\nexport const checkGroupAllowance = async (leaderiFundCollateral: BigNumber, web3: any, account: string) => {\r\n  const unifundContract = new web3.eth.Contract(ERC20Abi, process.env.REACT_APP_UNIFUND_ADDRESS!)\r\n\r\n  const allowance = new web3.utils.BN(\r\n    (\r\n      await unifundContract.methods\r\n        .allowance(account, process.env.REACT_APP_UNIFUND_GROUP_ADDRESS)\r\n        .call({ from: account })\r\n    ).toString()\r\n  )\r\n  if (allowance.lt(leaderiFundCollateral)) {\r\n    return false\r\n  }\r\n  return true\r\n}\r\n\r\nexport const approveGroup = async (leaderiFundCollateral: BigNumber, web3: any, account: string) => {\r\n  const unifundContract = new web3.eth.Contract(ERC20Abi, process.env.REACT_APP_UNIFUND_ADDRESS!)\r\n\r\n  const allowance = new web3.utils.BN(\r\n    (\r\n      await unifundContract.methods\r\n        .allowance(account, process.env.REACT_APP_UNIFUND_GROUP_ADDRESS)\r\n        .call({ from: account })\r\n    ).toString()\r\n  )\r\n  if (allowance.lt(leaderiFundCollateral)) {\r\n    await unifundContract.methods\r\n      .approve(process.env.REACT_APP_UNIFUND_GROUP_ADDRESS, leaderiFundCollateral)\r\n      .send({ from: account })\r\n  }\r\n}\r\n\r\nexport const createGroup = async (\r\n  tokenListId: number,\r\n  maxRuntime: number,\r\n  startTimeout: number,\r\n  leaderProfitPercentage: number,\r\n  leaderiFundCollateral: number,\r\n  memberFee: number,\r\n  maxEthContributionGroup: number,\r\n  minEthToStart: number,\r\n  maxEth: number,\r\n  description: string,\r\n  web3: any,\r\n  account: string\r\n) => {\r\n  const unifundContract = new web3.eth.Contract(ERC20Abi, process.env.REACT_APP_UNIFUND_ADDRESS!)\r\n  const groupContract = new web3.eth.Contract(UnifundGroupAbi, process.env.REACT_APP_UNIFUND_GROUP_ADDRESS!)\r\n\r\n  const allowance = new web3.utils.BN(\r\n    (\r\n      await unifundContract.methods\r\n        .allowance(account, process.env.REACT_APP_UNIFUND_GROUP_ADDRESS)\r\n        .call({ from: account })\r\n    ).toString()\r\n  )\r\n  if (allowance.lt(leaderiFundCollateral)) {\r\n    return\r\n  }\r\n  await groupContract.methods\r\n    .create(\r\n      tokenListId,\r\n      maxRuntime,\r\n      startTimeout,\r\n      leaderProfitPercentage,\r\n      leaderiFundCollateral,\r\n      memberFee,\r\n      maxEthContributionGroup,\r\n      minEthToStart,\r\n      maxEth,\r\n      description\r\n    )\r\n    .send({ from: account })\r\n}\r\n\r\nexport const startGroup = async (groupId: number, web3: any, account: string) => {\r\n  const groupContract = new web3.eth.Contract(UnifundGroupAbi, process.env.REACT_APP_UNIFUND_GROUP_ADDRESS!)\r\n  await groupContract.methods.startFunding(groupId).send({ from: account })\r\n}\r\n\r\nexport const abortGroup = async (groupId: number, web3: any, account: string) => {\r\n  const groupContract = new web3.eth.Contract(UnifundGroupAbi, process.env.REACT_APP_UNIFUND_GROUP_ADDRESS!)\r\n  await groupContract.methods.abort(groupId).send({ from: account })\r\n}\r\n\r\nexport const finishGroup = async (groupId: number, web3: any, account: string) => {\r\n  const groupContract = new web3.eth.Contract(UnifundGroupAbi, process.env.REACT_APP_UNIFUND_GROUP_ADDRESS!)\r\n  await groupContract.methods.finish(groupId).send({ from: account })\r\n}\r\n\r\nexport const joinGroup = async (\r\n  groupId: number,\r\n  value: number,\r\n  fee: BigNumber,\r\n  isLeader: boolean,\r\n  web3: any,\r\n  account: string\r\n) => {\r\n  const groupContract = new web3.eth.Contract(UnifundGroupAbi, process.env.REACT_APP_UNIFUND_GROUP_ADDRESS!)\r\n  if (!isLeader) {\r\n    const unifundContract = new web3.eth.Contract(ERC20Abi, process.env.REACT_APP_UNIFUND_ADDRESS!)\r\n    const allowance = new web3.utils.BN(\r\n      (\r\n        await unifundContract.methods\r\n          .allowance(account, process.env.REACT_APP_UNIFUND_GROUP_ADDRESS)\r\n          .call({ from: account })\r\n      ).toString()\r\n    )\r\n    if (allowance.lt(fee)) {\r\n      return\r\n    }\r\n  }\r\n\r\n  await groupContract.methods\r\n    .join(groupId)\r\n    .send({ from: account, value: new web3.utils.BN(web3.utils.toWei(value.toString())) })\r\n}\r\n\r\nexport const approveJoinGroup = async (\r\n  groupId: number,\r\n  fee: BigNumber,\r\n  isLeader: boolean,\r\n  web3: any,\r\n  account: string\r\n) => {\r\n  if (isLeader) {\r\n    return\r\n  }\r\n  fee = new web3.utils.BN(fee.toString())\r\n  const unifundContract = new web3.eth.Contract(ERC20Abi, process.env.REACT_APP_UNIFUND_ADDRESS!)\r\n  const allowance = new web3.utils.BN(\r\n    (\r\n      await unifundContract.methods\r\n        .allowance(account, process.env.REACT_APP_UNIFUND_GROUP_ADDRESS)\r\n        .call({ from: account })\r\n    ).toString()\r\n  )\r\n  if (allowance.lt(fee)) {\r\n    await unifundContract.methods.approve(process.env.REACT_APP_UNIFUND_GROUP_ADDRESS, fee).send({ from: account })\r\n  }\r\n}\r\n\r\nexport const withdraw = async (groupId: number, aborted: boolean, web3: any, account: string) => {\r\n  const groupContract = new web3.eth.Contract(UnifundGroupAbi, process.env.REACT_APP_UNIFUND_GROUP_ADDRESS!)\r\n\r\n  if (aborted) {\r\n    await groupContract.methods.withdraw(groupId, process.env.REACT_APP_WETH_ADDRESS).send({ from: account })\r\n    return\r\n  }\r\n\r\n  const groupHelperContract = new web3.eth.Contract(\r\n    UnifundGroupHelperLibraryAbi,\r\n    process.env.REACT_APP_UNIFUND_GROUP_LIBRARY_ADDRESS!\r\n  )\r\n  const tokensWithBalances = await groupHelperContract.methods.tokensWithBalances(groupId).call({ from: account })\r\n  const uniqueTokensWithBalances = new Set()\r\n  tokensWithBalances.forEach((address: string) => {\r\n    uniqueTokensWithBalances.add(address.toLowerCase())\r\n  })\r\n  uniqueTokensWithBalances.add(process.env.REACT_APP_UNIFUND_ADDRESS?.toLowerCase())\r\n  uniqueTokensWithBalances.add(process.env.REACT_APP_WETH_ADDRESS?.toLowerCase())\r\n\r\n  await groupContract.methods.withdrawMany(groupId, [...uniqueTokensWithBalances]).send({ from: account })\r\n}\r\n\r\nexport const addAuthorizedTrader = async (groupId: number, trader: string, web3: any, account: string) => {\r\n  const groupContract = new web3.eth.Contract(UnifundGroupAbi, process.env.REACT_APP_UNIFUND_GROUP_ADDRESS!)\r\n  await groupContract.methods.addAuthorizedTrader(groupId, trader).send({ from: account })\r\n}\r\n\r\nexport const removeAuthorizedTrader = async (groupId: number, trader: string, web3: any, account: string) => {\r\n  const groupContract = new web3.eth.Contract(UnifundGroupAbi, process.env.REACT_APP_UNIFUND_GROUP_ADDRESS!)\r\n  await groupContract.methods.removeAuthorizedTrader(groupId, trader).send({ from: account })\r\n}\r\n\r\nexport const isAuthorizedTrader = async (groupId: number, trader: string, web3: any, account: string) => {\r\n  const groupContract = new web3.eth.Contract(UnifundGroupAbi, process.env.REACT_APP_UNIFUND_GROUP_ADDRESS!)\r\n  return await groupContract.methods.authorizedTrader(groupId, trader).call({ from: account })\r\n}\r\n\r\nexport const tokenListTokenCount = async (tokenListId: number, web3: any, account: string) => {\r\n  const groupContract = new web3.eth.Contract(UnifundGroupAbi, process.env.REACT_APP_UNIFUND_GROUP_ADDRESS!)\r\n\r\n  return await groupContract.methods.tokenListTokenCount(new web3.utils.BN(tokenListId)).call({\r\n    from: account\r\n  })\r\n}\r\n\r\nexport const tokenListToken = async (tokenListId: number, index: number, web3: any, account: string) => {\r\n  const groupContract = new web3.eth.Contract(UnifundGroupAbi, process.env.REACT_APP_UNIFUND_GROUP_ADDRESS!)\r\n\r\n  return await groupContract.methods.tokenListToken(tokenListId, index).call({\r\n    from: account\r\n  })\r\n}\r\n\r\nexport const groupBalance = async (groupId: number, tokenAddress: string, web3: any, account: string) => {\r\n  const groupContract = new web3.eth.Contract(UnifundGroupAbi, process.env.REACT_APP_UNIFUND_GROUP_ADDRESS!)\r\n\r\n  return await groupContract.methods.groupBalance(groupId, tokenAddress).call({\r\n    from: account\r\n  })\r\n}\r\n\r\nexport const getTokenName = async (tokenAddress: string, web3: any, account: string) => {\r\n  const tokenContract = new web3.eth.Contract(ERC20Abi, tokenAddress)\r\n  return await tokenContract.methods.name().call()\r\n}\r\n\r\nexport const getTokenSymbol = async (tokenAddress: string, web3: any, account: string) => {\r\n  const tokenContract = new web3.eth.Contract(ERC20Abi, tokenAddress)\r\n  return await tokenContract.methods.symbol().call()\r\n}\r\n\r\nexport const tokensWithBalances = async (groupId: number, web3: any, account: string) => {\r\n  const groupHelperContract = new web3.eth.Contract(\r\n    UnifundGroupHelperLibraryAbi,\r\n    process.env.REACT_APP_UNIFUND_GROUP_LIBRARY_ADDRESS!\r\n  )\r\n  return await groupHelperContract.methods.tokensWithBalances(groupId).call({ from: account })\r\n}\r\n\r\n// Slow method\r\nexport const getTokenList = async (tokenListId: number, web3: any, account: string) => {\r\n  const tokens = []\r\n  const tokenCount = await tokenListTokenCount(web3.utils.toBN(tokenListId), web3, account!)\r\n\r\n  for (let i = 0; i < tokenCount; i++) {\r\n    try {\r\n      const tokenAddress = await tokenListToken(web3.utils.toBN(tokenListId), i, web3, account!)\r\n      const tokenName = await getTokenName(tokenAddress, web3, account!)\r\n      const tokenSymbol = await getTokenSymbol(tokenAddress, web3, account!)\r\n      tokens.push({\r\n        name: tokenName,\r\n        address: tokenAddress,\r\n        symbol: tokenSymbol\r\n      })\r\n    } catch (e) {\r\n      console.debug(e)\r\n    }\r\n  }\r\n  return tokens\r\n}\r\n","import JSBI from 'jsbi'\r\n\r\n// exports for external consumption\r\nexport type BigintIsh = JSBI | bigint | string\r\n\r\nexport enum ChainId {\r\n  MAINNET = 1,\r\n  ROPSTEN = 3,\r\n  RINKEBY = 4,\r\n  GÃ–RLI = 5,\r\n  KOVAN = 42,\r\n  LOCAL = 1337,\r\n}\r\n\r\nexport enum TradeType {\r\n  EXACT_INPUT,\r\n  EXACT_OUTPUT,\r\n}\r\n\r\nexport enum Rounding {\r\n  ROUND_DOWN,\r\n  ROUND_HALF_UP,\r\n  ROUND_UP,\r\n}\r\n\r\nexport const FACTORY_ADDRESS = '0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f'\r\n\r\nexport const INIT_CODE_HASH = '0x96e8ac4277198ff8b6f785478aa9a39f403cb768dd02cbee326c3e7da348845f'\r\n\r\nexport const MINIMUM_LIQUIDITY = JSBI.BigInt(1000)\r\n\r\n// exports for internal consumption\r\nexport const ZERO = JSBI.BigInt(0)\r\nexport const ONE = JSBI.BigInt(1)\r\nexport const TWO = JSBI.BigInt(2)\r\nexport const THREE = JSBI.BigInt(3)\r\nexport const FIVE = JSBI.BigInt(5)\r\nexport const TEN = JSBI.BigInt(10)\r\nexport const _100 = JSBI.BigInt(100)\r\nexport const _997 = JSBI.BigInt(997)\r\nexport const _1000 = JSBI.BigInt(1000)\r\n\r\nexport enum SolidityType {\r\n  uint8 = 'uint8',\r\n  uint256 = 'uint256',\r\n}\r\n\r\nexport const SOLIDITY_TYPE_MAXIMA = {\r\n  [SolidityType.uint8]: JSBI.BigInt('0xff'),\r\n  [SolidityType.uint256]: JSBI.BigInt('0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff'),\r\n}\r\n","// see https://stackoverflow.com/a/41102306\r\nconst CAN_SET_PROTOTYPE = 'setPrototypeOf' in Object\r\n\r\n/**\r\n * Indicates that the pair has insufficient reserves for a desired output amount. I.e. the amount of output cannot be\r\n * obtained by sending any amount of input.\r\n */\r\nexport class InsufficientReservesError extends Error {\r\n  public readonly isInsufficientReservesError: true = true\r\n\r\n  public constructor() {\r\n    super()\r\n    this.name = this.constructor.name\r\n    if (CAN_SET_PROTOTYPE) Object.setPrototypeOf(this, new.target.prototype)\r\n  }\r\n}\r\n\r\n/**\r\n * Indicates that the input amount is too small to produce any amount of output. I.e. the amount of input sent is less\r\n * than the price of a single unit of output after fees.\r\n */\r\nexport class InsufficientInputAmountError extends Error {\r\n  public readonly isInsufficientInputAmountError: true = true\r\n\r\n  public constructor() {\r\n    super()\r\n    this.name = this.constructor.name\r\n    if (CAN_SET_PROTOTYPE) Object.setPrototypeOf(this, new.target.prototype)\r\n  }\r\n}\r\n","import invariant from 'tiny-invariant'\r\nimport warning from 'tiny-warning'\r\nimport JSBI from 'jsbi'\r\nimport { getAddress } from '@ethersproject/address'\r\n\r\nimport { BigintIsh, ZERO, ONE, TWO, THREE, SolidityType, SOLIDITY_TYPE_MAXIMA } from './constants'\r\n\r\nexport function validateSolidityTypeInstance(value: JSBI, solidityType: SolidityType): void {\r\n  invariant(JSBI.greaterThanOrEqual(value, ZERO), `${value} is not a ${solidityType}.`)\r\n  invariant(JSBI.lessThanOrEqual(value, SOLIDITY_TYPE_MAXIMA[solidityType]), `${value} is not a ${solidityType}.`)\r\n}\r\n\r\n// warns if addresses are not checksummed\r\nexport function validateAndParseAddress(address: string): string {\r\n  try {\r\n    const checksummedAddress = getAddress(address)\r\n    warning(address === checksummedAddress, `${address} is not checksummed.`)\r\n    return checksummedAddress\r\n  } catch (error) {\r\n    invariant(false, `${address} is not a valid address.`)\r\n  }\r\n}\r\n\r\nexport function parseBigintIsh(bigintIsh: BigintIsh): JSBI {\r\n  return bigintIsh instanceof JSBI\r\n    ? bigintIsh\r\n    : typeof bigintIsh === 'bigint'\r\n    ? JSBI.BigInt(bigintIsh.toString())\r\n    : JSBI.BigInt(bigintIsh)\r\n}\r\n\r\n// mock the on-chain sqrt function\r\nexport function sqrt(y: JSBI): JSBI {\r\n  validateSolidityTypeInstance(y, SolidityType.uint256)\r\n  let z: JSBI = ZERO\r\n  let x: JSBI\r\n  if (JSBI.greaterThan(y, THREE)) {\r\n    z = y\r\n    x = JSBI.add(JSBI.divide(y, TWO), ONE)\r\n    while (JSBI.lessThan(x, z)) {\r\n      z = x\r\n      x = JSBI.divide(JSBI.add(JSBI.divide(y, x), x), TWO)\r\n    }\r\n  } else if (JSBI.notEqual(y, ZERO)) {\r\n    z = ONE\r\n  }\r\n  return z\r\n}\r\n\r\n// given an array of items sorted by `comparator`, insert an item into its sort index and constrain the size to\r\n// `maxSize` by removing the last item\r\nexport function sortedInsert<T>(items: T[], add: T, maxSize: number, comparator: (a: T, b: T) => number): T | null {\r\n  invariant(maxSize > 0, 'MAX_SIZE_ZERO')\r\n  // this is an invariant because the interface cannot return multiple removed items if items.length exceeds maxSize\r\n  invariant(items.length <= maxSize, 'ITEMS_SIZE')\r\n\r\n  // short circuit first item add\r\n  if (items.length === 0) {\r\n    items.push(add)\r\n    return null\r\n  } else {\r\n    const isFull = items.length === maxSize\r\n    // short circuit if full and the additional item does not come before the last item\r\n    if (isFull && comparator(items[items.length - 1], add) <= 0) {\r\n      return add\r\n    }\r\n\r\n    let lo = 0,\r\n      hi = items.length\r\n\r\n    while (lo < hi) {\r\n      const mid = (lo + hi) >>> 1\r\n      if (comparator(items[mid], add) <= 0) {\r\n        lo = mid + 1\r\n      } else {\r\n        hi = mid\r\n      }\r\n    }\r\n    items.splice(lo, 0, add)\r\n    return isFull ? items.pop()! : null\r\n  }\r\n}\r\n","import JSBI from 'jsbi'\r\n\r\nimport { SolidityType } from '../constants'\r\nimport { validateSolidityTypeInstance } from '../utils'\r\n\r\n/**\r\n * A currency is any fungible financial instrument on Ethereum, including Ether and all ERC20 tokens.\r\n *\r\n * The only instance of the base class `Currency` is Ether.\r\n */\r\nexport class Currency {\r\n  public readonly decimals: number\r\n  public readonly symbol?: string\r\n  public readonly name?: string\r\n\r\n  /**\r\n   * The only instance of the base class `Currency`.\r\n   */\r\n  public static readonly ETHER: Currency = new Currency(18, 'ETH', 'Ether')\r\n\r\n  /**\r\n   * Constructs an instance of the base class `Currency`. The only instance of the base class `Currency` is `Currency.ETHER`.\r\n   * @param decimals decimals of the currency\r\n   * @param symbol symbol of the currency\r\n   * @param name of the currency\r\n   */\r\n  protected constructor(decimals: number, symbol?: string, name?: string) {\r\n    validateSolidityTypeInstance(JSBI.BigInt(decimals), SolidityType.uint8)\r\n\r\n    this.decimals = decimals\r\n    this.symbol = symbol\r\n    this.name = name\r\n  }\r\n}\r\n\r\nconst ETHER = Currency.ETHER\r\nexport { ETHER }\r\n","import invariant from 'tiny-invariant'\r\nimport { ChainId } from '../constants'\r\nimport { validateAndParseAddress } from '../utils'\r\nimport { Currency } from './currency'\r\n\r\n/**\r\n * Represents an ERC20 token with a unique address and some metadata.\r\n */\r\nexport class Token extends Currency {\r\n  public readonly chainId: ChainId\r\n  public readonly address: string\r\n\r\n  public constructor(chainId: ChainId, address: string, decimals: number, symbol?: string, name?: string) {\r\n    super(decimals, symbol, name)\r\n    this.chainId = chainId\r\n    this.address = validateAndParseAddress(address)\r\n  }\r\n\r\n  /**\r\n   * Returns true if the two tokens are equivalent, i.e. have the same chainId and address.\r\n   * @param other other token to compare\r\n   */\r\n  public equals(other: Token): boolean {\r\n    // short circuit on reference equality\r\n    if (this === other) {\r\n      return true\r\n    }\r\n    return this.chainId === other.chainId && this.address === other.address\r\n  }\r\n\r\n  /**\r\n   * Returns true if the address of this token sorts before the address of the other token\r\n   * @param other other token to compare\r\n   * @throws if the tokens have the same address\r\n   * @throws if the tokens are on different chains\r\n   */\r\n  public sortsBefore(other: Token): boolean {\r\n    invariant(this.chainId === other.chainId, 'CHAIN_IDS')\r\n    invariant(this.address !== other.address, 'ADDRESSES')\r\n    return this.address.toLowerCase() < other.address.toLowerCase()\r\n  }\r\n}\r\n\r\n/**\r\n * Compares two currencies for equality\r\n */\r\nexport function currencyEquals(currencyA: Currency, currencyB: Currency): boolean {\r\n  if (currencyA instanceof Token && currencyB instanceof Token) {\r\n    return currencyA.equals(currencyB)\r\n  } else if (currencyA instanceof Token) {\r\n    return false\r\n  } else if (currencyB instanceof Token) {\r\n    return false\r\n  } else {\r\n    return currencyA === currencyB\r\n  }\r\n}\r\n\r\nexport const WETH = {\r\n  [ChainId.MAINNET]: new Token(\r\n    ChainId.MAINNET,\r\n    '0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2',\r\n    18,\r\n    'WETH',\r\n    'Wrapped Ether'\r\n  ),\r\n  [ChainId.ROPSTEN]: new Token(\r\n    ChainId.ROPSTEN,\r\n    '0xc778417E063141139Fce010982780140Aa0cD5Ab',\r\n    18,\r\n    'WETH',\r\n    'Wrapped Ether'\r\n  ),\r\n  [ChainId.RINKEBY]: new Token(\r\n    ChainId.RINKEBY,\r\n    '0xc778417E063141139Fce010982780140Aa0cD5Ab',\r\n    18,\r\n    'WETH',\r\n    'Wrapped Ether'\r\n  ),\r\n  [ChainId.GÃ–RLI]: new Token(ChainId.GÃ–RLI, '0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6', 18, 'WETH', 'Wrapped Ether'),\r\n  [ChainId.KOVAN]: new Token(ChainId.KOVAN, '0xd0A1E359811322d97991E03f863a0C30C2cF029C', 18, 'WETH', 'Wrapped Ether'),\r\n  [ChainId.LOCAL]: new Token(ChainId.LOCAL, '0xD3aA556287Afe63102e5797BFDDd2A1E8DbB3eA5', 18, 'WETH', 'Wrapped Ether')\r\n}\r\n","import invariant from 'tiny-invariant'\r\nimport JSBI from 'jsbi'\r\nimport _Decimal from 'decimal.js-light'\r\nimport _Big from 'big.js'\r\nimport toFormat from 'toformat'\r\n\r\nimport { BigintIsh, Rounding } from '../../constants'\r\nimport { ONE } from '../../constants'\r\nimport { parseBigintIsh } from '../../utils'\r\n\r\nconst Decimal = toFormat(_Decimal)\r\nconst Big = toFormat(_Big)\r\n\r\nconst toSignificantRounding = {\r\n  [Rounding.ROUND_DOWN]: Decimal.ROUND_DOWN,\r\n  [Rounding.ROUND_HALF_UP]: Decimal.ROUND_HALF_UP,\r\n  [Rounding.ROUND_UP]: Decimal.ROUND_UP\r\n}\r\n\r\nconst toFixedRounding = {\r\n  [Rounding.ROUND_DOWN]: 0,\r\n  [Rounding.ROUND_HALF_UP]: 1,\r\n  [Rounding.ROUND_UP]: 3\r\n}\r\n\r\nexport class Fraction {\r\n  public readonly numerator: JSBI\r\n  public readonly denominator: JSBI\r\n\r\n  public constructor(numerator: BigintIsh, denominator: BigintIsh = ONE) {\r\n    this.numerator = parseBigintIsh(numerator)\r\n    this.denominator = parseBigintIsh(denominator)\r\n  }\r\n\r\n  // performs floor division\r\n  public get quotient(): JSBI {\r\n    return JSBI.divide(this.numerator, this.denominator)\r\n  }\r\n\r\n  // remainder after floor division\r\n  public get remainder(): Fraction {\r\n    return new Fraction(JSBI.remainder(this.numerator, this.denominator), this.denominator)\r\n  }\r\n\r\n  public invert(): Fraction {\r\n    return new Fraction(this.denominator, this.numerator)\r\n  }\r\n\r\n  public add(other: Fraction | BigintIsh): Fraction {\r\n    const otherParsed = other instanceof Fraction ? other : new Fraction(parseBigintIsh(other))\r\n    if (JSBI.equal(this.denominator, otherParsed.denominator)) {\r\n      return new Fraction(JSBI.add(this.numerator, otherParsed.numerator), this.denominator)\r\n    }\r\n    return new Fraction(\r\n      JSBI.add(\r\n        JSBI.multiply(this.numerator, otherParsed.denominator),\r\n        JSBI.multiply(otherParsed.numerator, this.denominator)\r\n      ),\r\n      JSBI.multiply(this.denominator, otherParsed.denominator)\r\n    )\r\n  }\r\n\r\n  public subtract(other: Fraction | BigintIsh): Fraction {\r\n    const otherParsed = other instanceof Fraction ? other : new Fraction(parseBigintIsh(other))\r\n    if (JSBI.equal(this.denominator, otherParsed.denominator)) {\r\n      return new Fraction(JSBI.subtract(this.numerator, otherParsed.numerator), this.denominator)\r\n    }\r\n    return new Fraction(\r\n      JSBI.subtract(\r\n        JSBI.multiply(this.numerator, otherParsed.denominator),\r\n        JSBI.multiply(otherParsed.numerator, this.denominator)\r\n      ),\r\n      JSBI.multiply(this.denominator, otherParsed.denominator)\r\n    )\r\n  }\r\n\r\n  public lessThan(other: Fraction | BigintIsh): boolean {\r\n    const otherParsed = other instanceof Fraction ? other : new Fraction(parseBigintIsh(other))\r\n    return JSBI.lessThan(\r\n      JSBI.multiply(this.numerator, otherParsed.denominator),\r\n      JSBI.multiply(otherParsed.numerator, this.denominator)\r\n    )\r\n  }\r\n\r\n  public equalTo(other: Fraction | BigintIsh): boolean {\r\n    const otherParsed = other instanceof Fraction ? other : new Fraction(parseBigintIsh(other))\r\n    return JSBI.equal(\r\n      JSBI.multiply(this.numerator, otherParsed.denominator),\r\n      JSBI.multiply(otherParsed.numerator, this.denominator)\r\n    )\r\n  }\r\n\r\n  public greaterThan(other: Fraction | BigintIsh): boolean {\r\n    const otherParsed = other instanceof Fraction ? other : new Fraction(parseBigintIsh(other))\r\n    return JSBI.greaterThan(\r\n      JSBI.multiply(this.numerator, otherParsed.denominator),\r\n      JSBI.multiply(otherParsed.numerator, this.denominator)\r\n    )\r\n  }\r\n\r\n  public multiply(other: Fraction | BigintIsh): Fraction {\r\n    const otherParsed = other instanceof Fraction ? other : new Fraction(parseBigintIsh(other))\r\n    return new Fraction(\r\n      JSBI.multiply(this.numerator, otherParsed.numerator),\r\n      JSBI.multiply(this.denominator, otherParsed.denominator)\r\n    )\r\n  }\r\n\r\n  public divide(other: Fraction | BigintIsh): Fraction {\r\n    const otherParsed = other instanceof Fraction ? other : new Fraction(parseBigintIsh(other))\r\n    return new Fraction(\r\n      JSBI.multiply(this.numerator, otherParsed.denominator),\r\n      JSBI.multiply(this.denominator, otherParsed.numerator)\r\n    )\r\n  }\r\n\r\n  public toSignificant(\r\n    significantDigits: number,\r\n    format: object = { groupSeparator: '' },\r\n    rounding: Rounding = Rounding.ROUND_HALF_UP\r\n  ): string {\r\n    invariant(Number.isInteger(significantDigits), `${significantDigits} is not an integer.`)\r\n    invariant(significantDigits > 0, `${significantDigits} is not positive.`)\r\n\r\n    Decimal.set({ precision: significantDigits + 1, rounding: toSignificantRounding[rounding] })\r\n    const quotient = new Decimal(this.numerator.toString())\r\n      .div(this.denominator.toString())\r\n      .toSignificantDigits(significantDigits)\r\n    return quotient.toFormat(quotient.decimalPlaces(), format)\r\n  }\r\n\r\n  public toFixed(\r\n    decimalPlaces: number,\r\n    format: object = { groupSeparator: '' },\r\n    rounding: Rounding = Rounding.ROUND_HALF_UP\r\n  ): string {\r\n    invariant(Number.isInteger(decimalPlaces), `${decimalPlaces} is not an integer.`)\r\n    invariant(decimalPlaces >= 0, `${decimalPlaces} is negative.`)\r\n\r\n    Big.DP = decimalPlaces\r\n    Big.RM = toFixedRounding[rounding]\r\n    return new Big(this.numerator.toString()).div(this.denominator.toString()).toFormat(decimalPlaces, format)\r\n  }\r\n}\r\n","import { currencyEquals } from '../token'\r\nimport { Currency, ETHER } from '../currency'\r\nimport invariant from 'tiny-invariant'\r\nimport JSBI from 'jsbi'\r\nimport _Big from 'big.js'\r\nimport toFormat from 'toformat'\r\n\r\nimport { BigintIsh, Rounding, TEN, SolidityType } from '../../constants'\r\nimport { parseBigintIsh, validateSolidityTypeInstance } from '../../utils'\r\nimport { Fraction } from './fraction'\r\n\r\nconst Big = toFormat(_Big)\r\n\r\nexport class CurrencyAmount extends Fraction {\r\n  public readonly currency: Currency\r\n\r\n  /**\r\n   * Helper that calls the constructor with the ETHER currency\r\n   * @param amount ether amount in wei\r\n   */\r\n  public static ether(amount: BigintIsh): CurrencyAmount {\r\n    return new CurrencyAmount(ETHER, amount)\r\n  }\r\n\r\n  // amount _must_ be raw, i.e. in the native representation\r\n  protected constructor(currency: Currency, amount: BigintIsh) {\r\n    const parsedAmount = parseBigintIsh(amount)\r\n    validateSolidityTypeInstance(parsedAmount, SolidityType.uint256)\r\n\r\n    super(parsedAmount, JSBI.exponentiate(TEN, JSBI.BigInt(currency.decimals)))\r\n    this.currency = currency\r\n  }\r\n\r\n  public get raw(): JSBI {\r\n    return this.numerator\r\n  }\r\n\r\n  public add(other: CurrencyAmount): CurrencyAmount {\r\n    invariant(currencyEquals(this.currency, other.currency), 'TOKEN')\r\n    return new CurrencyAmount(this.currency, JSBI.add(this.raw, other.raw))\r\n  }\r\n\r\n  public subtract(other: CurrencyAmount): CurrencyAmount {\r\n    invariant(currencyEquals(this.currency, other.currency), 'TOKEN')\r\n    return new CurrencyAmount(this.currency, JSBI.subtract(this.raw, other.raw))\r\n  }\r\n\r\n  public toSignificant(\r\n    significantDigits: number = 6,\r\n    format?: object,\r\n    rounding: Rounding = Rounding.ROUND_DOWN\r\n  ): string {\r\n    return super.toSignificant(significantDigits, format, rounding)\r\n  }\r\n\r\n  public toFixed(\r\n    decimalPlaces: number = this.currency.decimals,\r\n    format?: object,\r\n    rounding: Rounding = Rounding.ROUND_DOWN\r\n  ): string {\r\n    invariant(decimalPlaces <= this.currency.decimals, 'DECIMALS')\r\n    return super.toFixed(decimalPlaces, format, rounding)\r\n  }\r\n\r\n  public toExact(format: object = { groupSeparator: '' }): string {\r\n    Big.DP = this.currency.decimals\r\n    return new Big(this.numerator.toString()).div(this.denominator.toString()).toFormat(format)\r\n  }\r\n}\r\n","import { CurrencyAmount } from './currencyAmount'\r\nimport { Token } from '../token'\r\nimport invariant from 'tiny-invariant'\r\nimport JSBI from 'jsbi'\r\n\r\nimport { BigintIsh } from '../../constants'\r\n\r\nexport class TokenAmount extends CurrencyAmount {\r\n  public readonly token: Token\r\n\r\n  // amount _must_ be raw, i.e. in the native representation\r\n  public constructor(token: Token, amount: BigintIsh) {\r\n    super(token, amount)\r\n    this.token = token\r\n  }\r\n\r\n  public add(other: TokenAmount): TokenAmount {\r\n    invariant(this.token.equals(other.token), 'TOKEN')\r\n    return new TokenAmount(this.token, JSBI.add(this.raw, other.raw))\r\n  }\r\n\r\n  public subtract(other: TokenAmount): TokenAmount {\r\n    invariant(this.token.equals(other.token), 'TOKEN')\r\n    return new TokenAmount(this.token, JSBI.subtract(this.raw, other.raw))\r\n  }\r\n}\r\n","import { Token } from '../token'\r\nimport { TokenAmount } from './tokenAmount'\r\nimport { currencyEquals } from '../token'\r\nimport invariant from 'tiny-invariant'\r\nimport JSBI from 'jsbi'\r\n\r\nimport { BigintIsh, Rounding, TEN } from '../../constants'\r\nimport { Currency } from '../currency'\r\nimport { Route } from '../route'\r\nimport { Fraction } from './fraction'\r\nimport { CurrencyAmount } from './currencyAmount'\r\n\r\nexport class Price extends Fraction {\r\n  public readonly baseCurrency: Currency // input i.e. denominator\r\n  public readonly quoteCurrency: Currency // output i.e. numerator\r\n  public readonly scalar: Fraction // used to adjust the raw fraction w/r/t the decimals of the {base,quote}Token\r\n\r\n  public static fromRoute(route: Route): Price {\r\n    const prices: Price[] = []\r\n    for (const [i, pair] of route.pairs.entries()) {\r\n      prices.push(\r\n        route.path[i].equals(pair.token0)\r\n          ? new Price(pair.reserve0.currency, pair.reserve1.currency, pair.reserve0.raw, pair.reserve1.raw)\r\n          : new Price(pair.reserve1.currency, pair.reserve0.currency, pair.reserve1.raw, pair.reserve0.raw)\r\n      )\r\n    }\r\n    return prices.slice(1).reduce((accumulator, currentValue) => accumulator.multiply(currentValue), prices[0])\r\n  }\r\n\r\n  // denominator and numerator _must_ be raw, i.e. in the native representation\r\n  public constructor(baseCurrency: Currency, quoteCurrency: Currency, denominator: BigintIsh, numerator: BigintIsh) {\r\n    super(numerator, denominator)\r\n\r\n    this.baseCurrency = baseCurrency\r\n    this.quoteCurrency = quoteCurrency\r\n    this.scalar = new Fraction(\r\n      JSBI.exponentiate(TEN, JSBI.BigInt(baseCurrency.decimals)),\r\n      JSBI.exponentiate(TEN, JSBI.BigInt(quoteCurrency.decimals))\r\n    )\r\n  }\r\n\r\n  public get raw(): Fraction {\r\n    return new Fraction(this.numerator, this.denominator)\r\n  }\r\n\r\n  public get adjusted(): Fraction {\r\n    return super.multiply(this.scalar)\r\n  }\r\n\r\n  public invert(): Price {\r\n    return new Price(this.quoteCurrency, this.baseCurrency, this.numerator, this.denominator)\r\n  }\r\n\r\n  public multiply(other: Price): Price {\r\n    invariant(currencyEquals(this.quoteCurrency, other.baseCurrency), 'TOKEN')\r\n    const fraction = super.multiply(other)\r\n    return new Price(this.baseCurrency, other.quoteCurrency, fraction.denominator, fraction.numerator)\r\n  }\r\n\r\n  // performs floor division on overflow\r\n  public quote(currencyAmount: CurrencyAmount): CurrencyAmount {\r\n    invariant(currencyEquals(currencyAmount.currency, this.baseCurrency), 'TOKEN')\r\n    if (this.quoteCurrency instanceof Token) {\r\n      return new TokenAmount(this.quoteCurrency, super.multiply(currencyAmount.raw).quotient)\r\n    }\r\n    return CurrencyAmount.ether(super.multiply(currencyAmount.raw).quotient)\r\n  }\r\n\r\n  public toSignificant(significantDigits: number = 6, format?: object, rounding?: Rounding): string {\r\n    return this.adjusted.toSignificant(significantDigits, format, rounding)\r\n  }\r\n\r\n  public toFixed(decimalPlaces: number = 4, format?: object, rounding?: Rounding): string {\r\n    return this.adjusted.toFixed(decimalPlaces, format, rounding)\r\n  }\r\n}\r\n","import { Price } from './fractions/price'\r\nimport { TokenAmount } from './fractions/tokenAmount'\r\nimport invariant from 'tiny-invariant'\r\nimport JSBI from 'jsbi'\r\nimport { pack, keccak256 } from '@ethersproject/solidity'\r\nimport { getCreate2Address } from '@ethersproject/address'\r\n\r\nimport {\r\n  BigintIsh,\r\n  FACTORY_ADDRESS,\r\n  INIT_CODE_HASH,\r\n  MINIMUM_LIQUIDITY,\r\n  ZERO,\r\n  ONE,\r\n  FIVE,\r\n  _997,\r\n  _1000,\r\n  ChainId\r\n} from '../constants'\r\nimport { sqrt, parseBigintIsh } from '../utils'\r\nimport { InsufficientReservesError, InsufficientInputAmountError } from '../errors'\r\nimport { Token } from './token'\r\n\r\nlet PAIR_ADDRESS_CACHE: { [token0Address: string]: { [token1Address: string]: string } } = {}\r\n\r\nexport class Pair {\r\n  public readonly liquidityToken: Token\r\n  private readonly tokenAmounts: [TokenAmount, TokenAmount]\r\n\r\n  public static getAddress(tokenA: Token, tokenB: Token): string {\r\n    const tokens = tokenA.sortsBefore(tokenB) ? [tokenA, tokenB] : [tokenB, tokenA] // does safety checks\r\n\r\n    if (PAIR_ADDRESS_CACHE?.[tokens[0].address]?.[tokens[1].address] === undefined) {\r\n      PAIR_ADDRESS_CACHE = {\r\n        ...PAIR_ADDRESS_CACHE,\r\n        [tokens[0].address]: {\r\n          ...PAIR_ADDRESS_CACHE?.[tokens[0].address],\r\n          [tokens[1].address]: getCreate2Address(\r\n            FACTORY_ADDRESS,\r\n            keccak256(['bytes'], [pack(['address', 'address'], [tokens[0].address, tokens[1].address])]),\r\n            INIT_CODE_HASH\r\n          )\r\n        }\r\n      }\r\n    }\r\n\r\n    return PAIR_ADDRESS_CACHE[tokens[0].address][tokens[1].address]\r\n  }\r\n\r\n  public constructor(tokenAmountA: TokenAmount, tokenAmountB: TokenAmount) {\r\n    const tokenAmounts = tokenAmountA.token.sortsBefore(tokenAmountB.token) // does safety checks\r\n      ? [tokenAmountA, tokenAmountB]\r\n      : [tokenAmountB, tokenAmountA]\r\n    this.liquidityToken = new Token(\r\n      tokenAmounts[0].token.chainId,\r\n      Pair.getAddress(tokenAmounts[0].token, tokenAmounts[1].token),\r\n      18,\r\n      'UNI-V2',\r\n      'Uniswap V2'\r\n    )\r\n    this.tokenAmounts = tokenAmounts as [TokenAmount, TokenAmount]\r\n  }\r\n\r\n  /**\r\n   * Returns true if the token is either token0 or token1\r\n   * @param token to check\r\n   */\r\n  public involvesToken(token: Token): boolean {\r\n    return token.equals(this.token0) || token.equals(this.token1)\r\n  }\r\n\r\n  /**\r\n   * Returns the current mid price of the pair in terms of token0, i.e. the ratio of reserve1 to reserve0\r\n   */\r\n  public get token0Price(): Price {\r\n    return new Price(this.token0, this.token1, this.tokenAmounts[0].raw, this.tokenAmounts[1].raw)\r\n  }\r\n\r\n  /**\r\n   * Returns the current mid price of the pair in terms of token1, i.e. the ratio of reserve0 to reserve1\r\n   */\r\n  public get token1Price(): Price {\r\n    return new Price(this.token1, this.token0, this.tokenAmounts[1].raw, this.tokenAmounts[0].raw)\r\n  }\r\n\r\n  /**\r\n   * Return the price of the given token in terms of the other token in the pair.\r\n   * @param token token to return price of\r\n   */\r\n  public priceOf(token: Token): Price {\r\n    invariant(this.involvesToken(token), 'TOKEN')\r\n    return token.equals(this.token0) ? this.token0Price : this.token1Price\r\n  }\r\n\r\n  /**\r\n   * Returns the chain ID of the tokens in the pair.\r\n   */\r\n  public get chainId(): ChainId {\r\n    return this.token0.chainId\r\n  }\r\n\r\n  public get token0(): Token {\r\n    return this.tokenAmounts[0].token\r\n  }\r\n\r\n  public get token1(): Token {\r\n    return this.tokenAmounts[1].token\r\n  }\r\n\r\n  public get reserve0(): TokenAmount {\r\n    return this.tokenAmounts[0]\r\n  }\r\n\r\n  public get reserve1(): TokenAmount {\r\n    return this.tokenAmounts[1]\r\n  }\r\n\r\n  public reserveOf(token: Token): TokenAmount {\r\n    invariant(this.involvesToken(token), 'TOKEN')\r\n    return token.equals(this.token0) ? this.reserve0 : this.reserve1\r\n  }\r\n\r\n  public getOutputAmount(inputAmount: TokenAmount): [TokenAmount, Pair] {\r\n    invariant(this.involvesToken(inputAmount.token), 'TOKEN')\r\n    if (JSBI.equal(this.reserve0.raw, ZERO) || JSBI.equal(this.reserve1.raw, ZERO)) {\r\n      throw new InsufficientReservesError()\r\n    }\r\n    const inputReserve = this.reserveOf(inputAmount.token)\r\n    const outputReserve = this.reserveOf(inputAmount.token.equals(this.token0) ? this.token1 : this.token0)\r\n    const inputAmountWithFee = JSBI.multiply(inputAmount.raw, _997)\r\n    const numerator = JSBI.multiply(inputAmountWithFee, outputReserve.raw)\r\n    const denominator = JSBI.add(JSBI.multiply(inputReserve.raw, _1000), inputAmountWithFee)\r\n    const outputAmount = new TokenAmount(\r\n      inputAmount.token.equals(this.token0) ? this.token1 : this.token0,\r\n      JSBI.divide(numerator, denominator)\r\n    )\r\n    if (JSBI.equal(outputAmount.raw, ZERO)) {\r\n      throw new InsufficientInputAmountError()\r\n    }\r\n    return [outputAmount, new Pair(inputReserve.add(inputAmount), outputReserve.subtract(outputAmount))]\r\n  }\r\n\r\n  public getInputAmount(outputAmount: TokenAmount): [TokenAmount, Pair] {\r\n    invariant(this.involvesToken(outputAmount.token), 'TOKEN')\r\n    if (\r\n      JSBI.equal(this.reserve0.raw, ZERO) ||\r\n      JSBI.equal(this.reserve1.raw, ZERO) ||\r\n      JSBI.greaterThanOrEqual(outputAmount.raw, this.reserveOf(outputAmount.token).raw)\r\n    ) {\r\n      throw new InsufficientReservesError()\r\n    }\r\n\r\n    const outputReserve = this.reserveOf(outputAmount.token)\r\n    const inputReserve = this.reserveOf(outputAmount.token.equals(this.token0) ? this.token1 : this.token0)\r\n    const numerator = JSBI.multiply(JSBI.multiply(inputReserve.raw, outputAmount.raw), _1000)\r\n    const denominator = JSBI.multiply(JSBI.subtract(outputReserve.raw, outputAmount.raw), _997)\r\n    const inputAmount = new TokenAmount(\r\n      outputAmount.token.equals(this.token0) ? this.token1 : this.token0,\r\n      JSBI.add(JSBI.divide(numerator, denominator), ONE)\r\n    )\r\n    return [inputAmount, new Pair(inputReserve.add(inputAmount), outputReserve.subtract(outputAmount))]\r\n  }\r\n\r\n  public getLiquidityMinted(\r\n    totalSupply: TokenAmount,\r\n    tokenAmountA: TokenAmount,\r\n    tokenAmountB: TokenAmount\r\n  ): TokenAmount {\r\n    invariant(totalSupply.token.equals(this.liquidityToken), 'LIQUIDITY')\r\n    const tokenAmounts = tokenAmountA.token.sortsBefore(tokenAmountB.token) // does safety checks\r\n      ? [tokenAmountA, tokenAmountB]\r\n      : [tokenAmountB, tokenAmountA]\r\n    invariant(tokenAmounts[0].token.equals(this.token0) && tokenAmounts[1].token.equals(this.token1), 'TOKEN')\r\n\r\n    let liquidity: JSBI\r\n    if (JSBI.equal(totalSupply.raw, ZERO)) {\r\n      liquidity = JSBI.subtract(sqrt(JSBI.multiply(tokenAmounts[0].raw, tokenAmounts[1].raw)), MINIMUM_LIQUIDITY)\r\n    } else {\r\n      const amount0 = JSBI.divide(JSBI.multiply(tokenAmounts[0].raw, totalSupply.raw), this.reserve0.raw)\r\n      const amount1 = JSBI.divide(JSBI.multiply(tokenAmounts[1].raw, totalSupply.raw), this.reserve1.raw)\r\n      liquidity = JSBI.lessThanOrEqual(amount0, amount1) ? amount0 : amount1\r\n    }\r\n    if (!JSBI.greaterThan(liquidity, ZERO)) {\r\n      throw new InsufficientInputAmountError()\r\n    }\r\n    return new TokenAmount(this.liquidityToken, liquidity)\r\n  }\r\n\r\n  public getLiquidityValue(\r\n    token: Token,\r\n    totalSupply: TokenAmount,\r\n    liquidity: TokenAmount,\r\n    feeOn: boolean = false,\r\n    kLast?: BigintIsh\r\n  ): TokenAmount {\r\n    invariant(this.involvesToken(token), 'TOKEN')\r\n    invariant(totalSupply.token.equals(this.liquidityToken), 'TOTAL_SUPPLY')\r\n    invariant(liquidity.token.equals(this.liquidityToken), 'LIQUIDITY')\r\n    invariant(JSBI.lessThanOrEqual(liquidity.raw, totalSupply.raw), 'LIQUIDITY')\r\n\r\n    let totalSupplyAdjusted: TokenAmount\r\n    if (!feeOn) {\r\n      totalSupplyAdjusted = totalSupply\r\n    } else {\r\n      invariant(!!kLast, 'K_LAST')\r\n      const kLastParsed = parseBigintIsh(kLast)\r\n      if (!JSBI.equal(kLastParsed, ZERO)) {\r\n        const rootK = sqrt(JSBI.multiply(this.reserve0.raw, this.reserve1.raw))\r\n        const rootKLast = sqrt(kLastParsed)\r\n        if (JSBI.greaterThan(rootK, rootKLast)) {\r\n          const numerator = JSBI.multiply(totalSupply.raw, JSBI.subtract(rootK, rootKLast))\r\n          const denominator = JSBI.add(JSBI.multiply(rootK, FIVE), rootKLast)\r\n          const feeLiquidity = JSBI.divide(numerator, denominator)\r\n          totalSupplyAdjusted = totalSupply.add(new TokenAmount(this.liquidityToken, feeLiquidity))\r\n        } else {\r\n          totalSupplyAdjusted = totalSupply\r\n        }\r\n      } else {\r\n        totalSupplyAdjusted = totalSupply\r\n      }\r\n    }\r\n\r\n    return new TokenAmount(\r\n      token,\r\n      JSBI.divide(JSBI.multiply(liquidity.raw, this.reserveOf(token).raw), totalSupplyAdjusted.raw)\r\n    )\r\n  }\r\n}\r\n","import { ChainId } from '../constants'\r\nimport invariant from 'tiny-invariant'\r\n\r\nimport { Currency, ETHER } from './currency'\r\nimport { Token, WETH } from './token'\r\nimport { Pair } from './pair'\r\nimport { Price } from './fractions/price'\r\n\r\nexport class Route {\r\n  public readonly pairs: Pair[]\r\n  public readonly path: Token[]\r\n  public readonly input: Currency\r\n  public readonly output: Currency\r\n  public readonly midPrice: Price\r\n\r\n  public constructor(pairs: Pair[], input: Currency, output?: Currency) {\r\n    invariant(pairs.length > 0, 'PAIRS')\r\n    invariant(\r\n      pairs.every(pair => pair.chainId === pairs[0].chainId),\r\n      'CHAIN_IDS'\r\n    )\r\n    invariant(\r\n      (input instanceof Token && pairs[0].involvesToken(input)) ||\r\n        (input === ETHER && pairs[0].involvesToken(WETH[pairs[0].chainId])),\r\n      'INPUT'\r\n    )\r\n    invariant(\r\n      typeof output === 'undefined' ||\r\n        (output instanceof Token && pairs[pairs.length - 1].involvesToken(output)) ||\r\n        (output === ETHER && pairs[pairs.length - 1].involvesToken(WETH[pairs[0].chainId])),\r\n      'OUTPUT'\r\n    )\r\n\r\n    const path: Token[] = [input instanceof Token ? input : WETH[pairs[0].chainId]]\r\n    for (const [i, pair] of pairs.entries()) {\r\n      const currentInput = path[i]\r\n      invariant(currentInput.equals(pair.token0) || currentInput.equals(pair.token1), 'PATH')\r\n      const output = currentInput.equals(pair.token0) ? pair.token1 : pair.token0\r\n      path.push(output)\r\n    }\r\n\r\n    this.pairs = pairs\r\n    this.path = path\r\n    this.midPrice = Price.fromRoute(this)\r\n    this.input = input\r\n    this.output = output ?? path[path.length - 1]\r\n  }\r\n\r\n  public get chainId(): ChainId {\r\n    return this.pairs[0].chainId\r\n  }\r\n}\r\n","import { Rounding, _100 } from '../../constants'\r\nimport { Fraction } from './fraction'\r\n\r\nconst _100_PERCENT = new Fraction(_100)\r\n\r\nexport class Percent extends Fraction {\r\n  public toSignificant(significantDigits: number = 5, format?: object, rounding?: Rounding): string {\r\n    return this.multiply(_100_PERCENT).toSignificant(significantDigits, format, rounding)\r\n  }\r\n\r\n  public toFixed(decimalPlaces: number = 2, format?: object, rounding?: Rounding): string {\r\n    return this.multiply(_100_PERCENT).toFixed(decimalPlaces, format, rounding)\r\n  }\r\n}\r\n","import invariant from 'tiny-invariant'\r\n\r\nimport { ChainId, ONE, TradeType, ZERO } from '../constants'\r\nimport { sortedInsert } from '../utils'\r\nimport { Currency, ETHER } from './currency'\r\nimport { CurrencyAmount } from './fractions/currencyAmount'\r\nimport { Fraction } from './fractions/fraction'\r\nimport { Percent } from './fractions/percent'\r\nimport { Price } from './fractions/price'\r\nimport { TokenAmount } from './fractions/tokenAmount'\r\nimport { Pair } from './pair'\r\nimport { Route } from './route'\r\nimport { currencyEquals, Token, WETH } from './token'\r\n\r\n/**\r\n * Returns the percent difference between the mid price and the execution price, i.e. price impact.\r\n * @param midPrice mid price before the trade\r\n * @param inputAmount the input amount of the trade\r\n * @param outputAmount the output amount of the trade\r\n */\r\nfunction computePriceImpact(midPrice: Price, inputAmount: CurrencyAmount, outputAmount: CurrencyAmount): Percent {\r\n  const exactQuote = midPrice.raw.multiply(inputAmount.raw)\r\n  // calculate slippage := (exactQuote - outputAmount) / exactQuote\r\n  const slippage = exactQuote.subtract(outputAmount.raw).divide(exactQuote)\r\n  return new Percent(slippage.numerator, slippage.denominator)\r\n}\r\n\r\n// minimal interface so the input output comparator may be shared across types\r\ninterface InputOutput {\r\n  readonly inputAmount: CurrencyAmount\r\n  readonly outputAmount: CurrencyAmount\r\n}\r\n\r\n// comparator function that allows sorting trades by their output amounts, in decreasing order, and then input amounts\r\n// in increasing order. i.e. the best trades have the most outputs for the least inputs and are sorted first\r\nexport function inputOutputComparator(a: InputOutput, b: InputOutput): number {\r\n  // must have same input and output token for comparison\r\n  invariant(currencyEquals(a.inputAmount.currency, b.inputAmount.currency), 'INPUT_CURRENCY')\r\n  invariant(currencyEquals(a.outputAmount.currency, b.outputAmount.currency), 'OUTPUT_CURRENCY')\r\n  if (a.outputAmount.equalTo(b.outputAmount)) {\r\n    if (a.inputAmount.equalTo(b.inputAmount)) {\r\n      return 0\r\n    }\r\n    // trade A requires less input than trade B, so A should come first\r\n    if (a.inputAmount.lessThan(b.inputAmount)) {\r\n      return -1\r\n    } else {\r\n      return 1\r\n    }\r\n  } else {\r\n    // tradeA has less output than trade B, so should come second\r\n    if (a.outputAmount.lessThan(b.outputAmount)) {\r\n      return 1\r\n    } else {\r\n      return -1\r\n    }\r\n  }\r\n}\r\n\r\n// extension of the input output comparator that also considers other dimensions of the trade in ranking them\r\nexport function tradeComparator(a: Trade, b: Trade) {\r\n  const ioComp = inputOutputComparator(a, b)\r\n  if (ioComp !== 0) {\r\n    return ioComp\r\n  }\r\n\r\n  // consider lowest slippage next, since these are less likely to fail\r\n  if (a.priceImpact.lessThan(b.priceImpact)) {\r\n    return -1\r\n  } else if (a.priceImpact.greaterThan(b.priceImpact)) {\r\n    return 1\r\n  }\r\n\r\n  // finally consider the number of hops since each hop costs gas\r\n  return a.route.path.length - b.route.path.length\r\n}\r\n\r\nexport interface BestTradeOptions {\r\n  // how many results to return\r\n  maxNumResults?: number\r\n  // the maximum number of hops a trade should contain\r\n  maxHops?: number\r\n}\r\n\r\n/**\r\n * Given a currency amount and a chain ID, returns the equivalent representation as the token amount.\r\n * In other words, if the currency is ETHER, returns the WETH token amount for the given chain. Otherwise, returns\r\n * the input currency amount.\r\n */\r\nfunction wrappedAmount(currencyAmount: CurrencyAmount, chainId: ChainId): TokenAmount {\r\n  if (currencyAmount instanceof TokenAmount) return currencyAmount\r\n  if (currencyAmount.currency === ETHER) return new TokenAmount(WETH[chainId], currencyAmount.raw)\r\n  invariant(false, 'CURRENCY')\r\n}\r\n\r\nfunction wrappedCurrency(currency: Currency, chainId: ChainId): Token {\r\n  if (currency instanceof Token) return currency\r\n  if (currency === ETHER) return WETH[chainId]\r\n  invariant(false, 'CURRENCY')\r\n}\r\n\r\n/**\r\n * Represents a trade executed against a list of pairs.\r\n * Does not account for slippage, i.e. trades that front run this trade and move the price.\r\n */\r\nexport class Trade {\r\n  /**\r\n   * The route of the trade, i.e. which pairs the trade goes through.\r\n   */\r\n  public readonly route: Route\r\n  /**\r\n   * The type of the trade, either exact in or exact out.\r\n   */\r\n  public readonly tradeType: TradeType\r\n  /**\r\n   * The input amount for the trade assuming no slippage.\r\n   */\r\n  public readonly inputAmount: CurrencyAmount\r\n  /**\r\n   * The output amount for the trade assuming no slippage.\r\n   */\r\n  public readonly outputAmount: CurrencyAmount\r\n  /**\r\n   * The price expressed in terms of output amount/input amount.\r\n   */\r\n  public readonly executionPrice: Price\r\n  /**\r\n   * The mid price after the trade executes assuming no slippage.\r\n   */\r\n  public readonly nextMidPrice: Price\r\n  /**\r\n   * The percent difference between the mid price before the trade and the trade execution price.\r\n   */\r\n  public readonly priceImpact: Percent\r\n\r\n  /**\r\n   * Constructs an exact in trade with the given amount in and route\r\n   * @param route route of the exact in trade\r\n   * @param amountIn the amount being passed in\r\n   */\r\n  public static exactIn(route: Route, amountIn: CurrencyAmount): Trade {\r\n    return new Trade(route, amountIn, TradeType.EXACT_INPUT)\r\n  }\r\n\r\n  /**\r\n   * Constructs an exact out trade with the given amount out and route\r\n   * @param route route of the exact out trade\r\n   * @param amountOut the amount returned by the trade\r\n   */\r\n  public static exactOut(route: Route, amountOut: CurrencyAmount): Trade {\r\n    return new Trade(route, amountOut, TradeType.EXACT_OUTPUT)\r\n  }\r\n\r\n  public constructor(route: Route, amount: CurrencyAmount, tradeType: TradeType) {\r\n    const amounts: TokenAmount[] = new Array(route.path.length)\r\n    const nextPairs: Pair[] = new Array(route.pairs.length)\r\n    if (tradeType === TradeType.EXACT_INPUT) {\r\n      invariant(currencyEquals(amount.currency, route.input), 'INPUT')\r\n      amounts[0] = wrappedAmount(amount, route.chainId)\r\n      for (let i = 0; i < route.path.length - 1; i++) {\r\n        const pair = route.pairs[i]\r\n        const [outputAmount, nextPair] = pair.getOutputAmount(amounts[i])\r\n        amounts[i + 1] = outputAmount\r\n        nextPairs[i] = nextPair\r\n      }\r\n    } else {\r\n      invariant(currencyEquals(amount.currency, route.output), 'OUTPUT')\r\n      amounts[amounts.length - 1] = wrappedAmount(amount, route.chainId)\r\n      for (let i = route.path.length - 1; i > 0; i--) {\r\n        const pair = route.pairs[i - 1]\r\n        const [inputAmount, nextPair] = pair.getInputAmount(amounts[i])\r\n        amounts[i - 1] = inputAmount\r\n        nextPairs[i - 1] = nextPair\r\n      }\r\n    }\r\n\r\n    this.route = route\r\n    this.tradeType = tradeType\r\n    this.inputAmount =\r\n      tradeType === TradeType.EXACT_INPUT\r\n        ? amount\r\n        : route.input === ETHER\r\n        ? CurrencyAmount.ether(amounts[0].raw)\r\n        : amounts[0]\r\n    this.outputAmount =\r\n      tradeType === TradeType.EXACT_OUTPUT\r\n        ? amount\r\n        : route.output === ETHER\r\n        ? CurrencyAmount.ether(amounts[amounts.length - 1].raw)\r\n        : amounts[amounts.length - 1]\r\n    this.executionPrice = new Price(\r\n      this.inputAmount.currency,\r\n      this.outputAmount.currency,\r\n      this.inputAmount.raw,\r\n      this.outputAmount.raw\r\n    )\r\n    this.nextMidPrice = Price.fromRoute(new Route(nextPairs, route.input))\r\n    this.priceImpact = computePriceImpact(route.midPrice, this.inputAmount, this.outputAmount)\r\n  }\r\n\r\n  /**\r\n   * Get the minimum amount that must be received from this trade for the given slippage tolerance\r\n   * @param slippageTolerance tolerance of unfavorable slippage from the execution price of this trade\r\n   */\r\n  public minimumAmountOut(slippageTolerance: Percent): CurrencyAmount {\r\n    invariant(!slippageTolerance.lessThan(ZERO), 'SLIPPAGE_TOLERANCE')\r\n    if (this.tradeType === TradeType.EXACT_OUTPUT) {\r\n      return this.outputAmount\r\n    } else {\r\n      const slippageAdjustedAmountOut = new Fraction(ONE)\r\n        .add(slippageTolerance)\r\n        .invert()\r\n        .multiply(this.outputAmount.raw).quotient\r\n      return this.outputAmount instanceof TokenAmount\r\n        ? new TokenAmount(this.outputAmount.token, slippageAdjustedAmountOut)\r\n        : CurrencyAmount.ether(slippageAdjustedAmountOut)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get the maximum amount in that can be spent via this trade for the given slippage tolerance\r\n   * @param slippageTolerance tolerance of unfavorable slippage from the execution price of this trade\r\n   */\r\n  public maximumAmountIn(slippageTolerance: Percent): CurrencyAmount {\r\n    invariant(!slippageTolerance.lessThan(ZERO), 'SLIPPAGE_TOLERANCE')\r\n    if (this.tradeType === TradeType.EXACT_INPUT) {\r\n      return this.inputAmount\r\n    } else {\r\n      const slippageAdjustedAmountIn = new Fraction(ONE).add(slippageTolerance).multiply(this.inputAmount.raw).quotient\r\n      return this.inputAmount instanceof TokenAmount\r\n        ? new TokenAmount(this.inputAmount.token, slippageAdjustedAmountIn)\r\n        : CurrencyAmount.ether(slippageAdjustedAmountIn)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Given a list of pairs, and a fixed amount in, returns the top `maxNumResults` trades that go from an input token\r\n   * amount to an output token, making at most `maxHops` hops.\r\n   * Note this does not consider aggregation, as routes are linear. It's possible a better route exists by splitting\r\n   * the amount in among multiple routes.\r\n   * @param pairs the pairs to consider in finding the best trade\r\n   * @param currencyAmountIn exact amount of input currency to spend\r\n   * @param currencyOut the desired currency out\r\n   * @param maxNumResults maximum number of results to return\r\n   * @param maxHops maximum number of hops a returned trade can make, e.g. 1 hop goes through a single pair\r\n   * @param currentPairs used in recursion; the current list of pairs\r\n   * @param originalAmountIn used in recursion; the original value of the currencyAmountIn parameter\r\n   * @param bestTrades used in recursion; the current list of best trades\r\n   */\r\n  public static bestTradeExactIn(\r\n    pairs: Pair[],\r\n    currencyAmountIn: CurrencyAmount,\r\n    currencyOut: Currency,\r\n    { maxNumResults = 3, maxHops = 3 }: BestTradeOptions = {},\r\n    // used in recursion.\r\n    currentPairs: Pair[] = [],\r\n    originalAmountIn: CurrencyAmount = currencyAmountIn,\r\n    bestTrades: Trade[] = []\r\n  ): Trade[] {\r\n    invariant(pairs.length > 0, 'PAIRS')\r\n    invariant(maxHops > 0, 'MAX_HOPS')\r\n    invariant(originalAmountIn === currencyAmountIn || currentPairs.length > 0, 'INVALID_RECURSION')\r\n    const chainId: ChainId | undefined =\r\n      currencyAmountIn instanceof TokenAmount\r\n        ? currencyAmountIn.token.chainId\r\n        : currencyOut instanceof Token\r\n        ? currencyOut.chainId\r\n        : undefined\r\n    invariant(chainId !== undefined, 'CHAIN_ID')\r\n\r\n    const amountIn = wrappedAmount(currencyAmountIn, chainId)\r\n    const tokenOut = wrappedCurrency(currencyOut, chainId)\r\n    for (let i = 0; i < pairs.length; i++) {\r\n      const pair = pairs[i]\r\n      // pair irrelevant\r\n      if (!pair.token0.equals(amountIn.token) && !pair.token1.equals(amountIn.token)) continue\r\n      if (pair.reserve0.equalTo(ZERO) || pair.reserve1.equalTo(ZERO)) continue\r\n\r\n      let amountOut: TokenAmount\r\n      try {\r\n        ;[amountOut] = pair.getOutputAmount(amountIn)\r\n      } catch (error) {\r\n        // input too low\r\n        if (error.isInsufficientInputAmountError) {\r\n          continue\r\n        }\r\n        throw error\r\n      }\r\n      // we have arrived at the output token, so this is the final trade of one of the paths\r\n      if (amountOut.token.equals(tokenOut)) {\r\n        sortedInsert(\r\n          bestTrades,\r\n          new Trade(\r\n            new Route([...currentPairs, pair], originalAmountIn.currency, currencyOut),\r\n            originalAmountIn,\r\n            TradeType.EXACT_INPUT\r\n          ),\r\n          maxNumResults,\r\n          tradeComparator\r\n        )\r\n      } else if (maxHops > 1 && pairs.length > 1) {\r\n        const pairsExcludingThisPair = pairs.slice(0, i).concat(pairs.slice(i + 1, pairs.length))\r\n\r\n        // otherwise, consider all the other paths that lead from this token as long as we have not exceeded maxHops\r\n        Trade.bestTradeExactIn(\r\n          pairsExcludingThisPair,\r\n          amountOut,\r\n          currencyOut,\r\n          {\r\n            maxNumResults,\r\n            maxHops: maxHops - 1\r\n          },\r\n          [...currentPairs, pair],\r\n          originalAmountIn,\r\n          bestTrades\r\n        )\r\n      }\r\n    }\r\n\r\n    return bestTrades\r\n  }\r\n\r\n  /**\r\n   * similar to the above method but instead targets a fixed output amount\r\n   * given a list of pairs, and a fixed amount out, returns the top `maxNumResults` trades that go from an input token\r\n   * to an output token amount, making at most `maxHops` hops\r\n   * note this does not consider aggregation, as routes are linear. it's possible a better route exists by splitting\r\n   * the amount in among multiple routes.\r\n   * @param pairs the pairs to consider in finding the best trade\r\n   * @param currencyIn the currency to spend\r\n   * @param currencyAmountOut the exact amount of currency out\r\n   * @param maxNumResults maximum number of results to return\r\n   * @param maxHops maximum number of hops a returned trade can make, e.g. 1 hop goes through a single pair\r\n   * @param currentPairs used in recursion; the current list of pairs\r\n   * @param originalAmountOut used in recursion; the original value of the currencyAmountOut parameter\r\n   * @param bestTrades used in recursion; the current list of best trades\r\n   */\r\n  public static bestTradeExactOut(\r\n    pairs: Pair[],\r\n    currencyIn: Currency,\r\n    currencyAmountOut: CurrencyAmount,\r\n    { maxNumResults = 3, maxHops = 3 }: BestTradeOptions = {},\r\n    // used in recursion.\r\n    currentPairs: Pair[] = [],\r\n    originalAmountOut: CurrencyAmount = currencyAmountOut,\r\n    bestTrades: Trade[] = []\r\n  ): Trade[] {\r\n    invariant(pairs.length > 0, 'PAIRS')\r\n    invariant(maxHops > 0, 'MAX_HOPS')\r\n    invariant(originalAmountOut === currencyAmountOut || currentPairs.length > 0, 'INVALID_RECURSION')\r\n    const chainId: ChainId | undefined =\r\n      currencyAmountOut instanceof TokenAmount\r\n        ? currencyAmountOut.token.chainId\r\n        : currencyIn instanceof Token\r\n        ? currencyIn.chainId\r\n        : undefined\r\n    invariant(chainId !== undefined, 'CHAIN_ID')\r\n\r\n    const amountOut = wrappedAmount(currencyAmountOut, chainId)\r\n    const tokenIn = wrappedCurrency(currencyIn, chainId)\r\n    for (let i = 0; i < pairs.length; i++) {\r\n      const pair = pairs[i]\r\n      // pair irrelevant\r\n      if (!pair.token0.equals(amountOut.token) && !pair.token1.equals(amountOut.token)) continue\r\n      if (pair.reserve0.equalTo(ZERO) || pair.reserve1.equalTo(ZERO)) continue\r\n\r\n      let amountIn: TokenAmount\r\n      try {\r\n        ;[amountIn] = pair.getInputAmount(amountOut)\r\n      } catch (error) {\r\n        // not enough liquidity in this pair\r\n        if (error.isInsufficientReservesError) {\r\n          continue\r\n        }\r\n        throw error\r\n      }\r\n      // we have arrived at the input token, so this is the first trade of one of the paths\r\n      if (amountIn.token.equals(tokenIn)) {\r\n        sortedInsert(\r\n          bestTrades,\r\n          new Trade(\r\n            new Route([pair, ...currentPairs], currencyIn, originalAmountOut.currency),\r\n            originalAmountOut,\r\n            TradeType.EXACT_OUTPUT\r\n          ),\r\n          maxNumResults,\r\n          tradeComparator\r\n        )\r\n      } else if (maxHops > 1 && pairs.length > 1) {\r\n        const pairsExcludingThisPair = pairs.slice(0, i).concat(pairs.slice(i + 1, pairs.length))\r\n\r\n        // otherwise, consider all the other paths that arrive at this token as long as we have not exceeded maxHops\r\n        Trade.bestTradeExactOut(\r\n          pairsExcludingThisPair,\r\n          currencyIn,\r\n          amountIn,\r\n          {\r\n            maxNumResults,\r\n            maxHops: maxHops - 1\r\n          },\r\n          [pair, ...currentPairs],\r\n          originalAmountOut,\r\n          bestTrades\r\n        )\r\n      }\r\n    }\r\n\r\n    return bestTrades\r\n  }\r\n}\r\n","import { Contract } from '@ethersproject/contracts'\r\nimport { getNetwork } from '@ethersproject/networks'\r\nimport { getDefaultProvider } from '@ethersproject/providers'\r\nimport { TokenAmount } from './entities/fractions/tokenAmount'\r\nimport { Pair } from './entities/pair'\r\nimport IUniswapV2Pair from '@uniswap/v2-core/build/IUniswapV2Pair.json'\r\nimport invariant from 'tiny-invariant'\r\nimport ERC20 from './abis/ERC20.json'\r\nimport { ChainId } from './constants'\r\nimport { Token } from './entities/token'\r\n\r\nlet TOKEN_DECIMALS_CACHE: { [chainId: number]: { [address: string]: number } } = {\r\n  [ChainId.MAINNET]: {\r\n    '0xE0B7927c4aF23765Cb51314A0E0521A9645F0E2A': 9 // DGD\r\n  }\r\n}\r\n\r\n/**\r\n * Contains methods for constructing instances of pairs and tokens from on-chain data.\r\n */\r\nexport abstract class Fetcher {\r\n  /**\r\n   * Cannot be constructed.\r\n   */\r\n  private constructor() {}\r\n\r\n  /**\r\n   * Fetch information for a given token on the given chain, using the given ethers provider.\r\n   * @param chainId chain of the token\r\n   * @param address address of the token on the chain\r\n   * @param provider provider used to fetch the token\r\n   * @param symbol optional symbol of the token\r\n   * @param name optional name of the token\r\n   */\r\n  public static async fetchTokenData(\r\n    chainId: ChainId,\r\n    address: string,\r\n    provider = getDefaultProvider(getNetwork(chainId)),\r\n    symbol?: string,\r\n    name?: string\r\n  ): Promise<Token> {\r\n    const parsedDecimals =\r\n      typeof TOKEN_DECIMALS_CACHE?.[chainId]?.[address] === 'number'\r\n        ? TOKEN_DECIMALS_CACHE[chainId][address]\r\n        : await new Contract(address, ERC20, provider).decimals().then((decimals: number): number => {\r\n            TOKEN_DECIMALS_CACHE = {\r\n              ...TOKEN_DECIMALS_CACHE,\r\n              [chainId]: {\r\n                ...TOKEN_DECIMALS_CACHE?.[chainId],\r\n                [address]: decimals\r\n              }\r\n            }\r\n            return decimals\r\n          })\r\n    return new Token(chainId, address, parsedDecimals, symbol, name)\r\n  }\r\n\r\n  /**\r\n   * Fetches information about a pair and constructs a pair from the given two tokens.\r\n   * @param tokenA first token\r\n   * @param tokenB second token\r\n   * @param provider the provider to use to fetch the data\r\n   */\r\n  public static async fetchPairData(\r\n    tokenA: Token,\r\n    tokenB: Token,\r\n    provider = getDefaultProvider(getNetwork(tokenA.chainId))\r\n  ): Promise<Pair> {\r\n    invariant(tokenA.chainId === tokenB.chainId, 'CHAIN_ID')\r\n    const address = Pair.getAddress(tokenA, tokenB)\r\n    const [reserves0, reserves1] = await new Contract(address, IUniswapV2Pair.abi, provider).getReserves()\r\n    const balances = tokenA.sortsBefore(tokenB) ? [reserves0, reserves1] : [reserves1, reserves0]\r\n    return new Pair(new TokenAmount(tokenA, balances[0]), new TokenAmount(tokenB, balances[1]))\r\n  }\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/arrow-down-blue.114fab91.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow-down-grey.4d4a6a99.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow-right-white.337ad716.png\";","module.exports = __webpack_public_path__ + \"static/media/arrow-right.e96d8158.svg\";","module.exports = __webpack_public_path__ + \"static/media/circle-grey.5dd950ec.svg\";","module.exports = __webpack_public_path__ + \"static/media/circle.716403ba.svg\";","module.exports = __webpack_public_path__ + \"static/media/dropdown-blue.80a3ae25.svg\";","module.exports = __webpack_public_path__ + \"static/media/dropdown.50dbd07d.svg\";","module.exports = __webpack_public_path__ + \"static/media/dropup-blue.345dad74.svg\";","module.exports = __webpack_public_path__ + \"static/media/link.50c67f3c.svg\";","module.exports = __webpack_public_path__ + \"static/media/magnifying-glass.52eac682.svg\";","module.exports = __webpack_public_path__ + \"static/media/menu.22df44f7.svg\";","import { TransactionResponse } from '@ethersproject/providers'\r\nimport { useCallback, useMemo } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { AppDispatch, AppState } from '../index'\r\nimport { addTransaction } from './actions'\r\nimport { TransactionDetails } from './reducer'\r\n\r\n// helper that can take a ethers library transaction response and add it to the list of transactions\r\nexport function useTransactionAdder(): (\r\n  response: TransactionResponse,\r\n  customData?: { summary?: string; approval?: { tokenAddress: string; spender: string } }\r\n) => void {\r\n  const { chainId, account } = useActiveWeb3React()\r\n  const dispatch = useDispatch<AppDispatch>()\r\n\r\n  return useCallback(\r\n    (\r\n      response: TransactionResponse,\r\n      { summary, approval }: { summary?: string; approval?: { tokenAddress: string; spender: string } } = {}\r\n    ) => {\r\n      if (!account) return\r\n      if (!chainId) return\r\n\r\n      const { hash } = response\r\n      if (!hash) {\r\n        throw Error('No transaction hash found.')\r\n      }\r\n      dispatch(addTransaction({ hash, from: account, chainId, approval, summary }))\r\n    },\r\n    [dispatch, chainId, account]\r\n  )\r\n}\r\n\r\n// returns all the transactions for the current chain\r\nexport function useAllTransactions(): { [txHash: string]: TransactionDetails } {\r\n  const { chainId } = useActiveWeb3React()\r\n\r\n  const state = useSelector<AppState, AppState['transactions']>(state => state.transactions)\r\n\r\n  return chainId ? state[chainId] ?? {} : {}\r\n}\r\n\r\nexport function useIsTransactionPending(transactionHash?: string): boolean {\r\n  const transactions = useAllTransactions()\r\n\r\n  if (!transactionHash || !transactions[transactionHash]) return false\r\n\r\n  return !transactions[transactionHash].receipt\r\n}\r\n\r\n/**\r\n * Returns whether a transaction happened in the last day (86400 seconds * 1000 milliseconds / second)\r\n * @param tx to check for recency\r\n */\r\nexport function isTransactionRecent(tx: TransactionDetails): boolean {\r\n  return new Date().getTime() - tx.addedTime < 86_400_000\r\n}\r\n\r\n// returns whether a token has a pending approval transaction\r\nexport function useHasPendingApproval(tokenAddress: string | undefined, spender: string | undefined): boolean {\r\n  const allTransactions = useAllTransactions()\r\n  return useMemo(\r\n    () =>\r\n      typeof tokenAddress === 'string' &&\r\n      typeof spender === 'string' &&\r\n      Object.keys(allTransactions).some(hash => {\r\n        const tx = allTransactions[hash]\r\n        if (!tx) return false\r\n        if (tx.receipt) {\r\n          return false\r\n        } else {\r\n          const approval = tx.approval\r\n          if (!approval) return false\r\n          return approval.spender === spender && approval.tokenAddress === tokenAddress && isTransactionRecent(tx)\r\n        }\r\n      }),\r\n    [allTransactions, spender, tokenAddress]\r\n  )\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/plus-blue.899a4aa9.svg\";","module.exports = __webpack_public_path__ + \"static/media/plus-grey.62281ca8.svg\";","module.exports = __webpack_public_path__ + \"static/media/question-mark.1761ff9c.svg\";","module.exports = __webpack_public_path__ + \"static/media/question.63be1e24.svg\";","module.exports = __webpack_public_path__ + \"static/media/spinner.a9842492.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/trustWallet.edcc1ab5.png\";","module.exports = __webpack_public_path__ + \"static/media/x.5b8e2186.svg\";","import i18next from 'i18next'\r\nimport { initReactI18next } from 'react-i18next'\r\nimport XHR from 'i18next-xhr-backend'\r\nimport LanguageDetector from 'i18next-browser-languagedetector'\r\n\r\ni18next\r\n  .use(XHR)\r\n  .use(LanguageDetector)\r\n  .use(initReactI18next)\r\n  .init({\r\n    backend: {\r\n      loadPath: `./locales/{{lng}}.json`\r\n    },\r\n    //load: 'languageOnly',\r\n    react: {\r\n      useSuspense: true\r\n    },\r\n    fallbackLng: {\r\n      en: ['en'],\r\n      zh: ['zh-CN', 'en']\r\n    },\r\n    preload: ['en', 'zh-CN'],\r\n    keySeparator: false,\r\n    interpolation: { escapeValue: false }\r\n  })\r\n\r\n//i18next.changeLanguage('en', (err, t) => {})\r\n\r\nexport default i18next\r\n","import { useEffect } from 'react'\r\nimport ReactGA from 'react-ga'\r\nimport { RouteComponentProps } from 'react-router-dom'\r\n\r\n// fires a GA pageview every time the route changes\r\nexport default function GoogleAnalyticsReporter({ location: { pathname, search } }: RouteComponentProps): null {\r\n  useEffect(() => {\r\n    ReactGA.pageview(`${pathname}${search}`)\r\n  }, [pathname, search])\r\n  return null\r\n}\r\n","import styled from 'styled-components'\r\nimport { Box } from 'rebass/styled-components'\r\n\r\nconst Row = styled(Box)<{ align?: string; padding?: string; border?: string; borderRadius?: string }>`\r\n  width: 100%;\r\n  display: flex;\r\n  padding: 0;\r\n  align-items: ${({ align }) => (align ? align : 'center')};\r\n  padding: ${({ padding }) => padding};\r\n  border: ${({ border }) => border};\r\n  border-radius: ${({ borderRadius }) => borderRadius};\r\n`\r\n\r\nexport const RowBetween = styled(Row)`\r\n  justify-content: space-between;\r\n`\r\n\r\nexport const RowFlat = styled.div`\r\n  display: flex;\r\n  align-items: flex-end;\r\n`\r\n\r\nexport const AutoRow = styled(Row)<{ gap?: string; justify?: string }>`\r\n  flex-wrap: wrap;\r\n  margin: ${({ gap }) => gap && `-${gap}`};\r\n  justify-content: ${({ justify }) => justify && justify};\r\n\r\n  & > * {\r\n    margin: ${({ gap }) => gap} !important;\r\n  }\r\n`\r\n\r\nexport const RowFixed = styled(Row)<{ gap?: string; justify?: string }>`\r\n  width: fit-content;\r\n  margin: ${({ gap }) => gap && `-${gap}`};\r\n`\r\n\r\nexport default Row\r\n","import { Placement } from '@popperjs/core'\r\nimport { transparentize } from 'polished'\r\nimport React, { useCallback, useState } from 'react'\r\nimport { usePopper } from 'react-popper'\r\nimport styled from 'styled-components'\r\nimport useInterval from '../../hooks/useInterval'\r\nimport Portal from '@reach/portal'\r\n\r\nconst PopoverContainer = styled.div<{ show: boolean }>`\r\n  z-index: 9999;\r\n\r\n  visibility: ${props => (props.show ? 'visible' : 'hidden')};\r\n  opacity: ${props => (props.show ? 1 : 0)};\r\n  transition: visibility 150ms linear, opacity 150ms linear;\r\n\r\n  background: ${({ theme }) => theme.bg1};\r\n  border: 1px solid ${({ theme }) => theme.bg3};\r\n  box-shadow: 0 4px 8px 0 ${({ theme }) => transparentize(0.9, theme.shadow1)};\r\n  color: ${({ theme }) => theme.text2};\r\n  border-radius: 8px;\r\n`\r\n\r\nconst ReferenceElement = styled.div`\r\n  display: inline-block;\r\n`\r\n\r\nconst Arrow = styled.div`\r\n  width: 8px;\r\n  height: 8px;\r\n  z-index: 9998;\r\n\r\n  ::before {\r\n    position: absolute;\r\n    width: 8px;\r\n    height: 8px;\r\n    z-index: 9998;\r\n\r\n    content: '';\r\n    border: 1px solid ${({ theme }) => theme.bg3};\r\n    transform: rotate(45deg);\r\n    background: ${({ theme }) => theme.bg1};\r\n  }\r\n\r\n  &.arrow-top {\r\n    bottom: -5px;\r\n    ::before {\r\n      border-top: none;\r\n      border-left: none;\r\n    }\r\n  }\r\n\r\n  &.arrow-bottom {\r\n    top: -5px;\r\n    ::before {\r\n      border-bottom: none;\r\n      border-right: none;\r\n    }\r\n  }\r\n\r\n  &.arrow-left {\r\n    right: -5px;\r\n\r\n    ::before {\r\n      border-bottom: none;\r\n      border-left: none;\r\n    }\r\n  }\r\n\r\n  &.arrow-right {\r\n    left: -5px;\r\n    ::before {\r\n      border-right: none;\r\n      border-top: none;\r\n    }\r\n  }\r\n`\r\n\r\nexport interface PopoverProps {\r\n  content: React.ReactNode\r\n  show: boolean\r\n  children: React.ReactNode\r\n  placement?: Placement\r\n}\r\n\r\nexport default function Popover({ content, show, children, placement = 'auto' }: PopoverProps) {\r\n  const [referenceElement, setReferenceElement] = useState<HTMLDivElement | null>(null)\r\n  const [popperElement, setPopperElement] = useState<HTMLDivElement | null>(null)\r\n  const [arrowElement, setArrowElement] = useState<HTMLDivElement | null>(null)\r\n  const { styles, update, attributes } = usePopper(referenceElement, popperElement, {\r\n    placement,\r\n    strategy: 'fixed',\r\n    modifiers: [\r\n      { name: 'offset', options: { offset: [8, 8] } },\r\n      { name: 'arrow', options: { element: arrowElement } }\r\n    ]\r\n  })\r\n  const updateCallback = useCallback(() => {\r\n    update && update()\r\n  }, [update])\r\n  useInterval(updateCallback, show ? 100 : null)\r\n\r\n  return (\r\n    <>\r\n      <ReferenceElement ref={setReferenceElement as any}>{children}</ReferenceElement>\r\n      <Portal>\r\n        <PopoverContainer show={show} ref={setPopperElement as any} style={styles.popper} {...attributes.popper}>\r\n          {content}\r\n          <Arrow\r\n            className={`arrow-${attributes.popper?.['data-popper-placement'] ?? ''}`}\r\n            ref={setArrowElement as any}\r\n            style={styles.arrow}\r\n            {...attributes.arrow}\r\n          />\r\n        </PopoverContainer>\r\n      </Portal>\r\n    </>\r\n  )\r\n}\r\n","import { useEffect, useRef } from 'react'\r\n\r\nexport default function useInterval(callback: () => void, delay: null | number, leading = true) {\r\n  const savedCallback = useRef<() => void>()\r\n\r\n  // Remember the latest callback.\r\n  useEffect(() => {\r\n    savedCallback.current = callback\r\n  }, [callback])\r\n\r\n  // Set up the interval.\r\n  useEffect(() => {\r\n    function tick() {\r\n      const current = savedCallback.current\r\n      current && current()\r\n    }\r\n\r\n    if (delay !== null) {\r\n      if (leading) tick()\r\n      const id = setInterval(tick, delay)\r\n      return () => clearInterval(id)\r\n    }\r\n    return undefined\r\n  }, [delay, leading])\r\n}\r\n","import React, { useCallback, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport Popover, { PopoverProps } from '../Popover'\r\n\r\nconst TooltipContainer = styled.div`\r\n  width: 228px;\r\n  padding: 0.6rem 1rem;\r\n  line-height: 150%;\r\n  font-size: 14px\r\n  font-weight: 400;\r\n`\r\n\r\ninterface TooltipProps extends Omit<PopoverProps, 'content'> {\r\n  text: string\r\n}\r\n\r\nexport default function Tooltip({ text, ...rest }: TooltipProps) {\r\n  return <Popover content={<TooltipContainer>{text}</TooltipContainer>} {...rest} />\r\n}\r\n\r\nexport function MouseoverTooltip({ children, ...rest }: Omit<TooltipProps, 'show'>) {\r\n  const [show, setShow] = useState(false)\r\n  const open = useCallback(() => setShow(true), [setShow])\r\n  const close = useCallback(() => setShow(false), [setShow])\r\n  return (\r\n    <Tooltip {...rest} show={show}>\r\n      <div onMouseEnter={open} onMouseLeave={close}>\r\n        {children}\r\n      </div>\r\n    </Tooltip>\r\n  )\r\n}\r\n","import React, { useCallback, useState } from 'react'\r\nimport { HelpCircle as Question } from 'react-feather'\r\nimport styled from 'styled-components'\r\nimport Tooltip from '../Tooltip'\r\n\r\nconst QuestionWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 0.2rem;\r\n  border: none;\r\n  background: none;\r\n  outline: none;\r\n  cursor: pointer;\r\n  border-radius: 36px;\r\n  background-color: ${({ theme }) => theme.bg2};\r\n  color: ${({ theme }) => theme.text2};\r\n\r\n  :hover,\r\n  :focus {\r\n    opacity: 0.7;\r\n  }\r\n`\r\n\r\nexport default function QuestionHelper({ text }: { text: string }) {\r\n  const [show, setShow] = useState<boolean>(false)\r\n\r\n  const open = useCallback(() => setShow(true), [setShow])\r\n  const close = useCallback(() => setShow(false), [setShow])\r\n\r\n  return (\r\n    <span style={{ marginLeft: 4 }}>\r\n      <Tooltip text={text} show={show}>\r\n        <QuestionWrapper onClick={open} onMouseEnter={open} onMouseLeave={close}>\r\n          <Question size={16} />\r\n        </QuestionWrapper>\r\n      </Tooltip>\r\n    </span>\r\n  )\r\n}\r\n","import { useCallback, useState } from 'react'\r\n\r\nexport default function useToggle(initialState = false): [boolean, () => void] {\r\n  const [state, setState] = useState(initialState)\r\n  const toggle = useCallback(() => setState(state => !state), [])\r\n  return [state, toggle]\r\n}\r\n","import { RefObject, useEffect, useRef } from 'react'\r\n\r\nexport function useOnClickOutside<T extends HTMLElement>(\r\n  node: RefObject<T | undefined>,\r\n  handler: undefined | (() => void)\r\n) {\r\n  const handlerRef = useRef<undefined | (() => void)>(handler)\r\n  useEffect(() => {\r\n    handlerRef.current = handler\r\n  }, [handler])\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (e: MouseEvent) => {\r\n      if (node.current?.contains(e.target as Node) ?? false) {\r\n        return\r\n      }\r\n      if (handlerRef.current) handlerRef.current()\r\n    }\r\n\r\n    document.addEventListener('mousedown', handleClickOutside)\r\n\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside)\r\n    }\r\n  }, [node])\r\n}\r\n","import React, { useContext, useRef } from 'react'\r\nimport styled, { ThemeContext } from 'styled-components'\r\nimport { darken } from 'polished'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { NavLink, Link as HistoryLink, RouteComponentProps, withRouter } from 'react-router-dom'\r\n\r\nimport { ArrowLeft, Share } from 'react-feather'\r\nimport { RowBetween } from '../Row'\r\nimport QuestionHelper from '../QuestionHelper'\r\nimport {\r\n  FacebookShareButton,\r\n  FacebookIcon,\r\n  RedditShareButton,\r\n  RedditIcon,\r\n  TelegramShareButton,\r\n  TelegramIcon,\r\n  TwitterShareButton,\r\n  TwitterIcon,\r\n  WhatsappShareButton,\r\n  WhatsappIcon\r\n} from 'react-share'\r\nimport useToggle from '../../hooks/useToggle'\r\nimport { useOnClickOutside } from '../../hooks/useOnClickOutside'\r\n\r\nconst Tabs = styled.div`\r\n  ${({ theme }) => theme.flexRowNoWrap}\r\n  align-items: center;\r\n  border-radius: 3rem;\r\n  justify-content: space-evenly;\r\n  @media (max-width: 575.98px) {\r\n    flex-wrap: wrap;\r\n    flex-direction: row;\r\n    justify-content: flex-start;\r\n    align-items: stretch;\r\n  }\r\n`\r\n\r\nconst StyledTabs = styled(Tabs)`\r\n  ${({ theme }) => theme.flexRowNoWrap}\r\n  align-items: center;\r\n  border-radius: 3rem;\r\n  justify-content: space-evenly;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    flex-flow: column;\r\n    align-items: start;\r\n  `};\r\n`\r\n\r\nconst StyledBackHeadingWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-evenly;\r\n  border-bottom: ${({ theme }) => `1px solid ${theme.bg3}`};\r\n  border-radius: 1rem 1rem 0 0;\r\n  background: ${({ theme }) => theme.bg2};\r\n  width: 100%;\r\n  max-width: 800px;\r\n`\r\n\r\n// const StyledHistoryLink = styled(HistoryLink)`\r\n//   height: 1.5rem;\r\n// `\r\n\r\nconst activeClassName = 'ACTIVE'\r\n\r\nexport const StyledNavLink = styled(NavLink).attrs({\r\n  activeClassName\r\n})`\r\n  ${({ theme }) => theme.flexRowNoWrap}\r\n  position: relative;\r\n  align-items: center;\r\n  justify-content: center;\r\n  outline: none;\r\n  cursor: pointer;\r\n  text-decoration: none;\r\n  color: ${({ theme }) => theme.text3};\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  padding-left: 1.5rem;\r\n\r\n  &.${activeClassName} {\r\n    color: ${({ theme }) => theme.text1};\r\n  }\r\n\r\n  :hover,\r\n  :focus {\r\n    color: ${({ theme }) => darken(0.1, theme.text1)};\r\n  }\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    padding-left: 0;\r\n    padding-bottom: 1rem;\r\n    margin-bottom: 1rem;\r\n    border-bottom: ${({ theme }) => `1px solid ${theme.bg4}`};\r\n    justify-content: start;\r\n    width: 100%;\r\n  `};\r\n`\r\n\r\nconst ActiveText = styled.div`\r\n  font-weight: 600;\r\n  font-size: 16px;\r\n`\r\n\r\nconst StyledShareWrapper = styled.div`\r\n  position: relative;\r\n`\r\n\r\nconst StyledShareButtonsWrapper = styled.div`\r\n  height: 2rem;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n`\r\n\r\nconst MenuFlyout = styled.span`\r\n  background-color: ${({ theme }) => theme.bg3};\r\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.01), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04),\r\n    0px 24px 32px rgba(0, 0, 0, 0.01);\r\n  border-radius: 0.5rem;\r\n  padding: 1rem;\r\n  font-size: 1rem;\r\n  position: absolute;\r\n  top: 2rem;\r\n  right: 0rem;\r\n  width: 208px;\r\n  z-index: 100;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    min-width: 12rem;\r\n  `};\r\n`\r\n\r\nconst StyledShareIcon = styled(Share)`\r\n  cursor: pointer;\r\n  transition: all 0.5s ease;\r\n\r\n  :hover,\r\n  :focus {\r\n    outline: none;\r\n    stroke: ${({ theme }) => theme.bg4};\r\n  }\r\n`\r\n\r\nconst StyledBackIcon = styled(ArrowLeft)`\r\n  cursor: pointer;\r\n  transition: all 0.5s ease;\r\n\r\n  :hover,\r\n  :focus {\r\n    outline: none;\r\n    stroke: ${({ theme }) => theme.bg4};\r\n  }\r\n`\r\n\r\nconst StyledSpacerDiv = styled.div`\r\n  width: 24px;\r\n`\r\n\r\nexport function GroupStakingTabs({ active }: { active: string }) {\r\n  const { t } = useTranslation()\r\n\r\n  return (\r\n    <StyledTabs>\r\n      <StyledNavLink\r\n        id={`home-nav-link`}\r\n        to={'/'}\r\n        isActive={() => active === '' || active === 'open' || active === 'active' || active === 'ended'}\r\n      >\r\n        {t('Funds')}\r\n      </StyledNavLink>\r\n      <StyledNavLink id={`trades-nav-link`} to={'/trades'} isActive={() => active === 'trades'}>\r\n        {t('Tokens')}\r\n      </StyledNavLink>\r\n      <StyledNavLink id={`staking-nav-link`} to={'/staking'} isActive={() => active === 'staking'}>\r\n        {t('Stake')}\r\n      </StyledNavLink>\r\n      <StyledNavLink id={`leaderboard-nav-link`} to={'/leaderboard'} isActive={() => active === 'leaderboard'}>\r\n        {t('Leaderboard')}\r\n      </StyledNavLink>\r\n    </StyledTabs>\r\n  )\r\n}\r\n\r\nexport function MainTabs({ items, active }: { items: any; active: string }) {\r\n  const { t } = useTranslation()\r\n  return (\r\n    <Tabs style={{ marginBottom: '20px' }}>\r\n      {items.map((item: any) => {\r\n        return (\r\n          <StyledNavLink key={item.key} to={item.path} isActive={() => active === item.key}>\r\n            {t(item.title)}\r\n          </StyledNavLink>\r\n        )\r\n      })}\r\n    </Tabs>\r\n  )\r\n}\r\n\r\nexport function FindPoolTabs() {\r\n  return (\r\n    <Tabs>\r\n      <RowBetween style={{ padding: '1rem' }}>\r\n        <HistoryLink to=\"/pool\">\r\n          <ArrowLeft />\r\n        </HistoryLink>\r\n        <ActiveText>Import Pool</ActiveText>\r\n        <QuestionHelper text={\"Use this tool to find pairs that don't automatically appear in the interface.\"} />\r\n      </RowBetween>\r\n    </Tabs>\r\n  )\r\n}\r\n\r\ninterface HeadingProps {\r\n  backPath?: any\r\n  title: string\r\n  helperText?: string\r\n  showShare?: boolean\r\n}\r\n\r\nexport function TheMainHeading({\r\n  history,\r\n  location,\r\n  backPath,\r\n  title,\r\n  helperText,\r\n  showShare\r\n}: RouteComponentProps & HeadingProps) {\r\n  const theme = useContext(ThemeContext)\r\n\r\n  const node = useRef<HTMLDivElement>()\r\n  const [open, toggle] = useToggle(false)\r\n\r\n  const shareUrl = location.pathname\r\n\r\n  useOnClickOutside(node, open ? toggle : undefined)\r\n\r\n  return (\r\n    <StyledBackHeadingWrapper>\r\n      <RowBetween style={{ padding: '1rem' }}>\r\n        {backPath ? <StyledBackIcon color={theme.primary1} onClick={() => history.goBack()} /> : null}\r\n        <ActiveText>{title}</ActiveText>\r\n        {!helperText && !showShare && <StyledSpacerDiv />}\r\n        {helperText && <QuestionHelper text={helperText} />}\r\n        {showShare && (\r\n          <StyledShareWrapper ref={node as any}>\r\n            <StyledShareIcon color={theme.primary1} onClick={toggle} />\r\n            {open && (\r\n              <MenuFlyout>\r\n                <StyledShareButtonsWrapper>\r\n                  <FacebookShareButton url={`https://app.unifund.global${shareUrl}`}>\r\n                    <FacebookIcon size={32} borderRadius={4} />\r\n                  </FacebookShareButton>\r\n                  <RedditShareButton url={`https://app.unifund.global${shareUrl}`}>\r\n                    <RedditIcon size={32} borderRadius={4} />\r\n                  </RedditShareButton>\r\n                  <TelegramShareButton url={`https://app.unifund.global${shareUrl}`}>\r\n                    <TelegramIcon size={32} borderRadius={4} />\r\n                  </TelegramShareButton>\r\n                  <TwitterShareButton url={`https://app.unifund.global${shareUrl}`}>\r\n                    <TwitterIcon size={32} borderRadius={4} />\r\n                  </TwitterShareButton>\r\n                  <WhatsappShareButton url={`https://app.unifund.global${shareUrl}`}>\r\n                    <WhatsappIcon size={32} borderRadius={4} />\r\n                  </WhatsappShareButton>\r\n                </StyledShareButtonsWrapper>\r\n              </MenuFlyout>\r\n            )}\r\n          </StyledShareWrapper>\r\n        )}\r\n      </RowBetween>\r\n    </StyledBackHeadingWrapper>\r\n  )\r\n}\r\n\r\nexport const MainHeading = withRouter(TheMainHeading)\r\n","import { createAction } from '@reduxjs/toolkit'\r\nimport { TokenList } from '@uniswap/token-lists'\r\n\r\nexport type PopupContent =\r\n  | {\r\n      txn: {\r\n        hash: string\r\n        success: boolean\r\n        summary?: string\r\n      }\r\n    }\r\n  | {\r\n      listUpdate: {\r\n        listUrl: string\r\n        oldList: TokenList\r\n        newList: TokenList\r\n        auto: boolean\r\n      }\r\n    }\r\n\r\nexport const updateBlockNumber = createAction<{ chainId: number; blockNumber: number }>('app/updateBlockNumber')\r\nexport const toggleWalletModal = createAction<void>('app/toggleWalletModal')\r\nexport const toggleSettingsMenu = createAction<void>('app/toggleSettingsMenu')\r\nexport const addPopup = createAction<{ key?: string; removeAfterMs?: number | null; content: PopupContent }>(\r\n  'app/addPopup'\r\n)\r\nexport const removePopup = createAction<{ key: string }>('app/removePopup')\r\n","import { useCallback, useMemo } from 'react'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { addPopup, PopupContent, removePopup, toggleWalletModal, toggleSettingsMenu } from './actions'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { AppState } from '../index'\r\n\r\nexport function useBlockNumber(): number | undefined {\r\n  const { chainId } = useActiveWeb3React()\r\n\r\n  return useSelector((state: AppState) => state.application.blockNumber[chainId ?? -1])\r\n}\r\n\r\nexport function useWalletModalOpen(): boolean {\r\n  return useSelector((state: AppState) => state.application.walletModalOpen)\r\n}\r\n\r\nexport function useWalletModalToggle(): () => void {\r\n  const dispatch = useDispatch()\r\n  return useCallback(() => dispatch(toggleWalletModal()), [dispatch])\r\n}\r\n\r\nexport function useSettingsMenuOpen(): boolean {\r\n  return useSelector((state: AppState) => state.application.settingsMenuOpen)\r\n}\r\n\r\nexport function useToggleSettingsMenu(): () => void {\r\n  const dispatch = useDispatch()\r\n  return useCallback(() => dispatch(toggleSettingsMenu()), [dispatch])\r\n}\r\n\r\n// returns a function that allows adding a popup\r\nexport function useAddPopup(): (content: PopupContent, key?: string) => void {\r\n  const dispatch = useDispatch()\r\n\r\n  return useCallback(\r\n    (content: PopupContent, key?: string) => {\r\n      dispatch(addPopup({ content, key }))\r\n    },\r\n    [dispatch]\r\n  )\r\n}\r\n\r\n// returns a function that allows removing a popup via its key\r\nexport function useRemovePopup(): (key: string) => void {\r\n  const dispatch = useDispatch()\r\n  return useCallback(\r\n    (key: string) => {\r\n      dispatch(removePopup({ key }))\r\n    },\r\n    [dispatch]\r\n  )\r\n}\r\n\r\n// get the list of active popups\r\nexport function useActivePopups(): AppState['application']['popupList'] {\r\n  const list = useSelector((state: AppState) => state.application.popupList)\r\n  return useMemo(() => list.filter(item => item.show), [list])\r\n}\r\n","import { createAction } from '@reduxjs/toolkit'\r\n\r\nexport interface Call {\r\n  address: string\r\n  callData: string\r\n}\r\n\r\nconst ADDRESS_REGEX = /^0x[a-fA-F0-9]{40}$/\r\nconst LOWER_HEX_REGEX = /^0x[a-f0-9]*$/\r\nexport function toCallKey(call: Call): string {\r\n  if (!ADDRESS_REGEX.test(call.address)) {\r\n    throw new Error(`Invalid address: ${call.address}`)\r\n  }\r\n  if (!LOWER_HEX_REGEX.test(call.callData)) {\r\n    throw new Error(`Invalid hex: ${call.callData}`)\r\n  }\r\n  return `${call.address}-${call.callData}`\r\n}\r\n\r\nexport function parseCallKey(callKey: string): Call {\r\n  const pcs = callKey.split('-')\r\n  if (pcs.length !== 2) {\r\n    throw new Error(`Invalid call key: ${callKey}`)\r\n  }\r\n  return {\r\n    address: pcs[0],\r\n    callData: pcs[1]\r\n  }\r\n}\r\n\r\nexport interface ListenerOptions {\r\n  // how often this data should be fetched, by default 1\r\n  readonly blocksPerFetch?: number\r\n}\r\n\r\nexport const addMulticallListeners = createAction<{ chainId: number; calls: Call[]; options?: ListenerOptions }>(\r\n  'multicall/addMulticallListeners'\r\n)\r\nexport const removeMulticallListeners = createAction<{ chainId: number; calls: Call[]; options?: ListenerOptions }>(\r\n  'multicall/removeMulticallListeners'\r\n)\r\nexport const fetchingMulticallResults = createAction<{ chainId: number; calls: Call[]; fetchingBlockNumber: number }>(\r\n  'multicall/fetchingMulticallResults'\r\n)\r\nexport const errorFetchingMulticallResults = createAction<{\r\n  chainId: number\r\n  calls: Call[]\r\n  fetchingBlockNumber: number\r\n}>('multicall/errorFetchingMulticallResults')\r\nexport const updateMulticallResults = createAction<{\r\n  chainId: number\r\n  blockNumber: number\r\n  results: {\r\n    [callKey: string]: string | null\r\n  }\r\n}>('multicall/updateMulticallResults')\r\n","import { Interface, FunctionFragment } from '@ethersproject/abi'\r\nimport { BigNumber } from '@ethersproject/bignumber'\r\nimport { Contract } from '@ethersproject/contracts'\r\nimport { useEffect, useMemo } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { useBlockNumber } from '../application/hooks'\r\nimport { AppDispatch, AppState } from '../index'\r\nimport {\r\n  addMulticallListeners,\r\n  Call,\r\n  removeMulticallListeners,\r\n  parseCallKey,\r\n  toCallKey,\r\n  ListenerOptions\r\n} from './actions'\r\n\r\nexport interface Result extends ReadonlyArray<any> {\r\n  readonly [key: string]: any\r\n}\r\n\r\ntype MethodArg = string | number | BigNumber\r\ntype MethodArgs = Array<MethodArg | MethodArg[]>\r\n\r\ntype OptionalMethodInputs = Array<MethodArg | MethodArg[] | undefined> | undefined\r\n\r\nfunction isMethodArg(x: unknown): x is MethodArg {\r\n  return ['string', 'number', 'object'].indexOf(typeof x) !== -1\r\n}\r\n\r\nfunction isValidMethodArgs(x: unknown): x is MethodArgs | undefined {\r\n  return (\r\n    x === undefined ||\r\n    (Array.isArray(x) && x.every(xi => isMethodArg(xi) || (Array.isArray(xi) && xi.every(isMethodArg))))\r\n  )\r\n}\r\n\r\ninterface CallResult {\r\n  readonly valid: boolean\r\n  readonly data: string | undefined\r\n  readonly blockNumber: number | undefined\r\n}\r\n\r\nconst INVALID_RESULT: CallResult = { valid: false, blockNumber: undefined, data: undefined }\r\n\r\n// use this options object\r\nexport const NEVER_RELOAD: ListenerOptions = {\r\n  blocksPerFetch: Infinity\r\n}\r\n\r\n// the lowest level call for subscribing to contract data\r\nfunction useCallsData(calls: (Call | undefined)[], options?: ListenerOptions): CallResult[] {\r\n  const { chainId } = useActiveWeb3React()\r\n  const callResults = useSelector<AppState, AppState['multicall']['callResults']>(state => state.multicall.callResults)\r\n  const dispatch = useDispatch<AppDispatch>()\r\n\r\n  const serializedCallKeys: string = useMemo(\r\n    () =>\r\n      JSON.stringify(\r\n        calls\r\n          ?.filter((c): c is Call => Boolean(c))\r\n          ?.map(toCallKey)\r\n          ?.sort() ?? []\r\n      ),\r\n    [calls]\r\n  )\r\n\r\n  // update listeners when there is an actual change that persists for at least 100ms\r\n  useEffect(() => {\r\n    const callKeys: string[] = JSON.parse(serializedCallKeys)\r\n    if (!chainId || callKeys.length === 0) return undefined\r\n    const calls = callKeys.map(key => parseCallKey(key))\r\n    dispatch(\r\n      addMulticallListeners({\r\n        chainId,\r\n        calls,\r\n        options\r\n      })\r\n    )\r\n\r\n    return () => {\r\n      dispatch(\r\n        removeMulticallListeners({\r\n          chainId,\r\n          calls,\r\n          options\r\n        })\r\n      )\r\n    }\r\n  }, [chainId, dispatch, options, serializedCallKeys])\r\n\r\n  return useMemo(\r\n    () =>\r\n      calls.map<CallResult>(call => {\r\n        //console.log(chainId, call)\r\n        if (!chainId || !call) return INVALID_RESULT\r\n\r\n        const result = callResults[chainId]?.[toCallKey(call)]\r\n        let data\r\n        if (result?.data && result?.data !== '0x') {\r\n          data = result.data\r\n        }\r\n\r\n        return { valid: true, data, blockNumber: result?.blockNumber }\r\n      }),\r\n    [callResults, calls, chainId]\r\n  )\r\n}\r\n\r\ninterface CallState {\r\n  readonly valid: boolean\r\n  // the result, or undefined if loading or errored/no data\r\n  readonly result: Result | undefined\r\n  // true if the result has never been fetched\r\n  readonly loading: boolean\r\n  // true if the result is not for the latest block\r\n  readonly syncing: boolean\r\n  // true if the call was made and is synced, but the return data is invalid\r\n  readonly error: boolean\r\n}\r\n\r\nconst INVALID_CALL_STATE: CallState = { valid: false, result: undefined, loading: false, syncing: false, error: false }\r\nconst LOADING_CALL_STATE: CallState = { valid: true, result: undefined, loading: true, syncing: true, error: false }\r\n\r\nfunction toCallState(\r\n  callResult: CallResult | undefined,\r\n  contractInterface: Interface | undefined,\r\n  fragment: FunctionFragment | undefined,\r\n  latestBlockNumber: number | undefined\r\n): CallState {\r\n  if (!callResult) return INVALID_CALL_STATE\r\n  const { valid, data, blockNumber } = callResult\r\n  if (!valid) return INVALID_CALL_STATE\r\n  if (valid && !blockNumber) return LOADING_CALL_STATE\r\n  if (!contractInterface || !fragment || !latestBlockNumber) return LOADING_CALL_STATE\r\n  const success = data && data.length > 2\r\n  const syncing = (blockNumber ?? 0) < latestBlockNumber\r\n  let result: Result | undefined = undefined\r\n  if (success && data) {\r\n    try {\r\n      //console.log(contractInterface, fragment, data)\r\n      result = contractInterface.decodeFunctionResult(fragment, data)\r\n    } catch (error) {\r\n      console.debug('Result data parsing failed', fragment, data)\r\n      return {\r\n        valid: true,\r\n        loading: false,\r\n        error: true,\r\n        syncing,\r\n        result\r\n      }\r\n    }\r\n  }\r\n  return {\r\n    valid: true,\r\n    loading: false,\r\n    syncing,\r\n    result: result,\r\n    error: !success\r\n  }\r\n}\r\n\r\nexport function useSingleContractMultipleData(\r\n  contract: Contract | null | undefined,\r\n  methodName: string,\r\n  callInputs: OptionalMethodInputs[],\r\n  options?: ListenerOptions\r\n): CallState[] {\r\n  const fragment = useMemo(() => contract?.interface?.getFunction(methodName), [contract, methodName])\r\n\r\n  const calls = useMemo(\r\n    () =>\r\n      contract && fragment && callInputs && callInputs.length > 0\r\n        ? callInputs.map<Call>(inputs => {\r\n            return {\r\n              address: contract.address,\r\n              callData: contract.interface.encodeFunctionData(fragment, inputs)\r\n            }\r\n          })\r\n        : [],\r\n    [callInputs, contract, fragment]\r\n  )\r\n\r\n  const results = useCallsData(calls, options)\r\n\r\n  const latestBlockNumber = useBlockNumber()\r\n\r\n  return useMemo(() => {\r\n    return results.map(result => toCallState(result, contract?.interface, fragment, latestBlockNumber))\r\n  }, [fragment, contract, results, latestBlockNumber])\r\n}\r\n\r\nexport function useMultipleContractSingleData(\r\n  addresses: (string | undefined)[],\r\n  contractInterface: Interface,\r\n  methodName: string,\r\n  callInputs?: OptionalMethodInputs,\r\n  options?: ListenerOptions\r\n): CallState[] {\r\n  const fragment = useMemo(() => contractInterface.getFunction(methodName), [contractInterface, methodName])\r\n  const callData: string | undefined = useMemo(\r\n    () =>\r\n      fragment && isValidMethodArgs(callInputs)\r\n        ? contractInterface.encodeFunctionData(fragment, callInputs)\r\n        : undefined,\r\n    [callInputs, contractInterface, fragment]\r\n  )\r\n\r\n  const calls = useMemo(\r\n    () =>\r\n      fragment && addresses && addresses.length > 0 && callData\r\n        ? addresses.map<Call | undefined>(address => {\r\n            return address && callData\r\n              ? {\r\n                  address,\r\n                  callData\r\n                }\r\n              : undefined\r\n          })\r\n        : [],\r\n    [addresses, callData, fragment]\r\n  )\r\n\r\n  const results = useCallsData(calls, options)\r\n\r\n  const latestBlockNumber = useBlockNumber()\r\n\r\n  return useMemo(() => {\r\n    return results.map(result => toCallState(result, contractInterface, fragment, latestBlockNumber))\r\n  }, [fragment, results, contractInterface, latestBlockNumber])\r\n}\r\n\r\nexport function useSingleCallResult(\r\n  contract: Contract | null | undefined,\r\n  methodName: string,\r\n  inputs?: OptionalMethodInputs,\r\n  options?: ListenerOptions\r\n): CallState {\r\n  const fragment = useMemo(() => contract?.interface?.getFunction(methodName), [contract, methodName])\r\n  // HELPFUL console.log(contract, fragment, inputs)\r\n  const calls = useMemo<Call[]>(() => {\r\n    return contract && fragment && isValidMethodArgs(inputs)\r\n      ? [\r\n          {\r\n            address: contract.address,\r\n            callData: contract.interface.encodeFunctionData(fragment, inputs)\r\n          }\r\n        ]\r\n      : []\r\n  }, [contract, fragment, inputs])\r\n  //console.log('vvv', methodName, calls, isValidMethodArgs(inputs))\r\n  const result = useCallsData(calls, options)[0]\r\n  const latestBlockNumber = useBlockNumber()\r\n\r\n  return useMemo(() => {\r\n    return toCallState(result, contract?.interface, fragment, latestBlockNumber)\r\n  }, [result, contract, fragment, latestBlockNumber])\r\n}\r\n","import { parseBytes32String } from '@ethersproject/strings'\r\nimport { Currency, ETHER, Token, currencyEquals, ChainId } from 'src/sdk'\r\nimport { useEffect, useMemo, useState } from 'react'\r\nimport { Tags, TokenInfo, TokenList } from '@uniswap/token-lists'\r\nimport { NEVER_RELOAD, useSingleCallResult } from '../state/multicall/hooks'\r\nimport { useUserAddedTokens } from '../state/user/hooks'\r\nimport { isAddress } from '../utils'\r\nimport axios from 'axios'\r\n\r\nimport { useActiveWeb3React } from './index'\r\nimport { useBytes32TokenContract, useTokenContract } from './useContract'\r\n\r\ntype TagDetails = Tags[keyof Tags]\r\nexport interface TagInfo extends TagDetails {\r\n  id: string\r\n}\r\n/**\r\n * Token instances created from token info.\r\n */\r\nexport class WrappedTokenInfo extends Token {\r\n  public readonly tokenInfo: TokenInfo\r\n  public readonly tags: TagInfo[]\r\n  constructor(tokenInfo: TokenInfo, tags: TagInfo[]) {\r\n    super(tokenInfo.chainId, tokenInfo.address, tokenInfo.decimals, tokenInfo.symbol, tokenInfo.name)\r\n    this.tokenInfo = tokenInfo\r\n    this.tags = tags\r\n  }\r\n  public get logoURI(): string | undefined {\r\n    return this.tokenInfo.logoURI\r\n  }\r\n}\r\n\r\nconst listCache: WeakMap<TokenList, TokenAddressMap> | null =\r\n  typeof WeakMap !== 'undefined' ? new WeakMap<TokenList, TokenAddressMap>() : null\r\n\r\nexport type TokenAddressMap = Readonly<{ [chainId in ChainId]: Readonly<{ [tokenAddress: string]: WrappedTokenInfo }> }>\r\n\r\n/**\r\n * An empty result, useful as a default.\r\n */\r\nconst EMPTY_LIST: TokenAddressMap = {\r\n  [ChainId.KOVAN]: {},\r\n  [ChainId.RINKEBY]: {},\r\n  [ChainId.ROPSTEN]: {},\r\n  [ChainId.GÃ–RLI]: {},\r\n  [ChainId.MAINNET]: {},\r\n  [ChainId.LOCAL]: {}\r\n}\r\n\r\nfunction listToTokenMap(list: TokenList): TokenAddressMap {\r\n  const result = listCache?.get(list)\r\n  if (result) return result\r\n\r\n  const map = list.tokens.reduce<TokenAddressMap>(\r\n    (tokenMap, tokenInfo) => {\r\n      const tags: TagInfo[] =\r\n        tokenInfo.tags\r\n          ?.map(tagId => {\r\n            if (!list.tags?.[tagId]) return undefined\r\n            return { ...list.tags[tagId], id: tagId }\r\n          })\r\n          ?.filter((x): x is TagInfo => Boolean(x)) ?? []\r\n      const token = new WrappedTokenInfo(tokenInfo, tags)\r\n      if (tokenMap[token.chainId][token.address] !== undefined) {\r\n        return tokenMap\r\n      }\r\n      return {\r\n        ...tokenMap,\r\n        [token.chainId]: {\r\n          ...tokenMap[token.chainId],\r\n          [token.address]: token\r\n        }\r\n      }\r\n    },\r\n    { ...EMPTY_LIST }\r\n  )\r\n  listCache?.set(list, map)\r\n  return map\r\n}\r\n\r\nexport function useAllTokens(): { [address: string]: Token } {\r\n  const { chainId } = useActiveWeb3React()\r\n  const userAddedTokens = useUserAddedTokens()\r\n  const [allTokens, setAllTokens] = useState({\r\n    [chainId!]: {}\r\n  })\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`tokens/${process.env.REACT_APP_CHAIN_ID}.json`, {\r\n        headers: {\r\n          'Cache-Control': 'no-cache'\r\n        }\r\n      })\r\n      .then(res => {\r\n        setAllTokens(\r\n          listToTokenMap({\r\n            tokens: res.data\r\n          } as TokenList)\r\n        )\r\n      })\r\n  }, [chainId])\r\n\r\n  return useMemo(() => {\r\n    if (!chainId) return {}\r\n\r\n    return (\r\n      userAddedTokens\r\n        // reduce into all ALL_TOKENS filtered by the current chain\r\n        .reduce<{ [address: string]: Token }>(\r\n          (tokenMap, token) => {\r\n            tokenMap[token.address] = token\r\n            return tokenMap\r\n          },\r\n          // must make a copy because reduce modifies the map, and we do not\r\n          // want to make a copy in every iteration\r\n          { ...allTokens[chainId] }\r\n        )\r\n    )\r\n  }, [allTokens])\r\n}\r\n\r\n// Check if currency is included in custom list from user storage\r\nexport function useIsUserAddedToken(currency: Currency): boolean {\r\n  const userAddedTokens = useUserAddedTokens()\r\n  return !!userAddedTokens.find(token => currencyEquals(currency, token))\r\n}\r\n\r\n// parse a name or symbol from a token response\r\nconst BYTES32_REGEX = /^0x[a-fA-F0-9]{64}$/\r\nfunction parseStringOrBytes32(str: string | undefined, bytes32: string | undefined, defaultValue: string): string {\r\n  return str && str.length > 0\r\n    ? str\r\n    : bytes32 && BYTES32_REGEX.test(bytes32)\r\n    ? parseBytes32String(bytes32)\r\n    : defaultValue\r\n}\r\n\r\n// undefined if invalid or does not exist\r\n// null if loading\r\n// otherwise returns the token\r\nexport function useToken(tokenAddress?: string): Token | undefined | null {\r\n  const { chainId } = useActiveWeb3React()\r\n  const tokens = useAllTokens()\r\n  const address = isAddress(tokenAddress)\r\n\r\n  const tokenContract = useTokenContract(address ? address : undefined, false)\r\n  const tokenContractBytes32 = useBytes32TokenContract(address ? address : undefined, false)\r\n  const token: Token | undefined = address ? tokens[address] : undefined\r\n\r\n  const tokenName = useSingleCallResult(token ? undefined : tokenContract, 'name', undefined, NEVER_RELOAD)\r\n  const tokenNameBytes32 = useSingleCallResult(\r\n    token ? undefined : tokenContractBytes32,\r\n    'name',\r\n    undefined,\r\n    NEVER_RELOAD\r\n  )\r\n  const symbol = useSingleCallResult(token ? undefined : tokenContract, 'symbol', undefined, NEVER_RELOAD)\r\n  const symbolBytes32 = useSingleCallResult(token ? undefined : tokenContractBytes32, 'symbol', undefined, NEVER_RELOAD)\r\n  const decimals = useSingleCallResult(token ? undefined : tokenContract, 'decimals', undefined, NEVER_RELOAD)\r\n\r\n  return useMemo(() => {\r\n    if (token) return token\r\n    if (!chainId || !address) return undefined\r\n    if (decimals.loading || symbol.loading || tokenName.loading) return null\r\n    if (decimals.result) {\r\n      return new Token(\r\n        chainId,\r\n        address,\r\n        decimals.result[0],\r\n        parseStringOrBytes32(symbol.result?.[0], symbolBytes32.result?.[0], 'UNKNOWN'),\r\n        parseStringOrBytes32(tokenName.result?.[0], tokenNameBytes32.result?.[0], 'Unknown Token')\r\n      )\r\n    }\r\n    return undefined\r\n  }, [address, decimals, symbol, tokenName])\r\n}\r\n\r\nexport function useCurrency(currencyId: string | undefined): Currency | null | undefined {\r\n  const isETH = currencyId?.toUpperCase() === 'ETH'\r\n  const token = useToken(isETH ? undefined : currencyId)\r\n\r\n  return isETH ? ETHER : token\r\n}\r\n","import { createAction } from '@reduxjs/toolkit'\r\n\r\nexport interface SerializedToken {\r\n  chainId: number\r\n  address: string\r\n  decimals: number\r\n  symbol?: string\r\n  name?: string\r\n}\r\n\r\nexport interface SerializedPair {\r\n  token0: SerializedToken\r\n  token1: SerializedToken\r\n}\r\n\r\nexport const updateMatchesDarkMode = createAction<{ matchesDarkMode: boolean }>('user/updateMatchesDarkMode')\r\nexport const updateUserDarkMode = createAction<{ userDarkMode: boolean }>('user/updateUserDarkMode')\r\nexport const updateUserExpertMode = createAction<{ userExpertMode: boolean }>('user/updateUserExpertMode')\r\nexport const updateUserSlippageTolerance = createAction<{ userSlippageTolerance: number }>(\r\n  'user/updateUserSlippageTolerance'\r\n)\r\nexport const updateUserDeadline = createAction<{ userDeadline: number }>('user/updateUserDeadline')\r\nexport const addSerializedToken = createAction<{ serializedToken: SerializedToken }>('user/addSerializedToken')\r\nexport const removeSerializedToken = createAction<{ chainId: number; address: string }>('user/removeSerializedToken')\r\nexport const addSerializedPair = createAction<{ serializedPair: SerializedPair }>('user/addSerializedPair')\r\nexport const removeSerializedPair = createAction<{ chainId: number; tokenAAddress: string; tokenBAddress: string }>(\r\n  'user/removeSerializedPair'\r\n)\r\n","import { ChainId, Pair, Token } from 'src/sdk'\r\nimport flatMap from 'lodash.flatmap'\r\nimport { useCallback, useMemo } from 'react'\r\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux'\r\nimport { BASES_TO_TRACK_LIQUIDITY_FOR, PINNED_PAIRS } from '../../constants'\r\n\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { useAllTokens } from '../../hooks/Tokens'\r\nimport { AppDispatch, AppState } from '../index'\r\nimport {\r\n  addSerializedPair,\r\n  addSerializedToken,\r\n  removeSerializedToken,\r\n  SerializedPair,\r\n  SerializedToken,\r\n  updateUserDarkMode,\r\n  updateUserDeadline,\r\n  updateUserExpertMode,\r\n  updateUserSlippageTolerance\r\n} from './actions'\r\n\r\nfunction serializeToken(token: Token): SerializedToken {\r\n  return {\r\n    chainId: token.chainId,\r\n    address: token.address,\r\n    decimals: token.decimals,\r\n    symbol: token.symbol,\r\n    name: token.name\r\n  }\r\n}\r\n\r\nfunction deserializeToken(serializedToken: SerializedToken): Token {\r\n  return new Token(\r\n    serializedToken.chainId,\r\n    serializedToken.address,\r\n    serializedToken.decimals,\r\n    serializedToken.symbol,\r\n    serializedToken.name\r\n  )\r\n}\r\n\r\nexport function useIsDarkMode(): boolean {\r\n  const { userDarkMode, matchesDarkMode } = useSelector<\r\n    AppState,\r\n    { userDarkMode: boolean | null; matchesDarkMode: boolean }\r\n  >(\r\n    ({ user: { matchesDarkMode, userDarkMode } }) => ({\r\n      userDarkMode,\r\n      matchesDarkMode\r\n    }),\r\n    shallowEqual\r\n  )\r\n\r\n  return userDarkMode === null ? matchesDarkMode : userDarkMode\r\n}\r\n\r\nexport function useDarkModeManager(): [boolean, () => void] {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const darkMode = useIsDarkMode()\r\n\r\n  const toggleSetDarkMode = useCallback(() => {\r\n    dispatch(updateUserDarkMode({ userDarkMode: !darkMode }))\r\n  }, [darkMode, dispatch])\r\n\r\n  return [darkMode, toggleSetDarkMode]\r\n}\r\n\r\nexport function useIsExpertMode(): boolean {\r\n  return useSelector<AppState, AppState['user']['userExpertMode']>(state => state.user.userExpertMode)\r\n}\r\n\r\nexport function useExpertModeManager(): [boolean, () => void] {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const expertMode = useIsExpertMode()\r\n\r\n  const toggleSetExpertMode = useCallback(() => {\r\n    dispatch(updateUserExpertMode({ userExpertMode: !expertMode }))\r\n  }, [expertMode, dispatch])\r\n\r\n  return [expertMode, toggleSetExpertMode]\r\n}\r\n\r\nexport function useUserSlippageTolerance(): [number, (slippage: number) => void] {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const userSlippageTolerance = useSelector<AppState, AppState['user']['userSlippageTolerance']>(state => {\r\n    return state.user.userSlippageTolerance\r\n  })\r\n\r\n  const setUserSlippageTolerance = useCallback(\r\n    (userSlippageTolerance: number) => {\r\n      dispatch(updateUserSlippageTolerance({ userSlippageTolerance }))\r\n    },\r\n    [dispatch]\r\n  )\r\n\r\n  return [userSlippageTolerance, setUserSlippageTolerance]\r\n}\r\n\r\nexport function useUserDeadline(): [number, (slippage: number) => void] {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const userDeadline = useSelector<AppState, AppState['user']['userDeadline']>(state => {\r\n    return state.user.userDeadline\r\n  })\r\n\r\n  const setUserDeadline = useCallback(\r\n    (userDeadline: number) => {\r\n      dispatch(updateUserDeadline({ userDeadline }))\r\n    },\r\n    [dispatch]\r\n  )\r\n\r\n  return [userDeadline, setUserDeadline]\r\n}\r\n\r\nexport function useAddUserToken(): (token: Token) => void {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  return useCallback(\r\n    (token: Token) => {\r\n      dispatch(addSerializedToken({ serializedToken: serializeToken(token) }))\r\n    },\r\n    [dispatch]\r\n  )\r\n}\r\n\r\nexport function useRemoveUserAddedToken(): (chainId: number, address: string) => void {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  return useCallback(\r\n    (chainId: number, address: string) => {\r\n      dispatch(removeSerializedToken({ chainId, address }))\r\n    },\r\n    [dispatch]\r\n  )\r\n}\r\n\r\nexport function useUserAddedTokens(): Token[] {\r\n  const { chainId } = useActiveWeb3React()\r\n  const serializedTokensMap = useSelector<AppState, AppState['user']['tokens']>(({ user: { tokens } }) => tokens)\r\n\r\n  return useMemo(() => {\r\n    if (!chainId) return []\r\n    return Object.values(serializedTokensMap[chainId as ChainId] ?? {}).map(deserializeToken)\r\n  }, [serializedTokensMap, chainId])\r\n}\r\n\r\nfunction serializePair(pair: Pair): SerializedPair {\r\n  return {\r\n    token0: serializeToken(pair.token0),\r\n    token1: serializeToken(pair.token1)\r\n  }\r\n}\r\n\r\nexport function usePairAdder(): (pair: Pair) => void {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n\r\n  return useCallback(\r\n    (pair: Pair) => {\r\n      dispatch(addSerializedPair({ serializedPair: serializePair(pair) }))\r\n    },\r\n    [dispatch]\r\n  )\r\n}\r\n\r\n/**\r\n * Given two tokens return the liquidity token that represents its liquidity shares\r\n * @param tokenA one of the two tokens\r\n * @param tokenB the other token\r\n */\r\nexport function toV2LiquidityToken([tokenA, tokenB]: [Token, Token]): Token {\r\n  return new Token(tokenA.chainId, Pair.getAddress(tokenA, tokenB), 18, 'UNI-V2', 'Uniswap V2')\r\n}\r\n\r\n/**\r\n * Returns all the pairs of tokens that are tracked by the user for the current chain ID.\r\n */\r\nexport function useTrackedTokenPairs(): [Token, Token][] {\r\n  const { chainId } = useActiveWeb3React()\r\n  const tokens = useAllTokens()\r\n\r\n  // pinned pairs\r\n  const pinnedPairs = useMemo(() => (chainId ? PINNED_PAIRS[chainId] ?? [] : []), [chainId])\r\n\r\n  // pairs for every token against every base\r\n  const generatedPairs: [Token, Token][] = useMemo(\r\n    () =>\r\n      chainId\r\n        ? flatMap(Object.keys(tokens), tokenAddress => {\r\n            const token = tokens[tokenAddress]\r\n            // for each token on the current chain,\r\n            return (\r\n              // loop though all bases on the current chain\r\n              (BASES_TO_TRACK_LIQUIDITY_FOR[chainId] ?? [])\r\n                // to construct pairs of the given token with each base\r\n                .map(base => {\r\n                  if (base.address === token.address) {\r\n                    return null\r\n                  } else {\r\n                    return [base, token]\r\n                  }\r\n                })\r\n                .filter((p): p is [Token, Token] => p !== null)\r\n            )\r\n          })\r\n        : [],\r\n    [tokens, chainId]\r\n  )\r\n\r\n  // pairs saved by users\r\n  const savedSerializedPairs = useSelector<AppState, AppState['user']['pairs']>(({ user: { pairs } }) => pairs)\r\n\r\n  const userPairs: [Token, Token][] = useMemo(() => {\r\n    if (!chainId || !savedSerializedPairs) return []\r\n    const forChain = savedSerializedPairs[chainId]\r\n    if (!forChain) return []\r\n\r\n    return Object.keys(forChain).map(pairId => {\r\n      return [deserializeToken(forChain[pairId].token0), deserializeToken(forChain[pairId].token1)]\r\n    })\r\n  }, [savedSerializedPairs, chainId])\r\n\r\n  const combinedList = useMemo(() => userPairs.concat(generatedPairs).concat(pinnedPairs), [\r\n    generatedPairs,\r\n    pinnedPairs,\r\n    userPairs\r\n  ])\r\n\r\n  return useMemo(() => {\r\n    // dedupes pairs of tokens in the combined list\r\n    const keyed = combinedList.reduce<{ [key: string]: [Token, Token] }>((memo, [tokenA, tokenB]) => {\r\n      const sorted = tokenA.sortsBefore(tokenB)\r\n      const key = sorted ? `${tokenA.address}:${tokenB.address}` : `${tokenB.address}:${tokenA.address}`\r\n      if (memo[key]) return memo\r\n      memo[key] = sorted ? [tokenA, tokenB] : [tokenB, tokenA]\r\n      return memo\r\n    }, {})\r\n\r\n    return Object.keys(keyed).map(key => keyed[key])\r\n  }, [combinedList])\r\n}\r\n","import { ChainId, Currency, CurrencyAmount, ETHER, JSBI, Token, TokenAmount, WETH } from 'src/sdk'\r\nimport { useMemo } from 'react'\r\nimport { useAllTokens } from '../../hooks/Tokens'\r\nimport { useActiveWeb3React, useGroupId } from '../../hooks'\r\nimport { useMulticallContract, useGroupContract } from '../../hooks/useContract'\r\nimport { isAddress } from '../../utils'\r\nimport { useMultipleContractSingleData, useSingleContractMultipleData } from '../multicall/hooks'\r\nimport ERC20_INTERFACE from 'src/constants/abis/erc20'\r\n\r\n/**\r\n * Returns a map of the given addresses to their eventually consistent ETH balances.\r\n */\r\nexport function useETHBalances(\r\n  uncheckedAddresses?: (string | undefined)[]\r\n): { [address: string]: CurrencyAmount | undefined } {\r\n  const multicallContract = useMulticallContract()\r\n\r\n  const addresses: string[] = useMemo(\r\n    () =>\r\n      uncheckedAddresses\r\n        ? uncheckedAddresses\r\n            .map(isAddress)\r\n            .filter((a): a is string => a !== false)\r\n            .sort()\r\n        : [],\r\n    [uncheckedAddresses]\r\n  )\r\n\r\n  const results = useSingleContractMultipleData(\r\n    multicallContract,\r\n    'getEthBalance',\r\n    addresses.map(address => [address])\r\n  )\r\n\r\n  return useMemo(\r\n    () =>\r\n      addresses.reduce<{ [address: string]: CurrencyAmount }>((memo, address, i) => {\r\n        const value = results?.[i]?.result?.[0]\r\n        if (value) memo[address] = CurrencyAmount.ether(JSBI.BigInt(value.toString()))\r\n        return memo\r\n      }, {}),\r\n    [addresses, results]\r\n  )\r\n}\r\n\r\n//const UNIFUND_GROUP_INTERFACE = new Interface(UNIFUND_GROUP_ABI)\r\n\r\n/**\r\n * Returns a map of token addresses to their eventually consistent token balances for a single account.\r\n */\r\nexport function useTokenBalancesWithLoadingIndicator(\r\n  address?: string,\r\n  tokens?: (Token | undefined)[]\r\n): [{ [tokenAddress: string]: TokenAmount | undefined }, boolean] {\r\n  const validatedTokens: Token[] = useMemo(\r\n    () => tokens?.filter((t?: Token): t is Token => isAddress(t?.address) !== false) ?? [],\r\n    [tokens]\r\n  )\r\n\r\n  const validatedTokenAddresses = useMemo(() => validatedTokens.map(vt => vt.address), [validatedTokens])\r\n\r\n  const balances = useMultipleContractSingleData(validatedTokenAddresses, ERC20_INTERFACE, 'balanceOf', [address])\r\n\r\n  const anyLoading: boolean = useMemo(() => balances.some(callState => callState.loading), [balances])\r\n\r\n  return [\r\n    useMemo(\r\n      () =>\r\n        address && validatedTokens.length > 0\r\n          ? validatedTokens.reduce<{ [tokenAddress: string]: TokenAmount | undefined }>((memo, token, i) => {\r\n              const value = balances?.[i]?.result?.[0]\r\n              const amount = value ? JSBI.BigInt(value.toString()) : undefined\r\n              if (amount) {\r\n                memo[token.address] = new TokenAmount(token, amount)\r\n              }\r\n              return memo\r\n            }, {})\r\n          : {},\r\n      [address, validatedTokens, balances]\r\n    ),\r\n    anyLoading\r\n  ]\r\n}\r\n\r\n/**\r\n * Returns a map of token addresses to their eventually consistent token balances for a single account.\r\n */\r\nexport function useGroupTokenBalancesWithLoadingIndicator(\r\n  address?: string,\r\n  tokens?: (Token | undefined)[]\r\n): [{ [tokenAddress: string]: TokenAmount | undefined }, boolean] {\r\n  const validatedTokens: Token[] = tokens?.filter((t?: Token): t is Token => isAddress(t?.address) !== false) ?? []\r\n  const validatedTokenAddresses = validatedTokens.map(vt => vt.address)\r\n\r\n  const groupId = useGroupId()\r\n\r\n  const contract = useGroupContract()\r\n\r\n  // const balances = useSingleContractMultipleDatas(\r\n  //   process.env.REACT_APP_UNIFUND_GROUP_ADDRESS!,\r\n  //   UNIFUND_GROUP_INTERFACE,\r\n  //   'groupBalance',\r\n  //   validatedTokenAddresses.map(address => [groupId, address])\r\n  // )\r\n  const balances = useSingleContractMultipleData(\r\n    contract,\r\n    'groupBalance',\r\n    validatedTokenAddresses.map(address => [groupId, address])\r\n  )\r\n\r\n  const anyLoading: boolean = useMemo(() => balances.some(callState => callState.loading), [balances])\r\n\r\n  return [\r\n    useMemo(\r\n      () =>\r\n        address && validatedTokens.length > 0\r\n          ? validatedTokens.reduce<{ [tokenAddress: string]: TokenAmount | undefined }>((memo, token, i) => {\r\n              const value = balances?.[i]?.result?.[0]\r\n              const amount = value ? JSBI.BigInt(value.toString()) : undefined\r\n\r\n              if (amount) {\r\n                memo[token.address] = new TokenAmount(token, amount)\r\n              }\r\n              return memo\r\n            }, {})\r\n          : {},\r\n      [address, validatedTokens, balances]\r\n    ),\r\n    anyLoading\r\n  ]\r\n}\r\n\r\nexport function useTokenBalances(\r\n  address?: string,\r\n  tokens?: (Token | undefined)[]\r\n): { [tokenAddress: string]: TokenAmount | undefined } {\r\n  return useTokenBalancesWithLoadingIndicator(address, tokens)[0]\r\n}\r\n\r\nexport function useGroupTokenBalances(\r\n  address?: string,\r\n  tokens?: (Token | undefined)[]\r\n): { [tokenAddress: string]: TokenAmount | undefined } {\r\n  return useGroupTokenBalancesWithLoadingIndicator(address, tokens)[0]\r\n}\r\n\r\n// get the balance for a single token/account combo\r\nexport function useTokenBalance(account?: string, token?: Token): TokenAmount | undefined {\r\n  const tokenBalances = useTokenBalances(account, [token])\r\n  if (!token) return undefined\r\n  return tokenBalances[token.address]\r\n}\r\n\r\n// get the balance for a single token/account combo\r\nexport function useGroupTokenBalance(account?: string, token?: Token): TokenAmount | undefined {\r\n  const tokenBalances = useGroupTokenBalances(account, [token])\r\n  if (!token) return undefined\r\n  return tokenBalances[token.address]\r\n}\r\n\r\nexport function useGroupEthBalance(account?: string, chainId?: ChainId ){\r\n  return useGroupTokenBalance(account, WETH[chainId!])\r\n}\r\n\r\nexport function useCurrencyBalances(\r\n  account?: string,\r\n  currencies?: (Currency | undefined)[]\r\n): (CurrencyAmount | undefined)[] {\r\n  const tokens = currencies\r\n    ?.map(currency => (currency instanceof Token ? currency : undefined))\r\n    .filter(currency => currency !== undefined)\r\n\r\n  const tokenBalances = useTokenBalances(account, tokens)\r\n  const containsETH: boolean = useMemo(() => currencies?.some(currency => currency === ETHER) ?? false, [currencies])\r\n  const ethBalance = useETHBalances(containsETH ? [account] : [])\r\n\r\n  return useMemo(\r\n    () =>\r\n      currencies?.map(currency => {\r\n        if (!account || !currency) return undefined\r\n        if (currency instanceof Token) return tokenBalances[currency.address]\r\n        if (currency === ETHER) return ethBalance[account]\r\n        return undefined\r\n      }) ?? [],\r\n    [account, currencies, ethBalance, tokenBalances]\r\n  )\r\n}\r\n\r\nexport function useGroupCurrencyBalances(\r\n  account?: string,\r\n  currencies?: (Currency | undefined)[]\r\n): (CurrencyAmount | undefined)[] {\r\n  const tokens = currencies\r\n    ?.map(currency => (currency instanceof Token ? currency : undefined))\r\n    .filter(currency => currency !== undefined)\r\n\r\n  const tokenBalances = useGroupTokenBalances(account, tokens)\r\n  const containsETH: boolean = useMemo(() => currencies?.some(currency => currency === ETHER) ?? false, [currencies])\r\n  const ethBalance = useETHBalances(containsETH ? [account] : [])\r\n\r\n  return useMemo(\r\n    () =>\r\n      currencies?.map(currency => {\r\n        if (!account || !currency) return undefined\r\n        if (currency instanceof Token) return tokenBalances[currency.address]\r\n        if (currency === ETHER) return ethBalance[account]\r\n        return undefined\r\n      }) ?? [],\r\n    [account, currencies, ethBalance, tokenBalances]\r\n  )\r\n}\r\n\r\nexport function useCurrencyBalance(account?: string, currency?: Currency): CurrencyAmount | undefined {\r\n  return useCurrencyBalances(account, [currency])[0]\r\n}\r\n\r\nexport function useGroupCurrencyBalance(account?: string, currency?: Currency): CurrencyAmount | undefined {\r\n  return useGroupCurrencyBalances(account, [currency])[0]\r\n}\r\n\r\n// mimics useAllBalances\r\nexport function useAllGroupTokenBalances(): { [tokenAddress: string]: TokenAmount | undefined } {\r\n  const { account } = useActiveWeb3React()\r\n  const allTokens = useAllTokens()\r\n  const allTokensArray = useMemo(() => Object.values(allTokens ?? {}), [allTokens])\r\n  const balances = useGroupTokenBalances(account ?? undefined, allTokensArray)\r\n\r\n  return balances ?? {}\r\n}\r\n\r\n// mimics useAllBalances\r\nexport function useAllTokenBalances(): { [tokenAddress: string]: TokenAmount | undefined } {\r\n  const { account } = useActiveWeb3React()\r\n  const allTokens = useAllTokens()\r\n  const allTokensArray = useMemo(() => Object.values(allTokens ?? {}), [allTokens])\r\n  const balances = useTokenBalances(account ?? undefined, allTokensArray)\r\n\r\n  return balances ?? {}\r\n}\r\n","import React, { HTMLProps, useCallback } from 'react'\r\nimport ReactGA from 'react-ga'\r\nimport { Link, NavLink } from 'react-router-dom'\r\nimport styled, { keyframes } from 'styled-components'\r\nimport { darken } from 'polished'\r\nimport { ArrowLeft, X } from 'react-feather'\r\n\r\nexport const Button = styled.button.attrs<{ warning: boolean }, { backgroundColor: string }>(({ warning, theme }) => ({\r\n  backgroundColor: warning ? theme.red1 : theme.primary1\r\n}))`\r\n  padding: 1rem 2rem 1rem 2rem;\r\n  border-radius: 1rem;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  font-size: 1rem;\r\n  border: none;\r\n  outline: none;\r\n  background-color: ${({ backgroundColor }) => backgroundColor};\r\n  color: ${({ theme }) => theme.white};\r\n  width: 100%;\r\n  white-space: nowrap;\r\n\r\n  :hover,\r\n  :focus {\r\n    background-color: ${({ backgroundColor }) => darken(0.05, backgroundColor)};\r\n  }\r\n\r\n  :active {\r\n    background-color: ${({ backgroundColor }) => darken(0.1, backgroundColor)};\r\n  }\r\n\r\n  :disabled {\r\n    background-color: ${({ theme }) => theme.bg1};\r\n    color: ${({ theme }) => theme.text4};\r\n    cursor: auto;\r\n  }\r\n`\r\n\r\nexport const CloseIcon = styled(X)<{ onClick: () => void }>`\r\n  cursor: pointer;\r\n`\r\n\r\nexport const ButtonStyledLink = styled(NavLink)`\r\n  padding: 1rem 2rem 1rem 2rem;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  font-weight: 500;\r\n  text-align: center;\r\n  border-radius: 20px;\r\n  border: none;\r\n  outline: none;\r\n  background-color: ${({ theme }) => theme.primary1};\r\n  color: ${({ theme }) => theme.white};\r\n  width: 100%;\r\n  white-space: nowrap;\r\n  text-decoration: none;\r\n  text-align: center\r\n\r\n  :hover,\r\n  :focus {\r\n    background-color: ${({ theme }) => darken(0.05, theme.primary1)};\r\n    text-decoration: none;\r\n  }\r\n\r\n  :active {\r\n    background-color: ${({ theme }) => darken(0.1, theme.primary1)};\r\n  }\r\n\r\n  :disabled {\r\n    background-color: ${({ theme }) => theme.bg1};\r\n    color: ${({ theme }) => theme.text4};\r\n    cursor: auto;\r\n  }\r\n`\r\n\r\n// A button that triggers some onClick result, but looks like a link.\r\nexport const LinkStyledButton = styled.button<{ disabled?: boolean }>`\r\n  border: none;\r\n  text-decoration: none;\r\n  background: none;\r\n\r\n  cursor: ${({ disabled }) => (disabled ? 'default' : 'pointer')};\r\n  color: ${({ theme, disabled }) => (disabled ? theme.text2 : theme.primary1)};\r\n  font-weight: 500;\r\n\r\n  :hover {\r\n    text-decoration: ${({ disabled }) => (disabled ? null : 'underline')};\r\n  }\r\n\r\n  :focus {\r\n    outline: none;\r\n    text-decoration: ${({ disabled }) => (disabled ? null : 'underline')};\r\n  }\r\n\r\n  :active {\r\n    text-decoration: none;\r\n  }\r\n`\r\n\r\n// An internal link from the react-router-dom library that is correctly styled\r\nexport const StyledInternalLink = styled(Link)`\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  color: ${({ theme }) => theme.primary1};\r\n  font-weight: 500;\r\n\r\n  :hover {\r\n    text-decoration: underline;\r\n  }\r\n\r\n  :focus {\r\n    outline: none;\r\n    text-decoration: underline;\r\n  }\r\n\r\n  :active {\r\n    text-decoration: none;\r\n  }\r\n`\r\n\r\nconst StyledLink = styled.a`\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  color: ${({ theme }) => theme.primary1};\r\n  font-weight: 500;\r\n\r\n  :hover {\r\n    text-decoration: underline;\r\n  }\r\n\r\n  :focus {\r\n    outline: none;\r\n    text-decoration: underline;\r\n  }\r\n\r\n  :active {\r\n    text-decoration: none;\r\n  }\r\n`\r\n\r\n/**\r\n * Outbound link that handles firing google analytics events\r\n */\r\nexport function ExternalLink({\r\n  target = '_blank',\r\n  href,\r\n  rel = 'noopener noreferrer',\r\n  ...rest\r\n}: Omit<HTMLProps<HTMLAnchorElement>, 'as' | 'ref' | 'onClick'> & { href: string }) {\r\n  const handleClick = useCallback(\r\n    (event: React.MouseEvent<HTMLAnchorElement>) => {\r\n      // don't prevent default, don't redirect if it's a new tab\r\n      if (target === '_blank' || event.ctrlKey || event.metaKey) {\r\n        ReactGA.outboundLink({ label: href }, () => {\r\n          console.debug('Fired outbound link event', href)\r\n        })\r\n      } else {\r\n        event.preventDefault()\r\n        // send a ReactGA event and then trigger a location change\r\n        ReactGA.outboundLink({ label: href }, () => {\r\n          window.location.href = href\r\n        })\r\n      }\r\n    },\r\n    [href, target]\r\n  )\r\n  return <StyledLink target={target} rel={rel} href={href} onClick={handleClick} {...rest} />\r\n}\r\n\r\nconst rotate = keyframes`\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n`\r\n\r\nexport const Spinner = styled.img`\r\n  animation: 2s ${rotate} linear infinite;\r\n  width: 32px;\r\n  height: 32px;\r\n`\r\n\r\nconst BackArrowLink = styled(StyledInternalLink)`\r\n  color: ${({ theme }) => theme.text1};\r\n`\r\nexport function BackArrow({ to }: { to: string }) {\r\n  return (\r\n    <BackArrowLink to={to}>\r\n      <ArrowLeft />\r\n    </BackArrowLink>\r\n  )\r\n}\r\n","import React, { useMemo } from 'react'\r\nimport styled, {\r\n  ThemeProvider as StyledComponentsThemeProvider,\r\n  createGlobalStyle,\r\n  css,\r\n  DefaultTheme\r\n} from 'styled-components'\r\nimport { useIsDarkMode } from '../state/user/hooks'\r\nimport { Text, TextProps } from 'rebass'\r\nimport { Colors } from './styled'\r\n\r\nexport * from './components'\r\n\r\nconst MEDIA_WIDTHS = {\r\n  upToExtraSmall: 500,\r\n  upToSmall: 600,\r\n  upToMedium: 768,\r\n  upToLarge: 960,\r\n  upToExtraLarge: 1280\r\n}\r\n\r\nconst mediaWidthTemplates: { [width in keyof typeof MEDIA_WIDTHS]: typeof css } = Object.keys(MEDIA_WIDTHS).reduce(\r\n  (accumulator, size) => {\r\n    ;(accumulator as any)[size] = (a: any, b: any, c: any) => css`\r\n      @media (max-width: ${(MEDIA_WIDTHS as any)[size]}px) {\r\n        ${css(a, b, c)}\r\n      }\r\n    `\r\n    return accumulator\r\n  },\r\n  {}\r\n) as any\r\n\r\nconst white = '#FFFFFF'\r\nconst black = '#000000'\r\n\r\nexport function colors(darkMode: boolean): Colors {\r\n  return {\r\n    // base\r\n    white,\r\n    black,\r\n\r\n    // text\r\n    text1: darkMode ? '#FFFFFF' : '#000000',\r\n    text2: darkMode ? '#C3C5CB' : '#565A69',\r\n    text3: darkMode ? '#6C7284' : '#888D9B',\r\n    text4: darkMode ? '#565A69' : '#C3C5CB',\r\n    text5: darkMode ? '#2C2F36' : '#EDEEF2',\r\n\r\n    // backgrounds / greys\r\n    bg1: darkMode ? '#212429' : '#FFFFFF',\r\n    bg2: darkMode ? '#2C2F36' : '#F7F8FA',\r\n    bg3: darkMode ? '#40444F' : '#EDEEF2',\r\n    bg4: darkMode ? '#565A69' : '#CED0D9',\r\n    bg5: darkMode ? '#6C7284' : '#888D9B',\r\n\r\n    //specialty colors\r\n    modalBG: darkMode ? 'rgba(0,0,0,.425)' : 'rgba(0,0,0,0.3)',\r\n    advancedBG: darkMode ? 'rgba(0,0,0,0.1)' : 'rgba(255,255,255,0.6)',\r\n\r\n    //primary colors\r\n    primary1: darkMode ? '#C586DD' : '#C586DD',\r\n    primary2: darkMode ? '#3680E7' : '#FF8CC3',\r\n    primary3: darkMode ? '#4D8FEA' : '#FF99C9',\r\n    primary4: darkMode ? '#376bad70' : '#F6DDE8',\r\n    primary5: darkMode ? '#736ba570' : '#FDEAF1',\r\n\r\n    // color text\r\n    primaryText1: darkMode ? '#d2bced' : '#ff007a',\r\n\r\n    // secondary colors\r\n    secondary1: darkMode ? '#736ba5' : '#ff007a',\r\n    secondary2: darkMode ? '#17000b26' : '#F6DDE8',\r\n    secondary3: darkMode ? '#17000b26' : '#FDEAF1',\r\n\r\n    // other\r\n    red1: '#FF6871',\r\n    red2: '#e2303c',\r\n    green1: '#27AE60',\r\n    yellow1: '#FFE270',\r\n    yellow2: '#F3841E',\r\n    blue1: '#807DE7'\r\n\r\n    // custom\r\n\r\n    // dont wanna forget these blue yet\r\n    // blue4: darkMode ? '#153d6f70' : '#C4D9F8',\r\n    // blue5: darkMode ? '#153d6f70' : '#EBF4FF',\r\n  }\r\n}\r\n\r\nexport function theme(darkMode: boolean): DefaultTheme {\r\n  return {\r\n    ...colors(darkMode),\r\n\r\n    grids: {\r\n      sm: 8,\r\n      md: 12,\r\n      lg: 24\r\n    },\r\n\r\n    //shadows\r\n    shadow1: darkMode ? '#000' : '#2F80ED',\r\n\r\n    // media queries\r\n    mediaWidth: mediaWidthTemplates,\r\n\r\n    // css snippets\r\n    flexColumnNoWrap: css`\r\n      display: flex;\r\n      flex-flow: column nowrap;\r\n    `,\r\n    flexRowNoWrap: css`\r\n      display: flex;\r\n      flex-flow: row nowrap;\r\n    `\r\n  }\r\n}\r\n\r\nexport default function ThemeProvider({ children }: { children: React.ReactNode }) {\r\n  const darkMode = useIsDarkMode()\r\n\r\n  const themeObject = useMemo(() => theme(darkMode), [darkMode])\r\n\r\n  return <StyledComponentsThemeProvider theme={themeObject}>{children}</StyledComponentsThemeProvider>\r\n}\r\n\r\nconst TextWrapper = styled(Text)<{ color: keyof Colors }>`\r\n  color: ${({ color, theme }) => (theme as any)[color]};\r\n`\r\n\r\nexport const TYPE = {\r\n  main(props: TextProps) {\r\n    return <TextWrapper fontWeight={600} color={'text2'} {...props} />\r\n  },\r\n  link(props: TextProps) {\r\n    return <TextWrapper fontWeight={500} color={'primary1'} {...props} />\r\n  },\r\n  black(props: TextProps) {\r\n    return <TextWrapper fontWeight={500} color={'text1'} {...props} />\r\n  },\r\n  body(props: TextProps) {\r\n    return <TextWrapper fontWeight={400} lineHeight={'1.5rem'} fontSize={16} color={'text2'} {...props} />\r\n  },\r\n  largeHeader(props: TextProps) {\r\n    return <TextWrapper fontWeight={600} fontSize={24} {...props} />\r\n  },\r\n  mediumHeader(props: TextProps) {\r\n    return <TextWrapper fontWeight={500} fontSize={20} {...props} />\r\n  },\r\n  subHeader(props: TextProps) {\r\n    return <TextWrapper fontWeight={400} fontSize={14} {...props} />\r\n  },\r\n  blue(props: TextProps) {\r\n    return <TextWrapper fontWeight={500} color={'primary1'} {...props} />\r\n  },\r\n  yellow(props: TextProps) {\r\n    return <TextWrapper fontWeight={500} color={'yellow1'} {...props} />\r\n  },\r\n  darkGray(props: TextProps) {\r\n    return <TextWrapper fontWeight={500} color={'text3'} {...props} />\r\n  },\r\n  gray(props: TextProps) {\r\n    return <TextWrapper fontWeight={500} color={'bg3'} {...props} />\r\n  },\r\n  italic(props: TextProps) {\r\n    return <TextWrapper fontWeight={500} fontSize={12} fontStyle={'italic'} color={'text2'} {...props} />\r\n  },\r\n  error({ error, ...props }: { error: boolean } & TextProps) {\r\n    return <TextWrapper fontWeight={500} color={error ? 'red1' : 'text2'} {...props} />\r\n  }\r\n}\r\n\r\nexport const FixedGlobalStyle = createGlobalStyle`\r\nhtml, input, textarea, button {\r\n  font-family: 'Inter', sans-serif;\r\n  letter-spacing: -0.018em;\r\n  font-display: fallback;\r\n}\r\n@supports (font-variation-settings: normal) {\r\n  html, input, textarea, button {\r\n    font-family: 'Inter var', sans-serif;\r\n  }\r\n}\r\n\r\nhtml,\r\nbody {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n* {\r\n  box-sizing: border-box;\r\n}\r\n\r\nbutton {\r\n  transition: all 0.5s ease;\r\n  user-select: none;\r\n}\r\n\r\nhtml {\r\n  font-size: 16px;\r\n  font-variant: none;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\r\n}\r\n`\r\n\r\nexport const ThemedGlobalStyle = createGlobalStyle`\r\nhtml {\r\n  color: ${({ theme }) => theme.text1};\r\n  background-color: ${({ theme }) => theme.bg1};\r\n}\r\n\r\nbody {\r\n  min-height: 100vh;\r\n\r\na {\r\n  color: ${({ theme }) => theme.primary1};\r\n  transition: all 0.5s ease;\r\n\r\n  :hover {\r\n    color: ${({ theme }) => theme.bg4};\r\n    text-decoration: none;\r\n  }\r\n}\r\n\r\nh1 {\r\n  // font-family: 'Libre Baskerville', serif;\r\n  font-size: 1.5rem;\r\n  margin: 0;\r\n}\r\n\r\nh2 {\r\n  font-size: 1.25rem;\r\n  font-weight: 700;\r\n  margin: 0;\r\n}\r\n\r\nol {\r\n  margin: 0;\r\n  padding-inline-start: 30px;\r\n}\r\n\r\n.react-share__ShareButton {\r\n  :focus {\r\n    outline: none;\r\n  }\r\n}\r\n`\r\n","import styled from 'styled-components'\r\n\r\nexport const FlexBox = styled.div<{\r\n  align?: string\r\n  justify?: string\r\n  margin?: string\r\n  padding?: string\r\n  border?: string\r\n  borderRadius?: string\r\n  display?: string\r\n  flex?: string\r\n  width?: string\r\n  maxWidth?: string\r\n}>`\r\n  display: ${({ display }) => display || 'flex'};\r\n  flex-flow: ${({ flex }) => flex};\r\n  align-items: ${({ align }) => align};\r\n  justify-content: ${({ justify }) => justify};\r\n  margin: ${({ margin }) => margin};\r\n  padding: ${({ padding }) => padding};\r\n  border: ${({ border }) => border};\r\n  border-radius: ${({ borderRadius }) => borderRadius};\r\n  width: ${({ width }) => width};\r\n  max-width: ${({ maxWidth }) => maxWidth};\r\n`\r\n","import React, { useContext } from 'react'\r\nimport styled, { ThemeContext } from 'styled-components'\r\nimport { CardProps, Text } from 'rebass'\r\nimport { Box } from 'rebass/styled-components'\r\nimport { transparentize } from 'polished'\r\nimport { AlertCircle } from 'react-feather'\r\nimport { TYPE } from '../../theme'\r\nimport { FlexBox } from '../FlexBox'\r\n\r\nconst Card = styled(Box)<{ padding?: string; border?: string; borderRadius?: string }>`\r\n  width: 100%;\r\n  border-radius: 0.5rem;\r\n  padding: 1rem;\r\n  padding: ${({ padding }) => padding};\r\n  border: ${({ border }) => border};\r\n  border-radius: ${({ borderRadius }) => borderRadius};\r\n`\r\nexport default Card\r\n\r\nexport const LightCard = styled(Card)`\r\n  border: 1px solid ${({ theme }) => theme.bg3};\r\n`\r\n\r\nexport const GreyCard = styled(Card)`\r\n  background-color: ${({ theme }) => theme.bg3};\r\n`\r\n\r\nexport const OutlineCard = styled(Card)`\r\n  border: 1px solid ${({ theme }) => theme.bg3};\r\n`\r\n\r\nexport const YellowCard = styled(Card)`\r\n  background-color: rgba(243, 132, 30, 0.05);\r\n  color: ${({ theme }) => theme.yellow2};\r\n  font-weight: 500;\r\n`\r\n\r\nexport const PinkCard = styled(Card)`\r\n  background-color: rgba(255, 0, 122, 0.03);\r\n  color: ${({ theme }) => theme.primary1};\r\n  font-weight: 500;\r\n`\r\n\r\nexport const RedCard = styled(Card)`\r\n  border: ${({ theme }) => `1px solid ${theme.red1}`};\r\n  background-color: ${({ theme }) => transparentize(0.95, theme.red1)};\r\n  color: ${({ theme }) => theme.text1};\r\n`\r\n\r\nconst BlueCardStyled = styled(Card)`\r\n  background-color: ${({ theme }) => theme.primary5};\r\n  color: ${({ theme }) => theme.primary1};\r\n  border-radius: 12px;\r\n  width: fit-content;\r\n`\r\n\r\nexport const BlueCard = ({ children, ...rest }: CardProps) => {\r\n  return (\r\n    <BlueCardStyled {...rest}>\r\n      <Text fontWeight={500} color=\"#2172E5\">\r\n        {children}\r\n      </Text>\r\n    </BlueCardStyled>\r\n  )\r\n}\r\n\r\nconst StyledAlertCircleIcon = styled(AlertCircle)`\r\n  flex-shrink: 0;\r\n`\r\n\r\nexport const ErrorCard = ({ children }: any) => {\r\n  const theme = useContext(ThemeContext)\r\n  return (\r\n    <RedCard>\r\n      <FlexBox align=\"start\">\r\n        <StyledAlertCircleIcon color={theme.red1} />\r\n        <TYPE.body color={theme.text1} paddingLeft=\"0.5rem\">\r\n          {children}\r\n        </TYPE.body>\r\n      </FlexBox>\r\n    </RedCard>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\n\r\nconst Column = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n`\r\nexport const ColumnCenter = styled(Column)`\r\n  width: 100%;\r\n  align-items: center;\r\n`\r\n\r\nexport const AutoColumn = styled.div<{\r\n  gap?: 'sm' | 'md' | 'lg' | string\r\n  justify?: 'stretch' | 'center' | 'start' | 'end' | 'flex-start' | 'flex-end' | 'space-between'\r\n}>`\r\n  display: grid;\r\n  grid-auto-rows: auto;\r\n  grid-row-gap: ${({ gap }) => (gap === 'sm' && '8px') || (gap === 'md' && '12px') || (gap === 'lg' && '24px') || gap};\r\n  justify-items: ${({ justify }) => justify && justify};\r\n`\r\n\r\nexport default Column\r\n","import React, { useState, useRef, useContext } from 'react'\r\nimport styled, { ThemeContext } from 'styled-components'\r\n\r\nimport QuestionHelper from '../QuestionHelper'\r\nimport { TYPE } from '../../theme'\r\nimport { AutoColumn } from '../Column'\r\nimport { RowBetween, RowFixed } from '../Row'\r\n\r\nimport { darken } from 'polished'\r\n\r\nenum SlippageError {\r\n  InvalidInput = 'InvalidInput',\r\n  RiskyLow = 'RiskyLow',\r\n  RiskyHigh = 'RiskyHigh'\r\n}\r\n\r\nenum DeadlineError {\r\n  InvalidInput = 'InvalidInput'\r\n}\r\n\r\nconst FancyButton = styled.button`\r\n  color: ${({ theme }) => theme.text1};\r\n  align-items: center;\r\n  height: 2rem;\r\n  border-radius: 36px;\r\n  font-size: 12px;\r\n  width: auto;\r\n  min-width: 3rem;\r\n  border: 1px solid ${({ theme }) => theme.bg3};\r\n  outline: none;\r\n  background: ${({ theme }) => theme.bg1};\r\n  :hover {\r\n    border: 1px solid ${({ theme }) => theme.bg4};\r\n  }\r\n  :focus {\r\n    border: 1px solid ${({ theme }) => theme.primary1};\r\n  }\r\n`\r\n\r\nconst Option = styled(FancyButton)<{ active: boolean }>`\r\n  margin-right: 8px;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n  background-color: ${({ active, theme }) => active && theme.primary1};\r\n  color: ${({ active, theme }) => (active ? theme.white : theme.text1)};\r\n`\r\n\r\nconst Input = styled.input`\r\n  background: ${({ theme }) => theme.bg1};\r\n  font-size: 16px;\r\n  width: auto;\r\n  outline: none;\r\n  &::-webkit-outer-spin-button,\r\n  &::-webkit-inner-spin-button {\r\n    -webkit-appearance: none;\r\n  }\r\n  color: ${({ theme, color }) => (color === 'red' ? theme.red1 : theme.text1)};\r\n  text-align: right;\r\n`\r\n\r\nconst OptionCustom = styled(FancyButton)<{ active?: boolean; warning?: boolean }>`\r\n  height: 2rem;\r\n  position: relative;\r\n  padding: 0 0.75rem;\r\n  flex: 1;\r\n  border: ${({ theme, active, warning }) => active && `1px solid ${warning ? theme.red1 : theme.primary1}`};\r\n  :hover {\r\n    border: ${({ theme, active, warning }) =>\r\n      active && `1px solid ${warning ? darken(0.1, theme.red1) : darken(0.1, theme.primary1)}`};\r\n  }\r\n\r\n  input {\r\n    width: 100%;\r\n    height: 100%;\r\n    border: 0px;\r\n    border-radius: 2rem;\r\n  }\r\n`\r\n\r\nconst SlippageEmojiContainer = styled.span`\r\n  color: #f3841e;\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    display: none;  \r\n  `}\r\n`\r\n\r\nexport interface SlippageTabsProps {\r\n  rawSlippage: number\r\n  setRawSlippage: (rawSlippage: number) => void\r\n  deadline: number\r\n  setDeadline: (deadline: number) => void\r\n}\r\n\r\nexport default function SlippageTabs({ rawSlippage, setRawSlippage, deadline, setDeadline }: SlippageTabsProps) {\r\n  const theme = useContext(ThemeContext)\r\n\r\n  const inputRef = useRef<HTMLInputElement>()\r\n\r\n  const [slippageInput, setSlippageInput] = useState('')\r\n  const [deadlineInput, setDeadlineInput] = useState('')\r\n\r\n  const slippageInputIsValid =\r\n    slippageInput === '' || (rawSlippage / 100).toFixed(2) === Number.parseFloat(slippageInput).toFixed(2)\r\n  const deadlineInputIsValid = deadlineInput === '' || (deadline / 60).toString() === deadlineInput\r\n\r\n  let slippageError: SlippageError | undefined\r\n  if (slippageInput !== '' && !slippageInputIsValid) {\r\n    slippageError = SlippageError.InvalidInput\r\n  } else if (slippageInputIsValid && rawSlippage < 50) {\r\n    slippageError = SlippageError.RiskyLow\r\n  } else if (slippageInputIsValid && rawSlippage > 500) {\r\n    slippageError = SlippageError.RiskyHigh\r\n  } else {\r\n    slippageError = undefined\r\n  }\r\n\r\n  let deadlineError: DeadlineError | undefined\r\n  if (deadlineInput !== '' && !deadlineInputIsValid) {\r\n    deadlineError = DeadlineError.InvalidInput\r\n  } else {\r\n    deadlineError = undefined\r\n  }\r\n\r\n  function parseCustomSlippage(value: string) {\r\n    setSlippageInput(value)\r\n\r\n    try {\r\n      const valueAsIntFromRoundedFloat = Number.parseInt((Number.parseFloat(value) * 100).toString())\r\n      if (!Number.isNaN(valueAsIntFromRoundedFloat) && valueAsIntFromRoundedFloat < 5000) {\r\n        setRawSlippage(valueAsIntFromRoundedFloat)\r\n      }\r\n    } catch {}\r\n  }\r\n\r\n  function parseCustomDeadline(value: string) {\r\n    setDeadlineInput(value)\r\n\r\n    try {\r\n      const valueAsInt: number = Number.parseInt(value) * 60\r\n      if (!Number.isNaN(valueAsInt) && valueAsInt > 0) {\r\n        setDeadline(valueAsInt)\r\n      }\r\n    } catch {}\r\n  }\r\n\r\n  return (\r\n    <AutoColumn gap=\"md\">\r\n      <AutoColumn gap=\"sm\">\r\n        <RowFixed>\r\n          <TYPE.black fontWeight={400} fontSize={14} color={theme.text2}>\r\n            Slippage tolerance\r\n          </TYPE.black>\r\n          <QuestionHelper text=\"Your transaction will revert if the price changes unfavorably by more than this percentage.\" />\r\n        </RowFixed>\r\n        <RowBetween>\r\n          <Option\r\n            onClick={() => {\r\n              setSlippageInput('')\r\n              setRawSlippage(10)\r\n            }}\r\n            active={rawSlippage === 10}\r\n          >\r\n            0.1%\r\n          </Option>\r\n          <Option\r\n            onClick={() => {\r\n              setSlippageInput('')\r\n              setRawSlippage(50)\r\n            }}\r\n            active={rawSlippage === 50}\r\n          >\r\n            0.5%\r\n          </Option>\r\n          <Option\r\n            onClick={() => {\r\n              setSlippageInput('')\r\n              setRawSlippage(100)\r\n            }}\r\n            active={rawSlippage === 100}\r\n          >\r\n            1%\r\n          </Option>\r\n          <OptionCustom active={![10, 50, 100].includes(rawSlippage)} warning={!slippageInputIsValid} tabIndex={-1}>\r\n            <RowBetween>\r\n              {!!slippageInput &&\r\n              (slippageError === SlippageError.RiskyLow || slippageError === SlippageError.RiskyHigh) ? (\r\n                <SlippageEmojiContainer>\r\n                  <span role=\"img\" aria-label=\"warning\">\r\n                    âš ï¸\r\n                  </span>\r\n                </SlippageEmojiContainer>\r\n              ) : null}\r\n              {/* https://github.com/DefinitelyTyped/DefinitelyTyped/issues/30451 */}\r\n              <Input\r\n                ref={inputRef as any}\r\n                placeholder={(rawSlippage / 100).toFixed(2)}\r\n                value={slippageInput}\r\n                onBlur={() => {\r\n                  parseCustomSlippage((rawSlippage / 100).toFixed(2))\r\n                }}\r\n                onChange={e => parseCustomSlippage(e.target.value)}\r\n                color={!slippageInputIsValid ? 'red' : ''}\r\n              />\r\n              %\r\n            </RowBetween>\r\n          </OptionCustom>\r\n        </RowBetween>\r\n        {!!slippageError && (\r\n          <RowBetween\r\n            style={{\r\n              fontSize: '14px',\r\n              paddingTop: '7px',\r\n              color: slippageError === SlippageError.InvalidInput ? 'red' : '#F3841E'\r\n            }}\r\n          >\r\n            {slippageError === SlippageError.InvalidInput\r\n              ? 'Enter a valid slippage percentage'\r\n              : slippageError === SlippageError.RiskyLow\r\n              ? 'Your transaction may fail'\r\n              : 'Your transaction may be frontrun'}\r\n          </RowBetween>\r\n        )}\r\n      </AutoColumn>\r\n\r\n      <AutoColumn gap=\"sm\">\r\n        <RowFixed>\r\n          <TYPE.black fontSize={14} fontWeight={400} color={theme.text2}>\r\n            Transaction deadline\r\n          </TYPE.black>\r\n          <QuestionHelper text=\"Your transaction will revert if it is pending for more than this long.\" />\r\n        </RowFixed>\r\n        <RowFixed>\r\n          <OptionCustom style={{ width: '80px' }} tabIndex={-1}>\r\n            <Input\r\n              color={!!deadlineError ? 'red' : undefined}\r\n              onBlur={() => {\r\n                parseCustomDeadline((deadline / 60).toString())\r\n              }}\r\n              placeholder={(deadline / 60).toString()}\r\n              value={deadlineInput}\r\n              onChange={e => parseCustomDeadline(e.target.value)}\r\n            />\r\n          </OptionCustom>\r\n          <TYPE.body style={{ paddingLeft: '8px' }} fontSize={14}>\r\n            minutes\r\n          </TYPE.body>\r\n        </RowFixed>\r\n      </AutoColumn>\r\n    </AutoColumn>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst ToggleElement = styled.span<{ isActive?: boolean; isOnSwitch?: boolean }>`\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: 14px;\r\n  background: ${({ theme, isActive, isOnSwitch }) => (isActive ? (isOnSwitch ? theme.primary1 : theme.text4) : 'none')};\r\n  color: ${({ theme, isActive, isOnSwitch }) => (isActive ? (isOnSwitch ? theme.white : theme.text2) : theme.text3)};\r\n  font-size: 0.825rem;\r\n  font-weight: 400;\r\n`\r\n\r\nconst StyledToggle = styled.button<{ isActive?: boolean; activeElement?: boolean }>`\r\n  border-radius: 16px;\r\n  border: 1px solid ${({ theme, isActive }) => (isActive ? theme.primary5 : theme.text4)};\r\n  display: flex;\r\n  width: fit-content;\r\n  cursor: pointer;\r\n  outline: none;\r\n  padding: 0;\r\n  background-color: transparent;\r\n`\r\n\r\nexport interface ToggleProps {\r\n  id?: string\r\n  isActive: boolean\r\n  toggle: () => void\r\n}\r\n\r\nexport default function Toggle({ id, isActive, toggle }: ToggleProps) {\r\n  return (\r\n    <StyledToggle id={id} isActive={isActive} onClick={toggle}>\r\n      <ToggleElement isActive={isActive} isOnSwitch={true}>\r\n        On\r\n      </ToggleElement>\r\n      <ToggleElement isActive={!isActive} isOnSwitch={false}>\r\n        Off\r\n      </ToggleElement>\r\n    </StyledToggle>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { darken, lighten } from 'polished'\r\n\r\nimport { RowBetween } from '../Row'\r\nimport { ChevronDown } from 'react-feather'\r\nimport { Button as RebassButton, ButtonProps } from 'rebass/styled-components'\r\n\r\nconst Base = styled(RebassButton)<{\r\n  padding?: string\r\n  margin?: string\r\n  width?: string\r\n  borderRadius?: string\r\n  altDisabledStyle?: boolean\r\n}>`\r\n  padding: ${({ padding }) => (padding ? padding : '0.5rem')};\r\n  margin: ${({ margin }) => (margin ? margin : 0)};\r\n  width: ${({ width }) => (width ? width : '100%')};\r\n  font-weight: 600;\r\n  text-align: center;\r\n  border-radius: 4px;\r\n  border-radius: ${({ borderRadius }) => borderRadius && borderRadius};\r\n  outline: none;\r\n  border: none;\r\n  color: white;\r\n  text-decoration: none;\r\n  display: flex;\r\n  height: 2.5rem;\r\n  justify-content: center;\r\n  flex-wrap: nowrap;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  position: relative;\r\n  z-index: 1;\r\n  &:disabled {\r\n    cursor: auto;\r\n  }\r\n\r\n  > * {\r\n    user-select: none;\r\n  }\r\n`\r\n\r\nexport const ButtonPrimary = styled(Base)`\r\n  background: ${({ theme }) => theme.primary1};\r\n  // background: ${({ theme }) => `linear-gradient(135deg, ${theme.primary1} 0%,${theme.primary2} 100%)`};\r\n  color: white;\r\n  &:focus {\r\n    box-shadow: 0 0 0 1px inset ${({ theme }) => darken(0.05, theme.primary1)};\r\n    background-color: ${({ theme }) => darken(0.05, theme.primary1)};\r\n  }\r\n  &:hover {\r\n    background: ${({ theme }) => darken(0.05, theme.primary1)};\r\n    // background: ${({ theme }) => `linear-gradient(45deg, ${theme.primary2} 0%,${theme.primary1} 100%)`};\r\n  }\r\n  &:active {\r\n    box-shadow: 0 0 0 1px inset ${({ theme }) => darken(0.1, theme.primary1)};\r\n    background-color: ${({ theme }) => darken(0.1, theme.primary1)};\r\n  }\r\n  &:disabled {\r\n    background: ${({ theme, altDisabledStyle }) => (altDisabledStyle ? theme.primary1 : theme.bg3)};\r\n    color: ${({ theme, altDisabledStyle }) => (altDisabledStyle ? 'white' : theme.text3)};\r\n    cursor: auto;\r\n    box-shadow: none;\r\n    border: none;\r\n    outline: none;\r\n    opacity: ${({ altDisabledStyle }) => (altDisabledStyle ? '0.7' : '1')};\r\n  }\r\n`\r\n\r\nexport const ButtonLight = styled(Base)`\r\n  background-color: ${({ theme }) => theme.primary5};\r\n  color: ${({ theme }) => theme.primaryText1};\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  &:focus {\r\n    box-shadow: 0 0 0 1pt ${({ theme, disabled }) => !disabled && darken(0.03, theme.primary5)};\r\n    background-color: ${({ theme, disabled }) => !disabled && darken(0.03, theme.primary5)};\r\n  }\r\n  &:hover {\r\n    background-color: ${({ theme, disabled }) => !disabled && darken(0.03, theme.primary5)};\r\n  }\r\n  &:active {\r\n    box-shadow: 0 0 0 1pt ${({ theme, disabled }) => !disabled && darken(0.05, theme.primary5)};\r\n    background-color: ${({ theme, disabled }) => !disabled && darken(0.05, theme.primary5)};\r\n  }\r\n  :disabled {\r\n    opacity: 0.4;\r\n    :hover {\r\n      cursor: auto;\r\n      background-color: ${({ theme }) => theme.primary5};\r\n      box-shadow: none;\r\n      border: 1px solid transparent;\r\n      outline: none;\r\n    }\r\n  }\r\n`\r\n\r\nexport const ButtonGray = styled(Base)`\r\n  background-color: ${({ theme }) => theme.bg3};\r\n  color: ${({ theme }) => theme.text2};\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  &:focus {\r\n    box-shadow: 0 0 0 1pt ${({ theme, disabled }) => !disabled && darken(0.05, theme.bg2)};\r\n    background-color: ${({ theme, disabled }) => !disabled && darken(0.05, theme.bg2)};\r\n  }\r\n  &:hover {\r\n    background-color: ${({ theme, disabled }) => !disabled && darken(0.05, theme.bg2)};\r\n  }\r\n  &:active {\r\n    box-shadow: 0 0 0 1pt ${({ theme, disabled }) => !disabled && darken(0.1, theme.bg2)};\r\n    background-color: ${({ theme, disabled }) => !disabled && darken(0.1, theme.bg2)};\r\n  }\r\n`\r\n\r\nexport const ButtonSecondary = styled(Base)`\r\n  background-color: transparent;\r\n  border: ${({ theme }) => `1px solid ${theme.primary1}`};\r\n  color: ${({ theme }) => theme.primary1};\r\n  border-radius: 0.25rem;\r\n  height: 2.5rem;\r\n\r\n  &:focus {\r\n    box-shadow: 0 0 0 1pt ${({ theme }) => theme.primary4};\r\n    background-color: ${({ theme }) => theme.primary4};\r\n  }\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.primary4};\r\n  }\r\n  &:active {\r\n    box-shadow: 0 0 0 1pt ${({ theme }) => theme.primary4};\r\n    background-color: ${({ theme }) => theme.primary4};\r\n  }\r\n  &:disabled {\r\n    background-color: ${({ theme }) => theme.primary5};\r\n    opacity: 50%;\r\n    cursor: auto;\r\n  }\r\n`\r\n\r\nexport const ButtonPink = styled(Base)`\r\n  background-color: ${({ theme }) => theme.primary1};\r\n  color: white;\r\n\r\n  &:focus {\r\n    box-shadow: 0 0 0 1pt ${({ theme }) => darken(0.05, theme.primary1)};\r\n    background-color: ${({ theme }) => darken(0.05, theme.primary1)};\r\n  }\r\n  &:hover {\r\n    background-color: ${({ theme }) => darken(0.05, theme.primary1)};\r\n  }\r\n  &:active {\r\n    box-shadow: 0 0 0 1pt ${({ theme }) => darken(0.1, theme.primary1)};\r\n    background-color: ${({ theme }) => darken(0.1, theme.primary1)};\r\n  }\r\n  &:disabled {\r\n    background-color: ${({ theme }) => theme.primary1};\r\n    opacity: 50%;\r\n    cursor: auto;\r\n  }\r\n`\r\n\r\nexport const ButtonOutlined = styled(Base)`\r\n  border: 1px solid ${({ theme }) => theme.primary1};\r\n  background-color: transparent;\r\n  color: ${({ theme }) => theme.primary1};\r\n\r\n  &:focus {\r\n    box-shadow: 0 0 0 1px ${({ theme }) => theme.bg4};\r\n  }\r\n  &:hover {\r\n    box-shadow: 0 0 0 1px ${({ theme }) => theme.bg4};\r\n  }\r\n  &:active {\r\n    box-shadow: 0 0 0 1px ${({ theme }) => theme.bg4};\r\n  }\r\n  &:disabled {\r\n    opacity: 50%;\r\n    cursor: auto;\r\n  }\r\n`\r\n\r\nexport const ButtonEmpty = styled(Base)`\r\n  background-color: transparent;\r\n  color: ${({ theme }) => theme.primary1};\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 0;\r\n  align-self: flex-start;\r\n  width: auto;\r\n\r\n  &:focus {\r\n    color: ${({ theme }) => theme.bg4};\r\n  }\r\n  &:hover {\r\n    color: ${({ theme }) => theme.bg4};\r\n  }\r\n  &:active {\r\n    color: ${({ theme }) => theme.bg4};\r\n  }\r\n  &:disabled {\r\n    opacity: 50%;\r\n    cursor: auto;\r\n  }\r\n\r\n  svg {\r\n    margin-right: 0.25rem;\r\n    flex-shrink: 0;\r\n  }\r\n`\r\n\r\nexport const ButtonWhite = styled(Base)`\r\n  border: 1px solid #edeef2;\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  color: black;\r\n\r\n  &:focus {\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    box-shadow: 0 0 0 1pt ${darken(0.05, '#edeef2')};\r\n  }\r\n  &:hover {\r\n    box-shadow: 0 0 0 1pt ${darken(0.1, '#edeef2')};\r\n  }\r\n  &:active {\r\n    box-shadow: 0 0 0 1pt ${darken(0.1, '#edeef2')};\r\n  }\r\n  &:disabled {\r\n    opacity: 50%;\r\n    cursor: auto;\r\n  }\r\n`\r\n\r\nconst ButtonConfirmedStyle = styled(Base)`\r\n  background-color: ${({ theme }) => lighten(0.5, theme.green1)};\r\n  color: ${({ theme }) => theme.green1};\r\n  border: 1px solid ${({ theme }) => theme.green1};\r\n\r\n  &:disabled {\r\n    opacity: 50%;\r\n    cursor: auto;\r\n  }\r\n`\r\n\r\nconst ButtonErrorStyle = styled(Base)`\r\n  background-color: ${({ theme }) => theme.red1};\r\n  border: 1px solid ${({ theme }) => theme.red1};\r\n\r\n  &:focus {\r\n    box-shadow: 0 0 0 1pt ${({ theme }) => darken(0.05, theme.red1)};\r\n    background-color: ${({ theme }) => darken(0.05, theme.red1)};\r\n  }\r\n  &:hover {\r\n    background-color: ${({ theme }) => darken(0.05, theme.red1)};\r\n  }\r\n  &:active {\r\n    box-shadow: 0 0 0 1pt ${({ theme }) => darken(0.1, theme.red1)};\r\n    background-color: ${({ theme }) => darken(0.1, theme.red1)};\r\n  }\r\n  &:disabled {\r\n    opacity: 50%;\r\n    cursor: auto;\r\n    box-shadow: none;\r\n    background-color: ${({ theme }) => theme.red1};\r\n    border: 1px solid ${({ theme }) => theme.red1};\r\n  }\r\n`\r\n\r\nexport function ButtonConfirmed({\r\n  confirmed,\r\n  altDisabledStyle,\r\n  ...rest\r\n}: { confirmed?: boolean; altDisabledStyle?: boolean } & ButtonProps) {\r\n  if (confirmed) {\r\n    return <ButtonConfirmedStyle {...rest} />\r\n  } else {\r\n    return <ButtonPrimary {...rest} altDisabledStyle={altDisabledStyle} />\r\n  }\r\n}\r\n\r\nexport function ButtonError({ error, ...rest }: { error?: boolean } & ButtonProps) {\r\n  if (error) {\r\n    return <ButtonErrorStyle {...rest} />\r\n  } else {\r\n    return <ButtonPrimary {...rest} />\r\n  }\r\n}\r\n\r\nexport function ButtonDropdown({ disabled = false, children, ...rest }: { disabled?: boolean } & ButtonProps) {\r\n  return (\r\n    <ButtonPrimary {...rest} disabled={disabled}>\r\n      <RowBetween>\r\n        <div style={{ display: 'flex', alignItems: 'center' }}>{children}</div>\r\n        <ChevronDown size={24} />\r\n      </RowBetween>\r\n    </ButtonPrimary>\r\n  )\r\n}\r\n\r\nexport function ButtonDropdownLight({ disabled = false, children, ...rest }: { disabled?: boolean } & ButtonProps) {\r\n  return (\r\n    <ButtonOutlined {...rest} disabled={disabled}>\r\n      <RowBetween>\r\n        <div style={{ display: 'flex', alignItems: 'center' }}>{children}</div>\r\n        <ChevronDown size={24} />\r\n      </RowBetween>\r\n    </ButtonOutlined>\r\n  )\r\n}\r\n\r\nexport function ButtonRadio({ active, ...rest }: { active?: boolean } & ButtonProps) {\r\n  if (!active) {\r\n    return <ButtonWhite {...rest} />\r\n  } else {\r\n    return <ButtonPrimary {...rest} />\r\n  }\r\n}\r\n","import React from 'react'\r\nimport styled, { css } from 'styled-components'\r\nimport { animated, useTransition, useSpring } from 'react-spring'\r\nimport { DialogOverlay, DialogContent } from '@reach/dialog'\r\nimport { isMobile } from 'react-device-detect'\r\nimport '@reach/dialog/styles.css'\r\nimport { transparentize } from 'polished'\r\nimport { useGesture } from 'react-use-gesture'\r\n\r\nconst AnimatedDialogOverlay = animated(DialogOverlay)\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nconst StyledDialogOverlay = styled(AnimatedDialogOverlay)`\r\n  &[data-reach-dialog-overlay] {\r\n    z-index: 2;\r\n    background-color: transparent;\r\n    overflow: hidden;\r\n\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    background-color: ${({ theme }) => theme.modalBG};\r\n  }\r\n`\r\n\r\nconst AnimatedDialogContent = animated(DialogContent)\r\n// destructure to not pass custom props to Dialog DOM element\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nconst StyledDialogContent = styled(({ minHeight, maxHeight, mobile, isOpen, ...rest }) => (\r\n  <AnimatedDialogContent {...rest} />\r\n)).attrs({\r\n  'aria-label': 'dialog'\r\n})`\r\n  &[data-reach-dialog-content] {\r\n    margin: 0 0 2rem 0;\r\n    border: 1px solid ${({ theme }) => theme.bg1};\r\n    background-color: ${({ theme }) => theme.bg1};\r\n    box-shadow: 0 4px 8px 0 ${({ theme }) => transparentize(0.95, theme.shadow1)};\r\n    padding: 0px;\r\n    width: 50vw;\r\n    overflow: hidden;\r\n\r\n    align-self: ${({ mobile }) => (mobile ? 'flex-end' : 'center')};\r\n\r\n    max-width: 420px;\r\n    ${({ maxHeight }) =>\r\n      maxHeight &&\r\n      css`\r\n        max-height: ${maxHeight}vh;\r\n      `}\r\n    ${({ minHeight }) =>\r\n      minHeight &&\r\n      css`\r\n        min-height: ${minHeight}vh;\r\n      `}\r\n    display: flex;\r\n    border-radius: 1rem;\r\n    ${({ theme }) => theme.mediaWidth.upToMedium`\r\n      width: 65vw;\r\n      margin: 0;\r\n    `}\r\n    ${({ theme, mobile }) => theme.mediaWidth.upToSmall`\r\n      width:  85vw;\r\n      ${mobile &&\r\n        css`\r\n          width: 100vw;\r\n          border-radius: 20px;\r\n          border-bottom-left-radius: 0;\r\n          border-bottom-right-radius: 0;\r\n        `}\r\n    `}\r\n  }\r\n`\r\n\r\ninterface ModalProps {\r\n  isOpen: boolean\r\n  onDismiss: () => void\r\n  minHeight?: number | false\r\n  maxHeight?: number\r\n  initialFocusRef?: React.RefObject<any>\r\n  children?: React.ReactNode\r\n}\r\n\r\nexport default function Modal({\r\n  isOpen,\r\n  onDismiss,\r\n  minHeight = false,\r\n  maxHeight = 50,\r\n  initialFocusRef,\r\n  children\r\n}: ModalProps) {\r\n  const fadeTransition = useTransition(isOpen, null, {\r\n    config: { duration: 200 },\r\n    from: { opacity: 0 },\r\n    enter: { opacity: 1 },\r\n    leave: { opacity: 0 }\r\n  })\r\n\r\n  const [{ y }, set] = useSpring(() => ({ y: 0, config: { mass: 1, tension: 210, friction: 20 } }))\r\n  const bind = useGesture({\r\n    onDrag: state => {\r\n      set({\r\n        y: state.down ? state.movement[1] : 0\r\n      })\r\n      if (state.movement[1] > 300 || (state.velocity > 3 && state.direction[1] > 0)) {\r\n        onDismiss()\r\n      }\r\n    }\r\n  })\r\n\r\n  return (\r\n    <>\r\n      {fadeTransition.map(\r\n        ({ item, key, props }) =>\r\n          item && (\r\n            <StyledDialogOverlay key={key} style={props} onDismiss={onDismiss} initialFocusRef={initialFocusRef}>\r\n              <StyledDialogContent\r\n                {...(isMobile\r\n                  ? {\r\n                      ...bind(),\r\n                      style: { transform: y.interpolate(y => `translateY(${y > 0 ? y : 0}px)`) }\r\n                    }\r\n                  : {})}\r\n                aria-label=\"dialog content\"\r\n                minHeight={minHeight}\r\n                maxHeight={maxHeight}\r\n                mobile={isMobile}\r\n              >\r\n                {/* prevents the automatic focusing of inputs on mobile by the reach dialog */}\r\n                {!initialFocusRef && isMobile ? <div tabIndex={1} /> : null}\r\n                {children}\r\n              </StyledDialogContent>\r\n            </StyledDialogOverlay>\r\n          )\r\n      )}\r\n    </>\r\n  )\r\n}\r\n","import React, { useRef, useContext, useState } from 'react'\r\nimport { Settings, X } from 'react-feather'\r\nimport styled from 'styled-components'\r\nimport { useOnClickOutside } from '../../hooks/useOnClickOutside'\r\nimport {\r\n  useUserSlippageTolerance,\r\n  useExpertModeManager,\r\n  useUserDeadline,\r\n  useDarkModeManager\r\n} from '../../state/user/hooks'\r\nimport TransactionSettings from '../TransactionSettings'\r\nimport { RowFixed, RowBetween } from '../Row'\r\nimport { TYPE } from '../../theme'\r\nimport QuestionHelper from '../QuestionHelper'\r\nimport Toggle from '../Toggle'\r\nimport { ThemeContext } from 'styled-components'\r\nimport { AutoColumn } from '../Column'\r\nimport { ButtonError } from '../Button'\r\nimport { useSettingsMenuOpen, useToggleSettingsMenu } from '../../state/application/hooks'\r\nimport { Text } from 'rebass'\r\nimport Modal from '../Modal'\r\n\r\nconst StyledMenuIcon = styled(Settings)`\r\n  height: 20px;\r\n  width: 20px;\r\n\r\n  > * {\r\n    stroke: ${({ theme }) => theme.text1};\r\n  }\r\n`\r\n\r\nconst StyledCloseIcon = styled(X)`\r\n  height: 20px;\r\n  width: 20px;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n\r\n  > * {\r\n    stroke: ${({ theme }) => theme.text1};\r\n  }\r\n`\r\n\r\nconst StyledMenuButton = styled.button`\r\n  position: relative;\r\n  width: 2.5rem;\r\n  border: none;\r\n  background-color: transparent;\r\n  margin: 0;\r\n  padding: 0;\r\n  height: 2.5rem;\r\n  background-color: ${({ theme }) => theme.bg2};\r\n\r\n  border-radius: 0.25rem;\r\n\r\n  :hover,\r\n  :focus {\r\n    cursor: pointer;\r\n    outline: none;\r\n    background-color: ${({ theme }) => theme.bg4};\r\n  }\r\n\r\n  svg {\r\n    margin-top: 2px;\r\n    height: 20px;\r\n    width: 20px;\r\n  }\r\n`\r\n// const EmojiWrapper = styled.div`\r\n//   position: absolute;\r\n//   bottom: -6px;\r\n//   right: 0px;\r\n//   font-size: 14px;\r\n// `\r\n\r\nconst StyledMenu = styled.div`\r\n  margin-left: 0.5rem;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: relative;\r\n  border: none;\r\n  text-align: left;\r\n`\r\n\r\nconst MenuFlyout = styled.span`\r\n  min-width: 20.125rem;\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.01), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04),\r\n    0px 24px 32px rgba(0, 0, 0, 0.01);\r\n\r\n  border: 1px solid ${({ theme }) => theme.bg3};\r\n\r\n  border-radius: 0.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  font-size: 1rem;\r\n  position: absolute;\r\n  top: 3rem;\r\n  right: 0rem;\r\n  z-index: 100;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\r\n    min-width: 18.125rem;\r\n    right: -46px;\r\n  `};\r\n`\r\n\r\nconst Break = styled.div`\r\n  width: 100%;\r\n  height: 1px;\r\n  background-color: ${({ theme }) => theme.bg3};\r\n`\r\n\r\nconst ModalContentWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 2rem 0;\r\n  background-color: ${({ theme }) => theme.bg2};\r\n  border-radius: 20px;\r\n`\r\n\r\nexport default function SettingsTab() {\r\n  const node = useRef<HTMLDivElement>()\r\n  const open = useSettingsMenuOpen()\r\n  const toggle = useToggleSettingsMenu()\r\n\r\n  const theme = useContext(ThemeContext)\r\n  const [userSlippageTolerance, setUserslippageTolerance] = useUserSlippageTolerance()\r\n\r\n  const [deadline, setDeadline] = useUserDeadline()\r\n\r\n  const [expertMode, toggleExpertMode] = useExpertModeManager()\r\n\r\n  const [darkMode, toggleDarkMode] = useDarkModeManager()\r\n\r\n  // show confirmation view before turning on\r\n  const [showConfirmation, setShowConfirmation] = useState(false)\r\n\r\n  useOnClickOutside(node, open ? toggle : undefined)\r\n\r\n  return (\r\n    // https://github.com/DefinitelyTyped/DefinitelyTyped/issues/30451\r\n    <StyledMenu ref={node as any}>\r\n      <Modal isOpen={showConfirmation} onDismiss={() => setShowConfirmation(false)} maxHeight={100}>\r\n        <ModalContentWrapper>\r\n          <AutoColumn gap=\"lg\">\r\n            <RowBetween style={{ padding: '0 2rem' }}>\r\n              <div />\r\n              <Text fontWeight={500} fontSize={20}>\r\n                Are you sure?\r\n              </Text>\r\n              <StyledCloseIcon onClick={() => setShowConfirmation(false)} />\r\n            </RowBetween>\r\n            <Break />\r\n            <AutoColumn gap=\"lg\" style={{ padding: '0 2rem' }}>\r\n              <Text fontWeight={500} fontSize={20}>\r\n                Expert mode turns off the confirm transaction prompt and allows high slippage trades that often result\r\n                in bad rates and lost funds.\r\n              </Text>\r\n              <Text fontWeight={600} fontSize={20}>\r\n                ONLY USE THIS MODE IF YOU KNOW WHAT YOU ARE DOING.\r\n              </Text>\r\n              <ButtonError\r\n                error={true}\r\n                padding={'12px'}\r\n                onClick={() => {\r\n                  if (window.prompt(`Please type the word \"confirm\" to enable expert mode.`) === 'confirm') {\r\n                    toggleExpertMode()\r\n                    setShowConfirmation(false)\r\n                  }\r\n                }}\r\n              >\r\n                <Text fontSize={20} fontWeight={500} id=\"confirm-expert-mode\">\r\n                  Turn On Expert Mode\r\n                </Text>\r\n              </ButtonError>\r\n            </AutoColumn>\r\n          </AutoColumn>\r\n        </ModalContentWrapper>\r\n      </Modal>\r\n      <StyledMenuButton onClick={toggle} id=\"open-settings-dialog-button\">\r\n        <StyledMenuIcon />\r\n        {/* {expertMode && (\r\n          <EmojiWrapper>\r\n            <span role=\"img\" aria-label=\"wizard-icon\">\r\n              ðŸ§™\r\n            </span>\r\n          </EmojiWrapper>\r\n        )} */}\r\n      </StyledMenuButton>\r\n      {open && (\r\n        <MenuFlyout>\r\n          <AutoColumn gap=\"md\" style={{ padding: '1rem' }}>\r\n            <Text fontWeight={600} fontSize={14}>\r\n              Transaction Settings\r\n            </Text>\r\n            <TransactionSettings\r\n              rawSlippage={userSlippageTolerance}\r\n              setRawSlippage={setUserslippageTolerance}\r\n              deadline={deadline}\r\n              setDeadline={setDeadline}\r\n            />\r\n            <Text fontWeight={600} fontSize={14}>\r\n              Interface Settings\r\n            </Text>\r\n            <RowBetween>\r\n              <RowFixed>\r\n                <TYPE.black fontWeight={400} fontSize={14} color={theme.text2}>\r\n                  Toggle Expert Mode\r\n                </TYPE.black>\r\n                <QuestionHelper text=\"Bypasses confirmation modals and allows high slippage trades. Use at your own risk.\" />\r\n              </RowFixed>\r\n              <Toggle\r\n                id=\"toggle-expert-mode-button\"\r\n                isActive={expertMode}\r\n                toggle={\r\n                  expertMode\r\n                    ? () => {\r\n                        toggleExpertMode()\r\n                        setShowConfirmation(false)\r\n                      }\r\n                    : () => {\r\n                        toggle()\r\n                        setShowConfirmation(true)\r\n                      }\r\n                }\r\n              />\r\n            </RowBetween>\r\n            <RowBetween>\r\n              <RowFixed>\r\n                <TYPE.black fontWeight={400} fontSize={14} color={theme.text2}>\r\n                  Toggle Dark Mode\r\n                </TYPE.black>\r\n              </RowFixed>\r\n              <Toggle isActive={darkMode} toggle={toggleDarkMode} />\r\n            </RowBetween>\r\n          </AutoColumn>\r\n        </MenuFlyout>\r\n      )}\r\n    </StyledMenu>\r\n  )\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 3,\n  y1: 12,\n  x2: 21,\n  y2: 12\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 3,\n  y1: 6,\n  x2: 21,\n  y2: 6\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 3,\n  y1: 18,\n  x2: 21,\n  y2: 18\n});\n\nvar SvgMenu = function SvgMenu(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-menu\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgMenu, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/menu.22df44f7.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useRef } from 'react'\r\nimport { Info, BookOpen, MessageCircle, Twitter } from 'react-feather'\r\nimport styled from 'styled-components'\r\nimport { ReactComponent as MenuIcon } from '../../assets/images/menu.svg'\r\nimport { useOnClickOutside } from '../../hooks/useOnClickOutside'\r\nimport useToggle from '../../hooks/useToggle'\r\nimport { GroupStakingTabs } from '../NavigationTabs'\r\nimport { ExternalLink } from '../../theme'\r\nimport { RouteComponentProps, withRouter } from 'react-router-dom'\r\n\r\nconst StyledMenuIcon = styled(MenuIcon)`\r\n  height: 20px;\r\n  width: 20px;\r\n  line {\r\n    stroke: ${({ theme }) => theme.text1};\r\n  }\r\n`\r\n\r\nconst StyledMenuButton = styled.button`\r\n  width: 2.5rem;\r\n  border: none;\r\n  background-color: transparent;\r\n  margin: 0;\r\n  padding: 0;\r\n  height: 2.5rem;\r\n  background-color: ${({ theme }) => theme.bg2};\r\n\r\n  border-radius: 0.25rem;\r\n\r\n  :hover,\r\n  :focus {\r\n    cursor: pointer;\r\n    outline: none;\r\n    background-color: ${({ theme }) => theme.bg4};\r\n  }\r\n\r\n  svg {\r\n    margin-top: 2px;\r\n  }\r\n`\r\n\r\nconst StyledMenu = styled.div`\r\n  margin-left: 0.5rem;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: relative;\r\n  border: none;\r\n  text-align: left;\r\n`\r\n\r\nconst MenuFlyout = styled.span`\r\n  min-width: 8.125rem;\r\n  background-color: ${({ theme }) => theme.bg3};\r\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.01), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04),\r\n    0px 24px 32px rgba(0, 0, 0, 0.01);\r\n  border-radius: 0.5rem;\r\n  padding: 1rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  font-size: 1rem;\r\n  position: absolute;\r\n  top: 3rem;\r\n  right: 0rem;\r\n  z-index: 100;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    min-width: 12rem;\r\n  `};\r\n`\r\n\r\nconst MenuItem = styled(ExternalLink)`\r\n  display: flex;\r\n  align-items: center;\r\n  flex: 1;\r\n  padding: 0.5rem 0;\r\n  color: ${({ theme }) => theme.text2};\r\n  :hover {\r\n    color: ${({ theme }) => theme.text1};\r\n    cursor: pointer;\r\n    text-decoration: none;\r\n  }\r\n  > svg {\r\n    margin-right: 8px;\r\n  }\r\n`\r\n\r\nconst MainNavLinksWrapper = styled.div`\r\n  display: none;\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    display: block;\r\n  `};\r\n`\r\n\r\nfunction Menu({ location }: RouteComponentProps) {\r\n  const node = useRef<HTMLDivElement>()\r\n  const [open, toggle] = useToggle(false)\r\n\r\n  useOnClickOutside(node, open ? toggle : undefined)\r\n\r\n  const isActiveTab = location.pathname.substring(1)\r\n\r\n  return (\r\n    // https://github.com/DefinitelyTyped/DefinitelyTyped/issues/30451\r\n    <StyledMenu ref={node as any}>\r\n      <StyledMenuButton onClick={toggle}>\r\n        <StyledMenuIcon />\r\n      </StyledMenuButton>\r\n      {open && (\r\n        <MenuFlyout>\r\n          <MainNavLinksWrapper>\r\n            <GroupStakingTabs active={isActiveTab} />\r\n          </MainNavLinksWrapper>\r\n          <MenuItem id=\"link\" href=\"http://unifund.global/\">\r\n            <Info size={14} />\r\n            About\r\n          </MenuItem>\r\n          <MenuItem id=\"link\" href=\"https://medium.com/@unifundGlobal\">\r\n            <BookOpen size={14} />\r\n            Medium\r\n          </MenuItem>\r\n          <MenuItem id=\"link\" href=\"https://twitter.com/UnifundGlobal\">\r\n            <Twitter size={14} />\r\n            Twitter\r\n          </MenuItem>\r\n          <MenuItem id=\"link\" href=\"https://t.me/UnifundGlobal\">\r\n            <MessageCircle size={14} />\r\n            Telegram\r\n          </MenuItem>\r\n          <MenuItem id=\"link\" href=\"https://discord.gg/qeu4suq\">\r\n            <MessageCircle size={14} />\r\n            Discord\r\n          </MenuItem>\r\n        </MenuFlyout>\r\n      )}\r\n    </StyledMenu>\r\n  )\r\n}\r\n\r\nexport default withRouter(Menu)\r\n","/**\r\n * Returns true if the string value is zero in hex\r\n * @param hexNumberString\r\n */\r\nexport default function isZero(hexNumberString: string) {\r\n  return /^0x0*$/.test(hexNumberString)\r\n}\r\n","import { useEffect, useState } from 'react'\r\n\r\n// modified from https://usehooks.com/useDebounce/\r\nexport default function useDebounce<T>(value: T, delay: number): T {\r\n  const [debouncedValue, setDebouncedValue] = useState<T>(value)\r\n\r\n  useEffect(() => {\r\n    // Update debounced value after delay\r\n    const handler = setTimeout(() => {\r\n      setDebouncedValue(value)\r\n    }, delay)\r\n\r\n    // Cancel the timeout if value changes (also on delay change or unmount)\r\n    // This is how we prevent debounced value from updating if value is changed ...\r\n    // .. within the delay period. Timeout gets cleared and restarted.\r\n    return () => {\r\n      clearTimeout(handler)\r\n    }\r\n  }, [value, delay])\r\n\r\n  return debouncedValue\r\n}\r\n","import { namehash } from 'ethers/lib/utils'\r\nimport { useMemo } from 'react'\r\nimport { useSingleCallResult } from '../state/multicall/hooks'\r\nimport { isAddress } from '../utils'\r\nimport isZero from '../utils/isZero'\r\nimport { useENSRegistrarContract, useENSResolverContract } from './useContract'\r\nimport useDebounce from './useDebounce'\r\n\r\n/**\r\n * Does a reverse lookup for an address to find its ENS name.\r\n * Note this is not the same as looking up an ENS name to find an address.\r\n */\r\nexport default function useENSName(address?: string): { ENSName: string | null; loading: boolean } {\r\n  const debouncedAddress = useDebounce(address, 200)\r\n  const ensNodeArgument = useMemo(() => {\r\n    if (!debouncedAddress || !isAddress(debouncedAddress)) return [undefined]\r\n    try {\r\n      return debouncedAddress ? [namehash(`${debouncedAddress.toLowerCase().substr(2)}.addr.reverse`)] : [undefined]\r\n    } catch (error) {\r\n      return [undefined]\r\n    }\r\n  }, [debouncedAddress])\r\n  const registrarContract = useENSRegistrarContract(false)\r\n  const resolverAddress = useSingleCallResult(registrarContract, 'resolver', ensNodeArgument)\r\n  const resolverAddressResult = resolverAddress.result?.[0]\r\n  const resolverContract = useENSResolverContract(\r\n    resolverAddressResult && !isZero(resolverAddressResult) ? resolverAddressResult : undefined,\r\n    false\r\n  )\r\n  const name = useSingleCallResult(resolverContract, 'name', ensNodeArgument)\r\n\r\n  const changed = debouncedAddress !== address\r\n  return {\r\n    ENSName: changed ? null : name.result?.[0] ?? null,\r\n    loading: changed || resolverAddress.loading || name.loading\r\n  }\r\n}\r\n","import { JSBI } from 'src/sdk'\r\nimport { useMemo } from 'react'\r\nimport { NEVER_RELOAD, useSingleCallResult } from '../state/multicall/hooks'\r\nimport { useActiveWeb3React } from './index'\r\nimport { useSocksController } from './useContract'\r\n\r\nexport default function useSocksBalance(): JSBI | undefined {\r\n  const { account } = useActiveWeb3React()\r\n  const socksContract = useSocksController()\r\n\r\n  const { result } = useSingleCallResult(socksContract, 'balanceOf', [account ?? undefined], NEVER_RELOAD)\r\n  const data = result?.[0]\r\n  return data ? JSBI.BigInt(data.toString()) : undefined\r\n}\r\n\r\nexport function useHasSocks(): boolean | undefined {\r\n  const balance = useSocksBalance()\r\n  return useMemo(() => balance && JSBI.greaterThan(balance, JSBI.BigInt(0)), [balance])\r\n}\r\n","import React, { useEffect, useRef } from 'react'\r\n\r\nimport styled from 'styled-components'\r\n\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport Jazzicon from 'jazzicon'\r\n\r\nconst StyledIdenticonContainer = styled.div`\r\n  height: 1rem;\r\n  width: 1rem;\r\n  border-radius: 1.125rem;\r\n  background-color: ${({ theme }) => theme.bg4};\r\n  margin-left: 0.5rem;\r\n`\r\n\r\nexport default function Identicon() {\r\n  const ref = useRef<HTMLDivElement>()\r\n\r\n  const { account } = useActiveWeb3React()\r\n\r\n  useEffect(() => {\r\n    if (account && ref.current) {\r\n      ref.current.innerHTML = ''\r\n      ref.current.appendChild(Jazzicon(16, parseInt(account.slice(2, 10), 16)))\r\n    }\r\n  }, [account])\r\n\r\n  // https://github.com/DefinitelyTyped/DefinitelyTyped/issues/30451\r\n  return <StyledIdenticonContainer ref={ref as any} />\r\n}\r\n","import React from 'react'\r\n\r\nimport styled, { keyframes } from 'styled-components'\r\n\r\nconst rotate = keyframes`\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n`\r\n\r\nconst StyledSVG = styled.svg<{ size: string; stroke?: string }>`\r\n  animation: 2s ${rotate} linear infinite;\r\n  height: ${({ size }) => size};\r\n  width: ${({ size }) => size};\r\n  path {\r\n    stroke: ${({ stroke, theme }) => stroke ?? theme.primary1};\r\n  }\r\n`\r\n\r\n/**\r\n * Takes in custom size and stroke for circle color, default to primary color as fill,\r\n * need ...rest for layered styles on top\r\n */\r\nexport default function Loader({ size = '16px', stroke, ...rest }: { size?: string; stroke?: string }) {\r\n  return (\r\n    <StyledSVG viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" size={size} stroke={stroke} {...rest}>\r\n      <path\r\n        d=\"M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 9.27455 20.9097 6.80375 19.1414 5\"\r\n        strokeWidth=\"2.5\"\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n      />\r\n    </StyledSVG>\r\n  )\r\n}\r\n","import { useEffect, useRef } from 'react'\r\n\r\n// modified from https://usehooks.com/usePrevious/\r\nexport default function usePrevious<T>(value: T) {\r\n  // The ref object is a generic container whose current property is mutable ...\r\n  // ... and can hold any value, similar to an instance property on a class\r\n  const ref = useRef<T>()\r\n\r\n  // Store current value in ref\r\n  useEffect(() => {\r\n    ref.current = value\r\n  }, [value]) // Only re-run if value changes\r\n\r\n  // Return previous value (happens before update in useEffect above)\r\n  return ref.current\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport useCopyClipboard from '../../hooks/useCopyClipboard'\r\n\r\nimport { LinkStyledButton } from '../../theme'\r\nimport { CheckCircle, Copy } from 'react-feather'\r\n\r\nconst CopyIcon = styled(LinkStyledButton)`\r\n  color: ${({ theme }) => theme.text3};\r\n  flex-shrink: 0;\r\n  display: flex;\r\n  text-decoration: none;\r\n  font-size: 0.825rem;\r\n  :hover,\r\n  :active,\r\n  :focus {\r\n    text-decoration: none;\r\n    color: ${({ theme }) => theme.text2};\r\n  }\r\n`\r\nconst TransactionStatusText = styled.span`\r\n  margin-left: 0.25rem;\r\n  font-size: 0.825rem;\r\n  ${({ theme }) => theme.flexRowNoWrap};\r\n  align-items: center;\r\n`\r\n\r\nexport default function CopyHelper(props: { toCopy: string; children?: React.ReactNode }) {\r\n  const [isCopied, setCopied] = useCopyClipboard()\r\n\r\n  return (\r\n    <CopyIcon onClick={() => setCopied(props.toCopy)}>\r\n      {isCopied ? (\r\n        <TransactionStatusText>\r\n          <CheckCircle size={'16'} />\r\n          <TransactionStatusText>Copied</TransactionStatusText>\r\n        </TransactionStatusText>\r\n      ) : (\r\n        <TransactionStatusText>\r\n          <Copy size={'16'} />\r\n        </TransactionStatusText>\r\n      )}\r\n      {isCopied ? '' : props.children}\r\n    </CopyIcon>\r\n  )\r\n}\r\n","import copy from 'copy-to-clipboard'\r\nimport { useCallback, useEffect, useState } from 'react'\r\n\r\nexport default function useCopyClipboard(timeout = 500): [boolean, (toCopy: string) => void] {\r\n  const [isCopied, setIsCopied] = useState(false)\r\n\r\n  const staticCopy = useCallback(text => {\r\n    const didCopy = copy(text)\r\n    setIsCopied(didCopy)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (isCopied) {\r\n      const hide = setTimeout(() => {\r\n        setIsCopied(false)\r\n      }, timeout)\r\n\r\n      return () => {\r\n        clearTimeout(hide)\r\n      }\r\n    }\r\n    return undefined\r\n  }, [isCopied, setIsCopied, timeout])\r\n\r\n  return [isCopied, staticCopy]\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { CheckCircle, Triangle } from 'react-feather'\r\n\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { getEtherscanLink } from '../../utils'\r\nimport { ExternalLink } from '../../theme'\r\nimport { useAllTransactions } from '../../state/transactions/hooks'\r\nimport { RowFixed } from '../Row'\r\nimport Loader from '../Loader'\r\n\r\nconst TransactionWrapper = styled.div``\r\n\r\nconst TransactionStatusText = styled.div`\r\n  margin-right: 0.5rem;\r\n  display: flex;\r\n  align-items: center;\r\n  :hover {\r\n    text-decoration: underline;\r\n  }\r\n`\r\n\r\nconst TransactionState = styled(ExternalLink)<{ pending: boolean; success?: boolean }>`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  text-decoration: none !important;\r\n  border-radius: 0.5rem;\r\n  padding: 0.25rem 0rem;\r\n  font-weight: 500;\r\n  font-size: 0.825rem;\r\n  color: ${({ theme }) => theme.primary1};\r\n`\r\n\r\nconst IconWrapper = styled.div<{ pending: boolean; success?: boolean }>`\r\n  color: ${({ pending, success, theme }) => (pending ? theme.primary1 : success ? theme.green1 : theme.red1)};\r\n`\r\n\r\nexport default function Transaction({ hash }: { hash: string }) {\r\n  const { chainId } = useActiveWeb3React()\r\n  const allTransactions = useAllTransactions()\r\n\r\n  const tx = allTransactions?.[hash]\r\n  const summary = tx?.summary\r\n  const pending = !tx?.receipt\r\n  const success = !pending && tx && (tx.receipt?.status === 1 || typeof tx.receipt?.status === 'undefined')\r\n\r\n  if (!chainId) return null\r\n\r\n  return (\r\n    <TransactionWrapper>\r\n      <TransactionState href={getEtherscanLink(chainId, hash, 'transaction')} pending={pending} success={success}>\r\n        <RowFixed>\r\n          <TransactionStatusText>{summary ?? hash} â†—</TransactionStatusText>\r\n        </RowFixed>\r\n        <IconWrapper pending={pending} success={success}>\r\n          {pending ? <Loader /> : success ? <CheckCircle size=\"16\" /> : <Triangle size=\"16\" />}\r\n        </IconWrapper>\r\n      </TransactionState>\r\n    </TransactionWrapper>\r\n  )\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 18,\n  y1: 6,\n  x2: 6,\n  y2: 18\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 6,\n  y1: 6,\n  x2: 18,\n  y2: 18\n});\n\nvar SvgX = function SvgX(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-x\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgX, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/x.5b8e2186.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useCallback, useContext } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport styled, { ThemeContext } from 'styled-components'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { AppDispatch } from '../../state'\r\nimport { clearAllTransactions } from '../../state/transactions/actions'\r\nimport { shortenAddress } from '../../utils'\r\nimport { AutoRow } from '../Row'\r\nimport Copy from './Copy'\r\nimport Transaction from './Transaction'\r\n\r\nimport { SUPPORTED_WALLETS } from '../../constants'\r\nimport { ReactComponent as Close } from '../../assets/images/x.svg'\r\nimport { getEtherscanLink } from '../../utils'\r\nimport { injected, walletconnect, walletlink, fortmatic, portis } from '../../connectors'\r\nimport CoinbaseWalletIcon from '../../assets/images/coinbaseWalletIcon.svg'\r\nimport WalletConnectIcon from '../../assets/images/walletConnectIcon.svg'\r\nimport FortmaticIcon from '../../assets/images/fortmaticIcon.png'\r\nimport PortisIcon from '../../assets/images/portisIcon.png'\r\nimport Identicon from '../Identicon'\r\nimport { ButtonSecondary } from '../Button'\r\nimport { ExternalLink as LinkIcon } from 'react-feather'\r\nimport { ExternalLink, LinkStyledButton, TYPE } from '../../theme'\r\n\r\nconst HeaderRow = styled.div`\r\n  ${({ theme }) => theme.flexRowNoWrap};\r\n  padding: 1rem 1rem;\r\n  font-weight: 500;\r\n  color: ${props => (props.color === 'blue' ? ({ theme }) => theme.primary1 : 'inherit')};\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    padding: 1rem;\r\n  `};\r\n`\r\n\r\nconst UpperSection = styled.div`\r\n  position: relative;\r\n\r\n  h5 {\r\n    margin: 0;\r\n    margin-bottom: 0.5rem;\r\n    font-size: 1rem;\r\n    font-weight: 400;\r\n  }\r\n\r\n  h5:last-child {\r\n    margin-bottom: 0px;\r\n  }\r\n\r\n  h4 {\r\n    margin-top: 0;\r\n    font-weight: 500;\r\n  }\r\n`\r\n\r\nconst InfoCard = styled.div`\r\n  padding: 1rem;\r\n  border: 1px solid ${({ theme }) => theme.bg3};\r\n  border-radius: 20px;\r\n  position: relative;\r\n  display: grid;\r\n  grid-row-gap: 12px;\r\n  margin-bottom: 20px;\r\n`\r\n\r\nconst AccountGroupingRow = styled.div`\r\n  ${({ theme }) => theme.flexRowNoWrap};\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-weight: 400;\r\n  color: ${({ theme }) => theme.text1};\r\n\r\n  div {\r\n    ${({ theme }) => theme.flexRowNoWrap}\r\n    align-items: center;\r\n  }\r\n`\r\n\r\nconst AccountSection = styled.div`\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  padding: 0rem 1rem;\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`padding: 0rem 1rem 1.5rem 1rem;`};\r\n`\r\n\r\nconst YourAccount = styled.div`\r\n  h5 {\r\n    margin: 0 0 1rem 0;\r\n    font-weight: 400;\r\n  }\r\n\r\n  h4 {\r\n    margin: 0;\r\n    font-weight: 500;\r\n  }\r\n`\r\n\r\nconst LowerSection = styled.div`\r\n  ${({ theme }) => theme.flexColumnNoWrap}\r\n  padding: 1.5rem;\r\n  flex-grow: 1;\r\n  overflow: auto;\r\n  background-color: ${({ theme }) => theme.bg2};\r\n  border-bottom-left-radius: 25px;\r\n  border-bottom-right-radius: 20px;\r\n\r\n  h5 {\r\n    margin: 0;\r\n    font-weight: 400;\r\n    color: ${({ theme }) => theme.text3};\r\n  }\r\n`\r\n\r\nconst AccountControl = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  min-width: 0;\r\n  width: 100%;\r\n\r\n  font-weight: 500;\r\n  font-size: 1.25rem;\r\n\r\n  a:hover {\r\n    text-decoration: underline;\r\n  }\r\n\r\n  p {\r\n    min-width: 0;\r\n    margin: 0;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n  }\r\n`\r\n\r\nconst AddressLink = styled(ExternalLink)<{ hasENS: boolean; isENS: boolean }>`\r\n  font-size: 0.825rem;\r\n  color: ${({ theme }) => theme.text3};\r\n  margin-left: 1rem;\r\n  font-size: 0.825rem;\r\n  display: flex;\r\n  :hover {\r\n    color: ${({ theme }) => theme.text2};\r\n  }\r\n`\r\n\r\nconst CloseIcon = styled.div`\r\n  position: absolute;\r\n  right: 1rem;\r\n  top: 14px;\r\n  &:hover {\r\n    cursor: pointer;\r\n    opacity: 0.6;\r\n  }\r\n`\r\n\r\nconst CloseColor = styled(Close)`\r\n  path {\r\n    stroke: ${({ theme }) => theme.text4};\r\n  }\r\n`\r\n\r\nconst WalletName = styled.div`\r\n  width: initial;\r\n  font-size: 0.825rem;\r\n  font-weight: 500;\r\n  color: ${({ theme }) => theme.text3};\r\n`\r\n\r\nconst IconWrapper = styled.div<{ size?: number }>`\r\n  ${({ theme }) => theme.flexColumnNoWrap};\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-right: 8px;\r\n  & > img,\r\n  span {\r\n    height: ${({ size }) => (size ? size + 'px' : '32px')};\r\n    width: ${({ size }) => (size ? size + 'px' : '32px')};\r\n  }\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    align-items: flex-end;\r\n  `};\r\n`\r\n\r\nconst TransactionListWrapper = styled.div`\r\n  ${({ theme }) => theme.flexColumnNoWrap};\r\n`\r\n\r\nconst WalletAction = styled(ButtonSecondary)`\r\n  width: fit-content;\r\n  font-weight: 400;\r\n  margin-left: 8px;\r\n  font-size: 0.825rem;\r\n  padding: 4px 6px;\r\n  :hover {\r\n    cursor: pointer;\r\n    text-decoration: underline;\r\n  }\r\n`\r\n\r\nconst MainWalletAction = styled(WalletAction)`\r\n  color: ${({ theme }) => theme.primary1};\r\n`\r\n\r\nfunction renderTransactions(transactions: string[]) {\r\n  return (\r\n    <TransactionListWrapper>\r\n      {transactions.map((hash, i) => {\r\n        return <Transaction key={i} hash={hash} />\r\n      })}\r\n    </TransactionListWrapper>\r\n  )\r\n}\r\n\r\ninterface AccountDetailsProps {\r\n  toggleWalletModal: () => void\r\n  pendingTransactions: string[]\r\n  confirmedTransactions: string[]\r\n  ENSName?: string\r\n  openOptions: () => void\r\n}\r\n\r\nexport default function AccountDetails({\r\n  toggleWalletModal,\r\n  pendingTransactions,\r\n  confirmedTransactions,\r\n  ENSName,\r\n  openOptions\r\n}: AccountDetailsProps) {\r\n  const { chainId, account, connector } = useActiveWeb3React()\r\n  const theme = useContext(ThemeContext)\r\n  const dispatch = useDispatch<AppDispatch>()\r\n\r\n  function formatConnectorName() {\r\n    const { ethereum } = window\r\n    const isMetaMask = !!(ethereum && ethereum.isMetaMask)\r\n    const name = Object.keys(SUPPORTED_WALLETS)\r\n      .filter(\r\n        k =>\r\n          SUPPORTED_WALLETS[k].connector === connector && (connector !== injected || isMetaMask === (k === 'METAMASK'))\r\n      )\r\n      .map(k => SUPPORTED_WALLETS[k].name)[0]\r\n    return <WalletName>Connected with {name}</WalletName>\r\n  }\r\n\r\n  function getStatusIcon() {\r\n    if (connector === injected) {\r\n      return (\r\n        <IconWrapper size={16}>\r\n          <Identicon />\r\n        </IconWrapper>\r\n      )\r\n    } else if (connector === walletconnect) {\r\n      return (\r\n        <IconWrapper size={16}>\r\n          <img src={WalletConnectIcon} alt={'wallet connect logo'} />\r\n        </IconWrapper>\r\n      )\r\n    } else if (connector === walletlink) {\r\n      return (\r\n        <IconWrapper size={16}>\r\n          <img src={CoinbaseWalletIcon} alt={'coinbase wallet logo'} />\r\n        </IconWrapper>\r\n      )\r\n    } else if (connector === fortmatic) {\r\n      return (\r\n        <IconWrapper size={16}>\r\n          <img src={FortmaticIcon} alt={'fortmatic logo'} />\r\n        </IconWrapper>\r\n      )\r\n    } else if (connector === portis) {\r\n      return (\r\n        <>\r\n          <IconWrapper size={16}>\r\n            <img src={PortisIcon} alt={'portis logo'} />\r\n            <MainWalletAction\r\n              onClick={() => {\r\n                portis.portis.showPortis()\r\n              }}\r\n            >\r\n              Show Portis\r\n            </MainWalletAction>\r\n          </IconWrapper>\r\n        </>\r\n      )\r\n    }\r\n    return null\r\n  }\r\n\r\n  const clearAllTransactionsCallback = useCallback(() => {\r\n    if (chainId) dispatch(clearAllTransactions({ chainId }))\r\n  }, [dispatch, chainId])\r\n\r\n  return (\r\n    <>\r\n      <UpperSection>\r\n        <CloseIcon onClick={toggleWalletModal}>\r\n          <CloseColor />\r\n        </CloseIcon>\r\n        <HeaderRow>Account</HeaderRow>\r\n        <AccountSection>\r\n          <YourAccount>\r\n            <InfoCard>\r\n              <AccountGroupingRow>\r\n                {formatConnectorName()}\r\n                <div>\r\n                  {connector !== injected && connector !== walletlink && (\r\n                    <WalletAction\r\n                      style={{ fontSize: '.825rem', fontWeight: 400, marginRight: '8px' }}\r\n                      onClick={() => {\r\n                        ;(connector as any).close()\r\n                      }}\r\n                    >\r\n                      Disconnect\r\n                    </WalletAction>\r\n                  )}\r\n                  <WalletAction\r\n                    style={{ fontSize: '.825rem', fontWeight: 400 }}\r\n                    onClick={() => {\r\n                      openOptions()\r\n                    }}\r\n                  >\r\n                    Change\r\n                  </WalletAction>\r\n                </div>\r\n              </AccountGroupingRow>\r\n              <AccountGroupingRow id=\"web3-account-identifier-row\">\r\n                <AccountControl>\r\n                  {ENSName ? (\r\n                    <>\r\n                      <div>\r\n                        {getStatusIcon()}\r\n                        <p> {ENSName}</p>\r\n                      </div>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <div>\r\n                        {getStatusIcon()}\r\n                        <p> {account && shortenAddress(account)}</p>\r\n                      </div>\r\n                    </>\r\n                  )}\r\n                </AccountControl>\r\n              </AccountGroupingRow>\r\n              <AccountGroupingRow>\r\n                {ENSName ? (\r\n                  <>\r\n                    <AccountControl>\r\n                      <div>\r\n                        {account && (\r\n                          <Copy toCopy={account}>\r\n                            <span style={{ marginLeft: '4px' }}>Copy Address</span>\r\n                          </Copy>\r\n                        )}\r\n                        {chainId && account && (\r\n                          <AddressLink\r\n                            hasENS={!!ENSName}\r\n                            isENS={true}\r\n                            href={chainId && getEtherscanLink(chainId, ENSName, 'address')}\r\n                          >\r\n                            <LinkIcon size={16} />\r\n                            <span style={{ marginLeft: '4px' }}>View on Etherscan</span>\r\n                          </AddressLink>\r\n                        )}\r\n                      </div>\r\n                    </AccountControl>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <AccountControl>\r\n                      <div>\r\n                        {account && (\r\n                          <Copy toCopy={account}>\r\n                            <span style={{ marginLeft: '4px' }}>Copy Address</span>\r\n                          </Copy>\r\n                        )}\r\n                        {chainId && account && (\r\n                          <AddressLink\r\n                            hasENS={!!ENSName}\r\n                            isENS={false}\r\n                            href={getEtherscanLink(chainId, account, 'address')}\r\n                          >\r\n                            <LinkIcon size={16} />\r\n                            <span style={{ marginLeft: '4px' }}>View on Etherscan</span>\r\n                          </AddressLink>\r\n                        )}\r\n                      </div>\r\n                    </AccountControl>\r\n                  </>\r\n                )}\r\n              </AccountGroupingRow>\r\n            </InfoCard>\r\n          </YourAccount>\r\n        </AccountSection>\r\n      </UpperSection>\r\n      {!!pendingTransactions.length || !!confirmedTransactions.length ? (\r\n        <LowerSection>\r\n          <AutoRow mb={'1rem'} style={{ justifyContent: 'space-between' }}>\r\n            <TYPE.body>Recent Transactions</TYPE.body>\r\n            <LinkStyledButton onClick={clearAllTransactionsCallback}>(clear all)</LinkStyledButton>\r\n          </AutoRow>\r\n          {renderTransactions(pendingTransactions)}\r\n          {renderTransactions(confirmedTransactions)}\r\n        </LowerSection>\r\n      ) : (\r\n        <LowerSection>\r\n          <TYPE.body color={theme.text1}>Your transactions will appear here...</TYPE.body>\r\n        </LowerSection>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { ExternalLink } from '../../theme'\r\n\r\nconst InfoCard = styled.button<{ active?: boolean }>`\r\n  background-color: ${({ theme, active }) => (active ? theme.bg3 : theme.bg2)};\r\n  padding: 1rem;\r\n  outline: none;\r\n  border: 1px solid;\r\n  border-radius: 12px;\r\n  width: 100% !important;\r\n  &:focus {\r\n    box-shadow: 0 0 0 1px ${({ theme }) => theme.primary1};\r\n  }\r\n  border-color: ${({ theme, active }) => (active ? 'transparent' : theme.bg3)};\r\n`\r\n\r\nconst OptionCard = styled(InfoCard as any)`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-top: 2rem;\r\n  padding: 1rem;\r\n`\r\n\r\nconst OptionCardLeft = styled.div`\r\n  ${({ theme }) => theme.flexColumnNoWrap};\r\n  justify-content: center;\r\n  height: 100%;\r\n`\r\n\r\nconst OptionCardClickable = styled(OptionCard as any)<{ clickable?: boolean }>`\r\n  margin-top: 0;\r\n  &:hover {\r\n    cursor: ${({ clickable }) => (clickable ? 'pointer' : '')};\r\n    border: ${({ clickable, theme }) => (clickable ? `1px solid ${theme.primary1}` : ``)};\r\n  }\r\n  opacity: ${({ disabled }) => (disabled ? '0.5' : '1')};\r\n`\r\n\r\nconst GreenCircle = styled.div`\r\n  ${({ theme }) => theme.flexRowNoWrap}\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  &:first-child {\r\n    height: 8px;\r\n    width: 8px;\r\n    margin-right: 8px;\r\n    background-color: ${({ theme }) => theme.green1};\r\n    border-radius: 50%;\r\n  }\r\n`\r\n\r\nconst CircleWrapper = styled.div`\r\n  color: ${({ theme }) => theme.green1};\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst HeaderText = styled.div`\r\n  ${({ theme }) => theme.flexRowNoWrap};\r\n  color: ${props => (props.color === 'blue' ? ({ theme }) => theme.primary1 : ({ theme }) => theme.text1)};\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n`\r\n\r\nconst SubHeader = styled.div`\r\n  color: ${({ theme }) => theme.text1};\r\n  margin-top: 10px;\r\n  font-size: 12px;\r\n`\r\n\r\nconst IconWrapper = styled.div<{ size?: number | null }>`\r\n  ${({ theme }) => theme.flexColumnNoWrap};\r\n  align-items: center;\r\n  justify-content: center;\r\n  & > img,\r\n  span {\r\n    height: ${({ size }) => (size ? size + 'px' : '24px')};\r\n    width: ${({ size }) => (size ? size + 'px' : '24px')};\r\n  }\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    align-items: flex-end;\r\n  `};\r\n`\r\n\r\nexport default function Option({\r\n  link = null,\r\n  clickable = true,\r\n  size,\r\n  onClick = null,\r\n  color,\r\n  header,\r\n  subheader = null,\r\n  icon,\r\n  active = false,\r\n  id\r\n}: {\r\n  link?: string | null\r\n  clickable?: boolean\r\n  size?: number | null\r\n  onClick?: null | (() => void)\r\n  color: string\r\n  header: React.ReactNode\r\n  subheader: React.ReactNode | null\r\n  icon: string\r\n  active?: boolean\r\n  id: string\r\n}) {\r\n  const content = (\r\n    <OptionCardClickable id={id} onClick={onClick} clickable={clickable && !active} active={active}>\r\n      <OptionCardLeft>\r\n        <HeaderText color={color}>\r\n          {active ? (\r\n            <CircleWrapper>\r\n              <GreenCircle>\r\n                <div />\r\n              </GreenCircle>\r\n            </CircleWrapper>\r\n          ) : (\r\n            ''\r\n          )}\r\n          {header}\r\n        </HeaderText>\r\n        {subheader && <SubHeader>{subheader}</SubHeader>}\r\n      </OptionCardLeft>\r\n      <IconWrapper size={size}>\r\n        <img src={icon} alt={'Icon'} />\r\n      </IconWrapper>\r\n    </OptionCardClickable>\r\n  )\r\n  if (link) {\r\n    return <ExternalLink href={link}>{content}</ExternalLink>\r\n  }\r\n\r\n  return content\r\n}\r\n","import { AbstractConnector } from '@web3-react/abstract-connector'\r\nimport React from 'react'\r\nimport styled from 'styled-components'\r\nimport Option from './Option'\r\nimport { SUPPORTED_WALLETS } from '../../constants'\r\nimport { injected } from '../../connectors'\r\nimport { darken } from 'polished'\r\nimport Loader from '../Loader'\r\n\r\nconst PendingSection = styled.div`\r\n  ${({ theme }) => theme.flexColumnNoWrap};\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  & > * {\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst StyledLoader = styled(Loader)`\r\n  margin-right: 1rem;\r\n`\r\n\r\nconst LoadingMessage = styled.div<{ error?: boolean }>`\r\n  ${({ theme }) => theme.flexRowNoWrap};\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  border-radius: 12px;\r\n  margin-bottom: 20px;\r\n  color: ${({ theme, error }) => (error ? theme.red1 : 'inherit')};\r\n  border: 1px solid ${({ theme, error }) => (error ? theme.red1 : theme.text4)};\r\n\r\n  & > * {\r\n    padding: 1rem;\r\n  }\r\n`\r\n\r\nconst ErrorGroup = styled.div`\r\n  ${({ theme }) => theme.flexRowNoWrap};\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n`\r\n\r\nconst ErrorButton = styled.div`\r\n  border-radius: 8px;\r\n  font-size: 12px;\r\n  color: ${({ theme }) => theme.text1};\r\n  background-color: ${({ theme }) => theme.bg4};\r\n  margin-left: 1rem;\r\n  padding: 0.5rem;\r\n  font-weight: 600;\r\n  user-select: none;\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n    background-color: ${({ theme }) => darken(0.1, theme.text4)};\r\n  }\r\n`\r\n\r\nconst LoadingWrapper = styled.div`\r\n  ${({ theme }) => theme.flexRowNoWrap};\r\n  align-items: center;\r\n  justify-content: center;\r\n`\r\n\r\nexport default function PendingView({\r\n  connector,\r\n  error = false,\r\n  setPendingError,\r\n  tryActivation\r\n}: {\r\n  connector?: AbstractConnector\r\n  error?: boolean\r\n  setPendingError: (error: boolean) => void\r\n  tryActivation: (connector: AbstractConnector) => void\r\n}) {\r\n  const isMetamask = window?.ethereum?.isMetaMask\r\n\r\n  return (\r\n    <PendingSection>\r\n      <LoadingMessage error={error}>\r\n        <LoadingWrapper>\r\n          {error ? (\r\n            <ErrorGroup>\r\n              <div>Error connecting.</div>\r\n              <ErrorButton\r\n                onClick={() => {\r\n                  setPendingError(false)\r\n                  connector && tryActivation(connector)\r\n                }}\r\n              >\r\n                Try Again\r\n              </ErrorButton>\r\n            </ErrorGroup>\r\n          ) : (\r\n            <>\r\n              <StyledLoader />\r\n              Initializing...\r\n            </>\r\n          )}\r\n        </LoadingWrapper>\r\n      </LoadingMessage>\r\n      {Object.keys(SUPPORTED_WALLETS).map(key => {\r\n        const option = SUPPORTED_WALLETS[key]\r\n        if (option.connector === connector) {\r\n          if (option.connector === injected) {\r\n            if (isMetamask && option.name !== 'MetaMask') {\r\n              return null\r\n            }\r\n            if (!isMetamask && option.name === 'MetaMask') {\r\n              return null\r\n            }\r\n          }\r\n          return (\r\n            <Option\r\n              id={`connect-${key}`}\r\n              key={key}\r\n              clickable={false}\r\n              color={option.color}\r\n              header={option.name}\r\n              subheader={option.description}\r\n              icon={require('../../assets/images/' + option.iconName)}\r\n            />\r\n          )\r\n        }\r\n        return null\r\n      })}\r\n    </PendingSection>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport ReactGA from 'react-ga'\r\nimport styled from 'styled-components'\r\nimport { isMobile } from 'react-device-detect'\r\nimport { UnsupportedChainIdError, useWeb3React } from '@web3-react/core'\r\nimport usePrevious from '../../hooks/usePrevious'\r\nimport { useWalletModalOpen, useWalletModalToggle } from '../../state/application/hooks'\r\n\r\nimport Modal from '../Modal'\r\nimport AccountDetails from '../AccountDetails'\r\nimport PendingView from './PendingView'\r\nimport Option from './Option'\r\nimport { SUPPORTED_WALLETS } from '../../constants'\r\nimport { ExternalLink } from '../../theme'\r\nimport MetamaskIcon from '../../assets/images/metamask.png'\r\nimport { ReactComponent as Close } from '../../assets/images/x.svg'\r\nimport { injected, fortmatic, portis } from '../../connectors'\r\nimport { OVERLAY_READY } from '../../connectors/Fortmatic'\r\nimport { WalletConnectConnector } from '@web3-react/walletconnect-connector'\r\nimport { AbstractConnector } from '@web3-react/abstract-connector'\r\n\r\nconst CloseIcon = styled.div`\r\n  position: absolute;\r\n  right: 1rem;\r\n  top: 14px;\r\n  &:hover {\r\n    cursor: pointer;\r\n    opacity: 0.6;\r\n  }\r\n`\r\n\r\nconst CloseColor = styled(Close)`\r\n  path {\r\n    stroke: ${({ theme }) => theme.text4};\r\n  }\r\n`\r\n\r\nconst Wrapper = styled.div`\r\n  ${({ theme }) => theme.flexColumnNoWrap}\r\n  margin: 0;\r\n  padding: 0;\r\n  width: 100%;\r\n`\r\n\r\nconst HeaderRow = styled.div`\r\n  ${({ theme }) => theme.flexRowNoWrap};\r\n  padding: 1rem 1rem;\r\n  font-weight: 500;\r\n  color: ${props => (props.color === 'blue' ? ({ theme }) => theme.primary1 : 'inherit')};\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    padding: 1rem;\r\n  `};\r\n`\r\n\r\nconst ContentWrapper = styled.div`\r\n  background-color: ${({ theme }) => theme.bg2};\r\n  padding: 2rem;\r\n  border-bottom-left-radius: 20px;\r\n  border-bottom-right-radius: 20px;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`padding: 1rem`};\r\n`\r\n\r\nconst UpperSection = styled.div`\r\n  position: relative;\r\n\r\n  h5 {\r\n    margin: 0;\r\n    margin-bottom: 0.5rem;\r\n    font-size: 1rem;\r\n    font-weight: 400;\r\n  }\r\n\r\n  h5:last-child {\r\n    margin-bottom: 0px;\r\n  }\r\n\r\n  h4 {\r\n    margin-top: 0;\r\n    font-weight: 500;\r\n  }\r\n`\r\n\r\nconst Blurb = styled.div`\r\n  ${({ theme }) => theme.flexRowNoWrap}\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n  margin-top: 2rem;\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    margin: 1rem;\r\n    font-size: 12px;\r\n  `};\r\n`\r\n\r\nconst OptionGrid = styled.div`\r\n  display: grid;\r\n  grid-gap: 10px;\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    grid-template-columns: 1fr;\r\n    grid-gap: 10px;\r\n  `};\r\n`\r\n\r\nconst HoverText = styled.div`\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nconst WALLET_VIEWS = {\r\n  OPTIONS: 'options',\r\n  OPTIONS_SECONDARY: 'options_secondary',\r\n  ACCOUNT: 'account',\r\n  PENDING: 'pending'\r\n}\r\n\r\nexport default function WalletModal({\r\n  pendingTransactions,\r\n  confirmedTransactions,\r\n  ENSName\r\n}: {\r\n  pendingTransactions: string[] // hashes of pending\r\n  confirmedTransactions: string[] // hashes of confirmed\r\n  ENSName?: string\r\n}) {\r\n  // important that these are destructed from the account-specific web3-react context\r\n  const { active, account, connector, activate, error } = useWeb3React()\r\n\r\n  const [walletView, setWalletView] = useState(WALLET_VIEWS.ACCOUNT)\r\n\r\n  const [pendingWallet, setPendingWallet] = useState<AbstractConnector | undefined>()\r\n\r\n  const [pendingError, setPendingError] = useState<boolean>()\r\n\r\n  const walletModalOpen = useWalletModalOpen()\r\n  const toggleWalletModal = useWalletModalToggle()\r\n\r\n  const previousAccount = usePrevious(account)\r\n\r\n  // close on connection, when logged out before\r\n  useEffect(() => {\r\n    if (account && !previousAccount && walletModalOpen) {\r\n      toggleWalletModal()\r\n    }\r\n  }, [account, previousAccount, toggleWalletModal, walletModalOpen])\r\n\r\n  // always reset to account view\r\n  useEffect(() => {\r\n    if (walletModalOpen) {\r\n      setPendingError(false)\r\n      setWalletView(WALLET_VIEWS.ACCOUNT)\r\n    }\r\n  }, [walletModalOpen])\r\n\r\n  // close modal when a connection is successful\r\n  const activePrevious = usePrevious(active)\r\n  const connectorPrevious = usePrevious(connector)\r\n  useEffect(() => {\r\n    if (walletModalOpen && ((active && !activePrevious) || (connector && connector !== connectorPrevious && !error))) {\r\n      setWalletView(WALLET_VIEWS.ACCOUNT)\r\n    }\r\n  }, [setWalletView, active, error, connector, walletModalOpen, activePrevious, connectorPrevious])\r\n\r\n  const tryActivation = async (connector: AbstractConnector | undefined) => {\r\n    let name = ''\r\n    Object.keys(SUPPORTED_WALLETS).map(key => {\r\n      if (connector === SUPPORTED_WALLETS[key].connector) {\r\n        return (name = SUPPORTED_WALLETS[key].name)\r\n      }\r\n      return true\r\n    })\r\n    // log selected wallet\r\n    ReactGA.event({\r\n      category: 'Wallet',\r\n      action: 'Change Wallet',\r\n      label: name\r\n    })\r\n\r\n    setPendingWallet(connector) // set wallet for pending view\r\n    setWalletView(WALLET_VIEWS.PENDING)\r\n\r\n    // if the connector is walletconnect and the user has already tried to connect, manually reset the connector\r\n    if (connector instanceof WalletConnectConnector && connector.walletConnectProvider?.wc?.uri) {\r\n      connector.walletConnectProvider = undefined\r\n    }\r\n\r\n    connector &&\r\n      activate(connector, undefined, true).catch(error => {\r\n        if (error instanceof UnsupportedChainIdError) {\r\n          activate(connector) // a little janky...can't use setError because the connector isn't set\r\n        } else {\r\n          setPendingError(true)\r\n        }\r\n      })\r\n  }\r\n\r\n  // close wallet modal if fortmatic modal is active\r\n  useEffect(() => {\r\n    fortmatic.on(OVERLAY_READY, () => {\r\n      toggleWalletModal()\r\n    })\r\n  }, [toggleWalletModal])\r\n\r\n  // get wallets user can switch too, depending on device/browser\r\n  function getOptions() {\r\n    const isMetamask = window.ethereum && window.ethereum.isMetaMask\r\n    return Object.keys(SUPPORTED_WALLETS).map(key => {\r\n      const option = SUPPORTED_WALLETS[key]\r\n      // check for mobile options\r\n      if (isMobile) {\r\n        //disable portis on mobile for now\r\n        if (option.connector === portis) {\r\n          return null\r\n        }\r\n\r\n        if (!window.web3 && !window.ethereum && option.mobile) {\r\n          return (\r\n            <Option\r\n              onClick={() => {\r\n                option.connector !== connector && !option.href && tryActivation(option.connector)\r\n              }}\r\n              id={`connect-${key}`}\r\n              key={key}\r\n              active={option.connector && option.connector === connector}\r\n              color={option.color}\r\n              link={option.href}\r\n              header={option.name}\r\n              subheader={null}\r\n              icon={require('../../assets/images/' + option.iconName)}\r\n            />\r\n          )\r\n        }\r\n        return null\r\n      }\r\n\r\n      // overwrite injected when needed\r\n      if (option.connector === injected) {\r\n        // don't show injected if there's no injected provider\r\n        if (!(window.web3 || window.ethereum)) {\r\n          if (option.name === 'MetaMask') {\r\n            return (\r\n              <Option\r\n                id={`connect-${key}`}\r\n                key={key}\r\n                color={'#E8831D'}\r\n                header={'Install Metamask'}\r\n                subheader={null}\r\n                link={'https://metamask.io/'}\r\n                icon={MetamaskIcon}\r\n              />\r\n            )\r\n          } else {\r\n            return null //dont want to return install twice\r\n          }\r\n        }\r\n        // don't return metamask if injected provider isn't metamask\r\n        else if (option.name === 'MetaMask' && !isMetamask) {\r\n          return null\r\n        }\r\n        // likewise for generic\r\n        else if (option.name === 'Injected' && isMetamask) {\r\n          return null\r\n        }\r\n      }\r\n\r\n      // return rest of options\r\n      return (\r\n        !isMobile &&\r\n        !option.mobileOnly && (\r\n          <Option\r\n            id={`connect-${key}`}\r\n            onClick={() => {\r\n              option.connector === connector\r\n                ? setWalletView(WALLET_VIEWS.ACCOUNT)\r\n                : !option.href && tryActivation(option.connector)\r\n            }}\r\n            key={key}\r\n            active={option.connector === connector}\r\n            color={option.color}\r\n            link={option.href}\r\n            header={option.name}\r\n            subheader={null} //use option.descriptio to bring back multi-line\r\n            icon={require('../../assets/images/' + option.iconName)}\r\n          />\r\n        )\r\n      )\r\n    })\r\n  }\r\n\r\n  function getModalContent() {\r\n    if (error) {\r\n      return (\r\n        <UpperSection>\r\n          <CloseIcon onClick={toggleWalletModal}>\r\n            <CloseColor />\r\n          </CloseIcon>\r\n          <HeaderRow>{error instanceof UnsupportedChainIdError ? 'Wrong Network' : 'Error connecting'}</HeaderRow>\r\n          <ContentWrapper>\r\n            {error instanceof UnsupportedChainIdError ? (\r\n              <h5>Please connect to the appropriate Ethereum network.</h5>\r\n            ) : (\r\n              'Error connecting. Try refreshing the page.'\r\n            )}\r\n          </ContentWrapper>\r\n        </UpperSection>\r\n      )\r\n    }\r\n    if (account && walletView === WALLET_VIEWS.ACCOUNT) {\r\n      return (\r\n        <AccountDetails\r\n          toggleWalletModal={toggleWalletModal}\r\n          pendingTransactions={pendingTransactions}\r\n          confirmedTransactions={confirmedTransactions}\r\n          ENSName={ENSName}\r\n          openOptions={() => setWalletView(WALLET_VIEWS.OPTIONS)}\r\n        />\r\n      )\r\n    }\r\n    return (\r\n      <UpperSection>\r\n        <CloseIcon onClick={toggleWalletModal}>\r\n          <CloseColor />\r\n        </CloseIcon>\r\n        {walletView !== WALLET_VIEWS.ACCOUNT ? (\r\n          <HeaderRow color=\"blue\">\r\n            <HoverText\r\n              onClick={() => {\r\n                setPendingError(false)\r\n                setWalletView(WALLET_VIEWS.ACCOUNT)\r\n              }}\r\n            >\r\n              Back\r\n            </HoverText>\r\n          </HeaderRow>\r\n        ) : (\r\n          <HeaderRow>\r\n            <HoverText>Connect to a wallet</HoverText>\r\n          </HeaderRow>\r\n        )}\r\n        <ContentWrapper>\r\n          {walletView === WALLET_VIEWS.PENDING ? (\r\n            <PendingView\r\n              connector={pendingWallet}\r\n              error={pendingError}\r\n              setPendingError={setPendingError}\r\n              tryActivation={tryActivation}\r\n            />\r\n          ) : (\r\n            <OptionGrid>{getOptions()}</OptionGrid>\r\n          )}\r\n          {walletView !== WALLET_VIEWS.PENDING && (\r\n            <Blurb>\r\n              <span>New to Ethereum? &nbsp;</span>{' '}\r\n              <ExternalLink href=\"https://ethereum.org/wallets/\">Learn more about wallets</ExternalLink>\r\n            </Blurb>\r\n          )}\r\n        </ContentWrapper>\r\n      </UpperSection>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Modal isOpen={walletModalOpen} onDismiss={toggleWalletModal} minHeight={false} maxHeight={90}>\r\n      <Wrapper>{getModalContent()}</Wrapper>\r\n    </Modal>\r\n  )\r\n}\r\n","import { AbstractConnector } from '@web3-react/abstract-connector'\r\nimport { UnsupportedChainIdError, useWeb3React } from '@web3-react/core'\r\nimport { darken, lighten } from 'polished'\r\nimport React, { useMemo } from 'react'\r\nimport { Activity } from 'react-feather'\r\nimport { useTranslation } from 'react-i18next'\r\nimport styled, { css } from 'styled-components'\r\nimport CoinbaseWalletIcon from '../../assets/images/coinbaseWalletIcon.svg'\r\nimport FortmaticIcon from '../../assets/images/fortmaticIcon.png'\r\nimport PortisIcon from '../../assets/images/portisIcon.png'\r\nimport WalletConnectIcon from '../../assets/images/walletConnectIcon.svg'\r\nimport { fortmatic, injected, portis, walletconnect, walletlink } from '../../connectors'\r\nimport { NetworkContextName } from '../../constants'\r\nimport useENSName from '../../hooks/useENSName'\r\nimport { useHasSocks } from '../../hooks/useSocksBalance'\r\nimport { useWalletModalToggle } from '../../state/application/hooks'\r\nimport { isTransactionRecent, useAllTransactions } from '../../state/transactions/hooks'\r\nimport { TransactionDetails } from '../../state/transactions/reducer'\r\nimport { shortenAddress } from '../../utils'\r\nimport { ButtonSecondary } from '../Button'\r\n\r\nimport Identicon from '../Identicon'\r\nimport Loader from '../Loader'\r\n\r\nimport { RowBetween } from '../Row'\r\nimport WalletModal from '../WalletModal'\r\n\r\nconst IconWrapper = styled.div<{ size?: number }>`\r\n  ${({ theme }) => theme.flexColumnNoWrap};\r\n  align-items: center;\r\n  justify-content: center;\r\n  & > * {\r\n    height: ${({ size }) => (size ? size + 'px' : '32px')};\r\n    width: ${({ size }) => (size ? size + 'px' : '32px')};\r\n  }\r\n`\r\n\r\nconst Web3StatusGeneric = styled(ButtonSecondary)`\r\n  ${({ theme }) => theme.flexRowNoWrap}\r\n  width: 100%;\r\n  align-items: center;\r\n  height: 2.5rem;\r\n  padding: 0.5rem 1rem;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  :focus {\r\n    outline: none;\r\n  }\r\n`\r\nconst Web3StatusError = styled(Web3StatusGeneric)`\r\n  background-color: ${({ theme }) => theme.red1};\r\n  border: 1px solid ${({ theme }) => theme.red1};\r\n  color: ${({ theme }) => theme.white};\r\n  font-weight: 500;\r\n  :hover,\r\n  :focus {\r\n    background-color: ${({ theme }) => darken(0.1, theme.red1)};\r\n  }\r\n`\r\n\r\nconst Web3StatusConnect = styled(Web3StatusGeneric)<{ faded?: boolean }>`\r\n  background-color: ${({ theme }) => theme.primary4};\r\n  border: none;\r\n  color: ${({ theme }) => theme.primaryText1};\r\n  font-weight: 500;\r\n\r\n  :hover,\r\n  :focus {\r\n    border: 1px solid ${({ theme }) => darken(0.05, theme.primary4)};\r\n    color: ${({ theme }) => theme.primaryText1};\r\n  }\r\n\r\n  ${({ faded }) =>\r\n    faded &&\r\n    css`\r\n      background-color: transparent;\r\n      border: 1px solid ${({ theme }) => theme.primary1};\r\n      color: ${({ theme }) => theme.primaryText1};\r\n\r\n      :hover,\r\n      :focus {\r\n        border: 1px solid ${({ theme }) => darken(0.05, theme.primary4)};\r\n        color: ${({ theme }) => darken(0.05, theme.primaryText1)};\r\n      }\r\n    `}\r\n`\r\n\r\nconst Web3StatusConnected = styled(Web3StatusGeneric)<{ pending?: boolean }>`\r\n  background-color: ${({ pending, theme }) => (pending ? theme.primary1 : theme.bg2)};\r\n  border: 1px solid ${({ pending, theme }) => (pending ? theme.primary1 : theme.bg3)};\r\n  color: ${({ pending, theme }) => (pending ? theme.white : theme.text1)};\r\n  font-weight: 500;\r\n  :hover,\r\n  :focus {\r\n    background-color: ${({ pending, theme }) => (pending ? darken(0.05, theme.primary1) : lighten(0.05, theme.bg2))};\r\n\r\n    :focus {\r\n      border: 1px solid ${({ pending, theme }) => (pending ? darken(0.1, theme.primary1) : darken(0.1, theme.bg3))};\r\n    }\r\n  }\r\n`\r\n\r\nconst Text = styled.p`\r\n  flex: 1 1 auto;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  margin: 0;\r\n  font-size: 1rem;\r\n  width: fit-content;\r\n  font-weight: 500;\r\n`\r\n\r\nconst NetworkIcon = styled(Activity)`\r\n  margin-left: 0.25rem;\r\n  margin-right: 0.5rem;\r\n  width: 16px;\r\n  height: 16px;\r\n`\r\n\r\n// we want the latest one to come first, so return negative if a is after b\r\nfunction newTransactionsFirst(a: TransactionDetails, b: TransactionDetails) {\r\n  return b.addedTime - a.addedTime\r\n}\r\n\r\nconst SOCK = (\r\n  <span role=\"img\" aria-label=\"has socks emoji\" style={{ marginTop: -4, marginBottom: -4 }}>\r\n    ðŸ¦„\r\n  </span>\r\n)\r\n\r\n// eslint-disable-next-line react/prop-types\r\nfunction StatusIcon({ connector }: { connector: AbstractConnector }) {\r\n  if (connector === injected) {\r\n    return <Identicon />\r\n  } else if (connector === walletconnect) {\r\n    return (\r\n      <IconWrapper size={16}>\r\n        <img src={WalletConnectIcon} alt={''} />\r\n      </IconWrapper>\r\n    )\r\n  } else if (connector === walletlink) {\r\n    return (\r\n      <IconWrapper size={16}>\r\n        <img src={CoinbaseWalletIcon} alt={''} />\r\n      </IconWrapper>\r\n    )\r\n  } else if (connector === fortmatic) {\r\n    return (\r\n      <IconWrapper size={16}>\r\n        <img src={FortmaticIcon} alt={''} />\r\n      </IconWrapper>\r\n    )\r\n  } else if (connector === portis) {\r\n    return (\r\n      <IconWrapper size={16}>\r\n        <img src={PortisIcon} alt={''} />\r\n      </IconWrapper>\r\n    )\r\n  }\r\n  return null\r\n}\r\n\r\nfunction Web3StatusInner() {\r\n  const { t } = useTranslation()\r\n  const { account, connector, error } = useWeb3React()\r\n\r\n  const { ENSName } = useENSName(account ?? undefined)\r\n\r\n  const allTransactions = useAllTransactions()\r\n\r\n  const sortedRecentTransactions = useMemo(() => {\r\n    const txs = Object.values(allTransactions)\r\n    return txs.filter(isTransactionRecent).sort(newTransactionsFirst)\r\n  }, [allTransactions])\r\n\r\n  const pending = sortedRecentTransactions.filter(tx => !tx.receipt).map(tx => tx.hash)\r\n\r\n  const hasPendingTransactions = !!pending.length\r\n  const hasSocks = useHasSocks()\r\n  const toggleWalletModal = useWalletModalToggle()\r\n\r\n  if (account) {\r\n    return (\r\n      <Web3StatusConnected id=\"web3-status-connected\" onClick={toggleWalletModal} pending={hasPendingTransactions}>\r\n        {hasPendingTransactions ? (\r\n          <RowBetween>\r\n            <Text>{pending?.length} Pending</Text> <Loader stroke=\"white\" />\r\n          </RowBetween>\r\n        ) : (\r\n          <>\r\n            {hasSocks ? SOCK : null}\r\n            <Text>{ENSName || shortenAddress(account)}</Text>\r\n          </>\r\n        )}\r\n        {!hasPendingTransactions && connector && <StatusIcon connector={connector} />}\r\n      </Web3StatusConnected>\r\n    )\r\n  } else if (error) {\r\n    return (\r\n      <Web3StatusError onClick={toggleWalletModal}>\r\n        <NetworkIcon />\r\n        <Text>{error instanceof UnsupportedChainIdError ? 'Wrong Network' : 'Error'}</Text>\r\n      </Web3StatusError>\r\n    )\r\n  } else {\r\n    return (\r\n      <Web3StatusConnect id=\"connect-wallet\" onClick={toggleWalletModal} faded={!account}>\r\n        <Text>{t('Connect Wallet')}</Text>\r\n      </Web3StatusConnect>\r\n    )\r\n  }\r\n}\r\n\r\nexport default function Web3Status() {\r\n  const { active, account } = useWeb3React()\r\n  const contextNetwork = useWeb3React(NetworkContextName)\r\n\r\n  const { ENSName } = useENSName(account ?? undefined)\r\n\r\n  const allTransactions = useAllTransactions()\r\n\r\n  const sortedRecentTransactions = useMemo(() => {\r\n    const txs = Object.values(allTransactions)\r\n    return txs.filter(isTransactionRecent).sort(newTransactionsFirst)\r\n  }, [allTransactions])\r\n\r\n  const pending = sortedRecentTransactions.filter(tx => !tx.receipt).map(tx => tx.hash)\r\n  const confirmed = sortedRecentTransactions.filter(tx => tx.receipt).map(tx => tx.hash)\r\n\r\n  if (!contextNetwork.active && !active) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Web3StatusInner />\r\n      <WalletModal ENSName={ENSName ?? undefined} pendingTransactions={pending} confirmedTransactions={confirmed} />\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { RouteComponentProps, withRouter } from 'react-router-dom'\r\nimport { isMobile } from 'react-device-detect'\r\nimport { Text } from 'rebass'\r\nimport { ChainId } from 'src/sdk'\r\n\r\nimport styled from 'styled-components'\r\n\r\nimport Logo from '../../assets/images/logo.png'\r\nimport LogoDark from '../../assets/images/logoDark.png'\r\nimport { GroupStakingTabs } from '../NavigationTabs'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { useDarkModeManager } from '../../state/user/hooks'\r\nimport { useETHBalances } from '../../state/wallet/hooks'\r\n\r\nimport { YellowCard } from '../Card'\r\nimport Settings from '../Settings'\r\nimport Menu from '../Menu'\r\n\r\nimport { RowBetween } from '../Row'\r\nimport Web3Status from '../Web3Status'\r\n\r\nconst HeaderFrame = styled.div`\r\n  border-bottom: 1px solid ${({ theme }) => theme.bg3};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  top: 0;\r\n  position: absolute;\r\n  z-index: 2;\r\n`\r\n\r\nconst HeaderElement = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`\r\n\r\nconst HeaderElementWrap = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`\r\n\r\nconst Title = styled.a`\r\n  display: flex;\r\n  align-items: center;\r\n  pointer-events: auto;\r\n  text-decoration: none;\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\n// const TitleText = styled(Row)`\r\n//   width: fit-content;\r\n//   white-space: nowrap;\r\n//   ${({ theme }) => theme.mediaWidth.upToExtraSmall`\r\n//     display: none;\r\n//   `};\r\n//   font-family: 'Lora';\r\n//   padding: 0 0 0 0.5em;\r\n//   font-size: 1.5em;\r\n//   letter-spacing: 0.05em;\r\n// `\r\n\r\nconst AccountElement = styled.div<{ active: boolean }>`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  border-radius: 12px;\r\n  white-space: nowrap;\r\n  width: 100%;\r\n\r\n  :focus {\r\n    border: 1px solid blue;\r\n  }\r\n`\r\n\r\nconst TestnetWrapper = styled.div`\r\n  white-space: nowrap;\r\n  width: fit-content;\r\n  margin-left: 10px;\r\n  pointer-events: auto;\r\n`\r\n\r\nconst NetworkCard = styled(YellowCard)`\r\n  width: fit-content;\r\n  margin-right: 10px;\r\n  border-radius: 12px;\r\n  padding: 8px 12px;\r\n`\r\n\r\nconst UniIcon = styled.div`\r\n  height: 2.5rem;\r\n  width: 2.5rem;\r\n  transition: transform 0.3s ease;\r\n  :hover {\r\n    transform: rotate(-5deg);\r\n  }\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    img { \r\n      width: 4.5rem;\r\n    }\r\n  `};\r\n`\r\n\r\nconst HeaderControls = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`\r\n\r\nconst BalanceText = styled(Text)`\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    display: none;\r\n  `};\r\n`\r\n\r\nconst MainNavLinksWrapper = styled.div`\r\n  ${({ theme }) => theme.mediaWidth.upToMedium`\r\n    display: none;\r\n  `};\r\n`\r\n\r\nconst NETWORK_LABELS: { [chainId in ChainId]: string | null } = {\r\n  [ChainId.MAINNET]: null,\r\n  [ChainId.RINKEBY]: 'Rinkeby',\r\n  [ChainId.ROPSTEN]: 'Ropsten',\r\n  [ChainId.GÃ–RLI]: 'GÃ¶rli',\r\n  [ChainId.KOVAN]: 'Kovan',\r\n  [ChainId.LOCAL]: 'Local'\r\n}\r\n\r\nfunction Header({ location }: RouteComponentProps) {\r\n  const { account, chainId } = useActiveWeb3React()\r\n\r\n  const isActiveTab = location.pathname.substring(1)\r\n\r\n  const userEthBalance = useETHBalances(account ? [account] : [])?.[account ?? '']\r\n  const [isDark] = useDarkModeManager()\r\n\r\n  return (\r\n    <HeaderFrame>\r\n      <RowBetween padding=\"0.5rem 1rem\">\r\n        <HeaderElement>\r\n          <Title href=\".\">\r\n            <UniIcon>\r\n              <img src={isDark ? Logo : LogoDark} alt=\"logo\" style={{ width: '40px' }} />\r\n            </UniIcon>\r\n          </Title>\r\n          <MainNavLinksWrapper>\r\n            <GroupStakingTabs active={isActiveTab} />\r\n          </MainNavLinksWrapper>\r\n        </HeaderElement>\r\n        <HeaderControls>\r\n          <HeaderElement>\r\n            <TestnetWrapper>\r\n              {!isMobile && chainId && NETWORK_LABELS[chainId] && <NetworkCard>{NETWORK_LABELS[chainId]}</NetworkCard>}\r\n            </TestnetWrapper>\r\n            <AccountElement active={!!account} style={{ pointerEvents: 'auto' }}>\r\n              {account && userEthBalance ? (\r\n                <BalanceText style={{ flexShrink: 0 }} pl=\"0.75rem\" pr=\"0.5rem\" fontWeight={500}>\r\n                  {userEthBalance?.toSignificant(4)} ETH\r\n                </BalanceText>\r\n              ) : null}\r\n              <Web3Status />\r\n            </AccountElement>\r\n          </HeaderElement>\r\n          <HeaderElementWrap>\r\n            <Settings />\r\n            <Menu />\r\n          </HeaderElementWrap>\r\n        </HeaderControls>\r\n      </RowBetween>\r\n    </HeaderFrame>\r\n  )\r\n}\r\n\r\nexport default withRouter(Header)\r\n","import React, { useContext } from 'react'\r\nimport styled, { ThemeContext } from 'styled-components'\r\nimport { ChevronRight } from 'react-feather'\r\nimport { TYPE } from '../../theme'\r\nimport { FlexBox } from '../FlexBox'\r\n\r\nconst StyledFlexBox = styled(FlexBox)`\r\n  background: ${({ theme }) => theme.primary1};\r\n  background: ${({ theme }) => `linear-gradient(135deg, ${theme.primary1} 0%,${theme.primary2} 100%)`};\r\n  margin-top: 56px;\r\n  width: 100%;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\r\n    flex-flow: column;\r\n  `};\r\n`\r\n\r\nconst StyledLink = styled.a`\r\n  border: ${({ theme }) => `1px solid ${theme.white}`};\r\n  border-radius: 0.25rem;\r\n  margin-left: 1rem;\r\n  padding: 0.125rem 0.5rem;\r\n  text-decoration: none;\r\n\r\n  :hover {\r\n    background: rgba(255, 255, 255, 0.1);\r\n  }\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\r\n    margin-left: 0;\r\n    margin-top: 0.5rem;\r\n  `};\r\n`\r\n\r\ninterface HeaderBannerProps {\r\n  message: string\r\n  linkUrl?: string\r\n  linkText?: string\r\n}\r\n\r\nexport const HeaderBanner = ({ message, linkText, linkUrl }: HeaderBannerProps) => {\r\n  const theme = useContext(ThemeContext)\r\n  return (\r\n    <StyledFlexBox align=\"center\" padding=\"0.5rem 1rem\" justify=\"center\">\r\n      <TYPE.main color={theme.white} fontSize=\"14px\">\r\n        {message}\r\n      </TYPE.main>\r\n      {linkUrl && (\r\n        <StyledLink href={linkUrl}>\r\n          <FlexBox align=\"center\">\r\n            <TYPE.body color={theme.white} fontSize=\"14px\" fontWeight=\"600\" marginRight=\"0.25rem\">\r\n              {linkText}\r\n            </TYPE.body>\r\n            <ChevronRight color={theme.white} size=\"16px\" />\r\n          </FlexBox>\r\n        </StyledLink>\r\n      )}\r\n    </StyledFlexBox>\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { AlertCircle, CheckCircle } from 'react-feather'\r\nimport styled, { ThemeContext } from 'styled-components'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { TYPE } from '../../theme'\r\nimport { ExternalLink } from '../../theme/components'\r\nimport { getEtherscanLink } from '../../utils'\r\nimport { AutoColumn } from '../Column'\r\nimport { AutoRow } from '../Row'\r\n\r\nconst RowNoFlex = styled(AutoRow)`\r\n  flex-wrap: nowrap;\r\n`\r\n\r\nexport default function TransactionPopup({\r\n  hash,\r\n  success,\r\n  summary\r\n}: {\r\n  hash: string\r\n  success?: boolean\r\n  summary?: string\r\n}) {\r\n  const { chainId } = useActiveWeb3React()\r\n\r\n  const theme = useContext(ThemeContext)\r\n\r\n  return (\r\n    <RowNoFlex>\r\n      <div style={{ paddingRight: 16 }}>\r\n        {success ? <CheckCircle color={theme.green1} size={24} /> : <AlertCircle color={theme.red1} size={24} />}\r\n      </div>\r\n      <AutoColumn gap=\"8px\">\r\n        <TYPE.body fontWeight={500}>{summary ?? 'Hash: ' + hash.slice(0, 8) + '...' + hash.slice(58, 65)}</TYPE.body>\r\n        {chainId && (\r\n          <ExternalLink href={getEtherscanLink(chainId, hash, 'transaction')}>View on Etherscan</ExternalLink>\r\n        )}\r\n      </AutoColumn>\r\n    </RowNoFlex>\r\n  )\r\n}\r\n","import React, { useCallback, useContext, useEffect } from 'react'\r\nimport { X } from 'react-feather'\r\nimport { useSpring } from 'react-spring/web'\r\nimport styled, { ThemeContext } from 'styled-components'\r\nimport { animated } from 'react-spring'\r\nimport { PopupContent } from '../../state/application/actions'\r\nimport { useRemovePopup } from '../../state/application/hooks'\r\nimport TransactionPopup from './TransactionPopup'\r\n\r\nexport const StyledClose = styled(X)`\r\n  position: absolute;\r\n  right: 10px;\r\n  top: 10px;\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`\r\nexport const Popup = styled.div`\r\n  display: inline-block;\r\n  width: 100%;\r\n  padding: 1em;\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  position: relative;\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n  padding-right: 35px;\r\n  overflow: hidden;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    min-width: 290px;\r\n  `}\r\n`\r\nconst Fader = styled.div`\r\n  position: absolute;\r\n  bottom: 0px;\r\n  left: 0px;\r\n  width: 100%;\r\n  height: 2px;\r\n  background-color: ${({ theme }) => theme.bg3};\r\n`\r\n\r\nconst AnimatedFader = animated(Fader)\r\n\r\nexport default function PopupItem({\r\n  removeAfterMs,\r\n  content,\r\n  popKey\r\n}: {\r\n  removeAfterMs: number | null\r\n  content: PopupContent\r\n  popKey: string\r\n}) {\r\n  const removePopup = useRemovePopup()\r\n  const removeThisPopup = useCallback(() => removePopup(popKey), [popKey, removePopup])\r\n  useEffect(() => {\r\n    if (removeAfterMs === null) return undefined\r\n\r\n    const timeout = setTimeout(() => {\r\n      removeThisPopup()\r\n    }, removeAfterMs)\r\n\r\n    return () => {\r\n      clearTimeout(timeout)\r\n    }\r\n  }, [removeAfterMs, removeThisPopup])\r\n\r\n  const theme = useContext(ThemeContext)\r\n\r\n  let popupContent\r\n  if ('txn' in content) {\r\n    const {\r\n      txn: { hash, success, summary }\r\n    } = content\r\n    popupContent = <TransactionPopup hash={hash} success={success} summary={summary} />\r\n  }\r\n\r\n  const faderStyle = useSpring({\r\n    from: { width: '100%' },\r\n    to: { width: '0%' },\r\n    config: { duration: removeAfterMs ?? undefined }\r\n  })\r\n\r\n  return (\r\n    <Popup>\r\n      <StyledClose color={theme.text2} onClick={removeThisPopup} />\r\n      {popupContent}\r\n      {removeAfterMs !== null ? <AnimatedFader style={faderStyle} /> : null}\r\n    </Popup>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { useActivePopups } from '../../state/application/hooks'\r\nimport { AutoColumn } from '../Column'\r\nimport PopupItem from './PopupItem'\r\n\r\nconst MobilePopupWrapper = styled.div<{ height: string | number }>`\r\n  position: relative;\r\n  max-width: 100%;\r\n  height: ${({ height }) => height};\r\n  margin: ${({ height }) => (height ? '0 auto;' : 0)};\r\n  margin-bottom: ${({ height }) => (height ? '20px' : 0)}};\r\n\r\n  display: none;\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    display: block;\r\n  `};\r\n`\r\n\r\nconst MobilePopupInner = styled.div`\r\n  height: 99%;\r\n  overflow-x: auto;\r\n  overflow-y: hidden;\r\n  display: flex;\r\n  flex-direction: row;\r\n  -webkit-overflow-scrolling: touch;\r\n  ::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n`\r\n\r\nconst FixedPopupColumn = styled(AutoColumn)`\r\n  position: fixed;\r\n  top: 64px;\r\n  right: 1rem;\r\n  max-width: 355px !important;\r\n  width: 100%;\r\n  z-index: 2;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    display: none;\r\n  `};\r\n`\r\n\r\nexport default function Popups() {\r\n  // get all popups\r\n  const activePopups = useActivePopups()\r\n\r\n  return (\r\n    <>\r\n      <FixedPopupColumn gap=\"20px\">\r\n        {activePopups.map(item => (\r\n          <PopupItem key={item.key} content={item.content} popKey={item.key} removeAfterMs={item.removeAfterMs} />\r\n        ))}\r\n      </FixedPopupColumn>\r\n      <MobilePopupWrapper height={activePopups?.length > 0 ? 'fit-content' : 0}>\r\n        <MobilePopupInner>\r\n          {activePopups // reverse so new items up front\r\n            .slice(0)\r\n            .reverse()\r\n            .map(item => (\r\n              <PopupItem key={item.key} content={item.content} popKey={item.key} removeAfterMs={item.removeAfterMs} />\r\n            ))}\r\n        </MobilePopupInner>\r\n      </MobilePopupWrapper>\r\n    </>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport styled from 'styled-components'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nimport { network } from '../../connectors'\r\nimport { useEagerConnect, useInactiveListener } from '../../hooks'\r\nimport { NetworkContextName } from '../../constants'\r\nimport Loader from '../Loader'\r\n\r\nconst MessageWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 20rem;\r\n`\r\n\r\nconst Message = styled.h2`\r\n  color: ${({ theme }) => theme.secondary1};\r\n`\r\n\r\nexport default function Web3ReactManager({ children }: { children: JSX.Element }) {\r\n  const { t } = useTranslation()\r\n  const { active } = useWeb3React()\r\n  const { active: networkActive, error: networkError, activate: activateNetwork } = useWeb3React(NetworkContextName)\r\n\r\n  // try to eagerly connect to an injected provider, if it exists and has granted access already\r\n  const triedEager = useEagerConnect()\r\n\r\n  // after eagerly trying injected, if the network connect ever isn't active or in an error state, activate itd\r\n  useEffect(() => {\r\n    if (triedEager && !networkActive && !networkError && !active) {\r\n      activateNetwork(network)\r\n    }\r\n  }, [triedEager, networkActive, networkError, activateNetwork, active])\r\n\r\n  // when there's no account connected, react to logins (broadly speaking) on the injected provider, if it exists\r\n  useInactiveListener(!triedEager)\r\n\r\n  // handle delayed loader state\r\n  const [showLoader, setShowLoader] = useState(false)\r\n  useEffect(() => {\r\n    const timeout = setTimeout(() => {\r\n      setShowLoader(true)\r\n    }, 600)\r\n\r\n    return () => {\r\n      clearTimeout(timeout)\r\n    }\r\n  }, [])\r\n\r\n  // on page load, do nothing until we've tried to connect to the injected connector\r\n  if (!triedEager) {\r\n    return null\r\n  }\r\n\r\n  // if the account context isn't active, and there's an error on the network context, it's an irrecoverable error\r\n  if (!active && networkError) {\r\n    return (\r\n      <MessageWrapper>\r\n        <Message>{t('unknownError')}</Message>\r\n      </MessageWrapper>\r\n    )\r\n  }\r\n\r\n  // if neither context is active, spin\r\n  if (!active && !networkActive) {\r\n    return showLoader ? (\r\n      <MessageWrapper>\r\n        <Loader />\r\n      </MessageWrapper>\r\n    ) : null\r\n  }\r\n\r\n  return children\r\n}\r\n","import { useEffect } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { RouteComponentProps } from 'react-router-dom'\r\nimport { parse } from 'qs'\r\nimport { AppDispatch } from '../state'\r\nimport { updateUserDarkMode } from '../state/user/actions'\r\n\r\nexport default function DarkModeQueryParamReader({ location: { search } }: RouteComponentProps): null {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n\r\n  useEffect(() => {\r\n    if (!search) return\r\n    if (search.length < 2) return\r\n\r\n    const parsed = parse(search, {\r\n      parseArrays: false,\r\n      ignoreQueryPrefix: true\r\n    })\r\n\r\n    const theme = parsed.theme\r\n\r\n    if (typeof theme !== 'string') return\r\n\r\n    if (theme.toLowerCase() === 'light') {\r\n      dispatch(updateUserDarkMode({ userDarkMode: false }))\r\n    } else if (theme.toLowerCase() === 'dark') {\r\n      dispatch(updateUserDarkMode({ userDarkMode: true }))\r\n    }\r\n  }, [dispatch, search])\r\n\r\n  return null\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nexport const BodyWrapper = styled.div<{ isChildPage: boolean }>`\r\n  position: relative;\r\n  width: 100%;\r\n  max-width: 420px;\r\n  background: ${({ theme }) => theme.bg2};\r\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.01), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04),\r\n    0px 24px 32px rgba(0, 0, 0, 0.01);\r\n  border-radius: ${({ isChildPage }) => (isChildPage ? '0 0 1rem 1rem' : '1rem')};\r\n  padding: 2rem;\r\n  margin-bottom: 50px;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n      padding: 1rem;\r\n  `};\r\n`\r\n\r\n/**\r\n * The styled container element that wraps the content of most pages and the tabs.\r\n */\r\nexport default function DefaultLayout({\r\n  children,\r\n  isChildPage,\r\n  ...rest\r\n}: {\r\n  children: React.ReactNode\r\n  isChildPage?: any\r\n}) {\r\n  return (\r\n    <BodyWrapper isChildPage={isChildPage} {...rest}>\r\n      {children}\r\n    </BodyWrapper>\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport styled, { ThemeContext } from 'styled-components'\r\nimport { Text } from 'rebass'\r\nimport QuestionHelper from '../QuestionHelper'\r\n\r\nconst StyledDataPointWrapper = styled.div<{ size: string }>`\r\n  margin-bottom: 1rem;\r\n  width: ${({ size }) => (size === 'medium' ? '100%' : '24%')};\r\n\r\n  ${({ theme, size }) =>\r\n    size === 'large' &&\r\n    `\r\n    border: ${`1px solid ${theme.bg3}`};\r\n    border-radius: 0.5rem;\r\n    padding: 1rem;\r\n    margin-bottom: 0.5rem;\r\n  `};\r\n\r\n  ${({ theme, size }) => theme.mediaWidth.upToLarge`\r\n    margin-bottom: ${size === 'large' && '0.5rem'};\r\n    width: ${size === 'large' && '49%'};\r\n  `};\r\n\r\n  ${({ theme, size }) => theme.mediaWidth.upToSmall`\r\n    width: ${size === 'large' ? '100%' : size === 'medium' ? '100%' : '50%'};\r\n  `};\r\n`\r\n\r\nconst StyledTooltipWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`\r\n\r\nconst StyledValueUnitWrapper = styled.div`\r\n  display: flex;\r\n  align-items: baseline;\r\n`\r\n\r\nconst StyledLabel = styled(Text)`\r\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\r\n    font-size: 12px;\r\n  `};\r\n`\r\n\r\nconst StyledValue = styled(Text)<{ size: string }>`\r\n  font-size: ${props => (props.size === 'small' ? '1rem' : '1.5rem')}\r\n    ${({ theme, size }) => theme.mediaWidth.upToExtraSmall`\r\n    font-size: ${size === 'small' ? '14px' : '1.5rem'};\r\n  `};\r\n`\r\n\r\ninterface DataPointProps {\r\n  label: string\r\n  value: any\r\n  unit?: string\r\n  helpText?: string\r\n  size: 'small' | 'medium' | 'large'\r\n}\r\n\r\nexport const DataPoint = ({ label, value, unit, helpText, size }: DataPointProps) => {\r\n  const theme = useContext(ThemeContext)\r\n  return (\r\n    <StyledDataPointWrapper size={size}>\r\n      <StyledTooltipWrapper>\r\n        <StyledLabel fontWeight={500} fontSize={14} color={theme.text2} marginBottom=\"4px\">\r\n          {label}\r\n        </StyledLabel>\r\n        {helpText && <QuestionHelper text={helpText} />}\r\n      </StyledTooltipWrapper>\r\n      <StyledValueUnitWrapper>\r\n        <StyledValue color={theme.text1} fontWeight={600} size={size} marginRight=\"0.25rem\">\r\n          {value}\r\n        </StyledValue>\r\n        {unit && (\r\n          <Text color={theme.text2} fontSize=\"14px\">\r\n            {unit}\r\n          </Text>\r\n        )}\r\n      </StyledValueUnitWrapper>\r\n    </StyledDataPointWrapper>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\n\r\nconst handleColorType = (status?: any, theme?: any) => {\r\n  switch (status) {\r\n    case 'completed':\r\n      return theme.blue1\r\n    case 'active':\r\n      console.log(status, theme)\r\n      return theme.blue1\r\n    case 'open':\r\n      return theme.green1\r\n    case 'canceled':\r\n      return theme.red1\r\n    default:\r\n      return theme.text3\r\n  }\r\n}\r\n\r\nexport const StatusBadge = styled.span<{ status: string }>`\r\n  font-size: 10px;\r\n  font-weight: 600;\r\n  padding: 2px;\r\n  border-radius: 2px;\r\n  color: ${({ status, theme }) => handleColorType(status, theme)};\r\n  border: 1px solid ${({ status, theme }) => handleColorType(status, theme)};\r\n  width: fit-content;\r\n  justify-self: flex-end;\r\n  text-transform: uppercase;\r\n`\r\n","import React, { useContext } from 'react'\r\nimport styled, { ThemeContext } from 'styled-components'\r\nimport { Text } from 'rebass'\r\nimport { TYPE } from '../../theme'\r\n\r\nconst StyledProgressWrapper = styled.div<{ size: string }>`\r\n  width: 100%;\r\n\r\n  ${({ theme, size }) =>\r\n    size === 'large' &&\r\n    `\r\n    border: ${`1px solid ${theme.bg3}`};\r\n    border-radius: 0.5rem;\r\n    padding: 1rem;\r\n    margin-bottom: 0.5rem;\r\n  `};\r\n`\r\n\r\nconst StyledProgressDataWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`\r\n\r\nconst StyledProgressBackground = styled.div`\r\n  width: 100%;\r\n  margin-top: 0.875rem;\r\n  height: 4px;\r\n  border-radius: 4px;\r\n  background-color: ${({ theme }) => theme.bg3};\r\n  position: relative;\r\n`\r\n\r\nconst StyledProgress = styled.div<{ percentageString?: string }>`\r\n  height: 4px;\r\n  border-radius: 4px;\r\n  background-color: ${({ theme }) => theme.primary1};\r\n  width: ${({ percentageString }) => percentageString};\r\n`\r\n\r\ninterface FundsInvestedProps {\r\n  contributions: number\r\n  progressPercentage: number\r\n  size: 'small' | 'large'\r\n}\r\n\r\nexport const FundsInvested = ({ contributions, progressPercentage, size }: FundsInvestedProps) => {\r\n  const theme = useContext(ThemeContext)\r\n  return (\r\n    <StyledProgressWrapper size={size}>\r\n      <StyledProgressDataWrapper>\r\n        <Text\r\n          fontWeight={size === 'small' ? '500' : '600'}\r\n          fontSize={size === 'small' ? '14px' : '20px'}\r\n          color={size === 'small' ? theme.text2 : theme.text1}\r\n        >\r\n          Funds invested\r\n        </Text>\r\n        <TYPE.body color={theme.text1} fontWeight={600} fontSize={size === 'small' ? '16px' : '20px'}>\r\n          {contributions} ETH\r\n        </TYPE.body>\r\n      </StyledProgressDataWrapper>\r\n      <StyledProgressBackground>\r\n        <StyledProgress percentageString={`${progressPercentage}%`} />\r\n      </StyledProgressBackground>\r\n    </StyledProgressWrapper>\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport styled, { css, ThemeContext } from 'styled-components'\r\nimport { NavLink } from 'react-router-dom'\r\nimport numeral from 'numeral'\r\nimport { isGroupLeader, isGroupMember } from 'src/services/accountService'\r\nimport { darken } from 'polished'\r\nimport { Text } from 'rebass'\r\nimport { TYPE } from '../../theme'\r\nimport { ChevronRight } from 'react-feather'\r\nimport { DataPoint } from '../DataPoint'\r\nimport { StatusBadge } from '../StatusBadge'\r\n// import { PercentReturn } from '../PercentReturn'\r\nimport { FundsInvested } from '../FundsInvested'\r\n\r\nconst StyledFundCardWrapper = styled.div`\r\n  border: ${({ theme }) => `1px solid ${theme.bg3}`};\r\n  border-radius: 1rem;\r\n  padding: 1rem;\r\n  cursor: pointer;\r\n  transition: all 0.5s ease;\r\n\r\n  :hover {\r\n    border: ${({ theme }) => `1px solid ${theme.primary1}`};\r\n  }\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\r\n    position: relative;\r\n  `};\r\n`\r\n\r\nconst StyledFundCardHeadingWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`\r\n\r\nconst StyledFlexCenterWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`\r\n\r\nconst StyledH2 = styled.h2`\r\n  margin-right: 0.5rem;\r\n`\r\n\r\nconst StyledDataPointsWrapper = styled.div`\r\n  border-top: ${({ theme }) => `1px solid ${theme.bg3}`};\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n  padding-top: 1rem;\r\n  margin-top: 1rem;\r\n`\r\n\r\nconst StyledChevronRight = styled(ChevronRight)`\r\n  margin-left: 0.5rem;\r\n`\r\n\r\nconst StatusBadgeWrapper = styled.div`\r\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\r\n    position: absolute;\r\n    top: 0.5rem;\r\n    right: 0.5rem;\r\n  `};\r\n`\r\n\r\nconst StyledText = styled(Text)`\r\n  line-height: 1.5;\r\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\r\n    width: 100px;\r\n  `};\r\n`\r\n\r\nconst listStyles = css`\r\n  display: grid;\r\n  grid-gap: 0.75rem;\r\n`\r\n\r\nconst listItemPropertiesStyles = css`\r\n  display: grid;\r\n  grid-gap: 0.25em;\r\n  font-size: 0.875em;\r\n  font-family: monospace;\r\n  text-align: left;\r\n`\r\n\r\nconst listItemPropertyStyles = css`\r\n  display: grid;\r\n  grid-template-columns: auto 1fr;\r\n  grid-gap: 0.5em;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`\r\n\r\nconst listItemCaptionStyles = css`\r\n  width: 11em;\r\n`\r\n\r\nconst listItemActionStyles = css`\r\n  display: flex;\r\n`\r\n\r\nconst listItemButtonStyles = (theme: any) => css`\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  background: ${theme.primary1};\r\n  // background: ${`linear-gradient(135deg, ${theme.primary1} 0%,${theme.primary2} 100%)`};\r\n  border-radius: 0.25em;\r\n  color: ${theme.white};\r\n  cursor: pointer;\r\n  border: none;\r\n  height: 2.5rem;\r\n  outline: none;\r\n  text-decoration: none;\r\n  padding: 0 1rem;\r\n  margin: 1rem 0.5rem 0 0;\r\n\r\n  &:hover {\r\n    background: ${darken(0.05, theme.primary1)};\r\n    // background: ${`linear-gradient(45deg, ${theme.primary2} 0%,${theme.primary1} 100%)`};\r\n    color: ${theme.white};\r\n  }\r\n`\r\n\r\nexport const GroupProperties = ({ group, account }: { group: any; account: string }) => {\r\n  const isMember = isGroupMember(group)\r\n  const isLeader = isGroupLeader(group, account)\r\n  const started = group.data.runTimeout > 0\r\n  const status = group.data.complete ? 'completed' : group.data.aborted ? 'aborted' : started ? 'active' : 'open'\r\n  //const startedDays = (group.data.runTimeout / 60 / 60 - group.params.maxRunTimeHours) / 24\r\n  return (\r\n    <div css={listItemPropertiesStyles}>\r\n      {group.id !== undefined ? (\r\n        <div css={listItemPropertyStyles}>\r\n          <span css={listItemCaptionStyles}>ID</span>\r\n          <span>{group.id}</span>\r\n        </div>\r\n      ) : null}\r\n      {group.params.description ? (\r\n        <div css={listItemPropertyStyles}>\r\n          <span css={listItemCaptionStyles}>Description</span>\r\n          <span>{group.params.description}</span>\r\n        </div>\r\n      ) : null}\r\n      {group.status !== 'openForm' ? (\r\n        <div css={listItemPropertyStyles}>\r\n          <span css={listItemCaptionStyles}>Status</span>\r\n          <span>{status}</span>\r\n        </div>\r\n      ) : null}\r\n      <div css={listItemPropertyStyles}>\r\n        <span css={listItemCaptionStyles}>Leader</span>\r\n        <span>{group.data.leader}</span>\r\n      </div>\r\n      <div css={listItemPropertyStyles}>\r\n        <span css={listItemCaptionStyles}>Collateral</span>\r\n        <span>{group.params.leaderiFundCollateral} iFUND</span>\r\n      </div>\r\n      <div css={listItemPropertyStyles}>\r\n        <span css={listItemCaptionStyles}>Leader profit %</span>\r\n        <span>{group.params.leaderProfitShareOutOf10000 / 100}%</span>\r\n      </div>\r\n      <div css={listItemPropertyStyles}>\r\n        <span css={listItemCaptionStyles}>Min ETH to Start</span>\r\n        <span>{group.params.minEthToStart} ETH</span>\r\n      </div>\r\n      <div css={listItemPropertyStyles}>\r\n        <span css={listItemCaptionStyles}>Max ETH Acceptable</span>\r\n        <span>{group.params.maxEthAcceptable} ETH</span>\r\n      </div>\r\n      <div css={listItemPropertyStyles}>\r\n        <span css={listItemCaptionStyles}>Max ETH per Member</span>\r\n        <span>{group.params.maxEthContribution} ETH</span>\r\n      </div>\r\n      <div css={listItemPropertyStyles}>\r\n        <span css={listItemCaptionStyles}>Member Fee</span>\r\n        <span>{group.params.requiredMemberiFundFee} iFUND</span>\r\n      </div>\r\n      {/* <div css={listItemPropertyStyles}>\r\n        <span css={listItemCaptionStyles}>Start Timeout</span>\r\n        <span>{group.params.startTimeoutHours / 24} days</span>\r\n      </div> */}\r\n      <div css={listItemPropertyStyles}>\r\n        <span css={listItemCaptionStyles}>Max Runtime</span>\r\n        <span>{group.params.maxRunTimeHours / 24} days</span>\r\n      </div>\r\n      {/* {group.data.runTimeout ? (\r\n        <div css={listItemPropertyStyles}>\r\n          <span css={listItemCaptionStyles}>Started</span>\r\n          <span>{startedDays > 0 ? `In ${Math.abs(startedDays)} days` : `${Math.abs(startedDays)} days ago`}</span>\r\n        </div>\r\n      ) : null} */}\r\n      {group.totalContributions ? (\r\n        <div css={listItemPropertyStyles}>\r\n          <span css={listItemCaptionStyles}>Total Contribution</span>\r\n          <span>{group.totalContributions} ETH</span>\r\n        </div>\r\n      ) : null}\r\n      {group.myContribution && (isMember || isLeader) ? (\r\n        <div css={listItemPropertyStyles}>\r\n          <span css={listItemCaptionStyles}>My Contribution</span>\r\n          <span>{group.myContribution} ETH</span>\r\n        </div>\r\n      ) : null}\r\n      {group.data.tokenListId !== undefined ? (\r\n        <div css={listItemPropertyStyles}>\r\n          <span css={listItemCaptionStyles}>Token List (ID {group.params.tokenListId})</span>\r\n          {group.tokens === undefined ? <span>Loading...</span> : null}\r\n          {group.tokens !== undefined && group.tokens.length === 0 ? <span>No tokens yet</span> : null}\r\n          {group.tokens !== undefined && group.tokens.length > 0 ? (\r\n            <span>\r\n              {group.tokens?.map((token: any) => {\r\n                return (\r\n                  <>\r\n                    <a\r\n                      css={css`\r\n                        color: white;\r\n                      `}\r\n                      href={`https://etherscan.io/address/${token.address}`}\r\n                    >\r\n                      {token.symbol}\r\n                    </a>\r\n                    : {token.amount.toFixed(2)}\r\n                    <br />\r\n                  </>\r\n                )\r\n              })}\r\n            </span>\r\n          ) : null}\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const GroupsPanel = ({\r\n  title,\r\n  account,\r\n  groups,\r\n  history,\r\n  pathName\r\n}: {\r\n  title?: string\r\n  account: string\r\n  groups: any\r\n  history: any\r\n  pathName: string\r\n}) => {\r\n  const { t } = useTranslation()\r\n  const theme = useContext(ThemeContext)\r\n\r\n  return (\r\n    <div>\r\n      <TYPE.body marginBottom=\"24px\">{t(title)}</TYPE.body>\r\n      <div css={listStyles}>\r\n        {groups.map((group: any) => {\r\n          const started = group.data.runTimeout > 0\r\n          const status = group.data.complete\r\n            ? 'completed'\r\n            : group.data.aborted\r\n            ? 'canceled'\r\n            : started\r\n            ? 'active'\r\n            : 'open'\r\n          const isMember = isGroupMember(group)\r\n          const isLeader = isGroupLeader(group, account)\r\n          const timeOuted = new Date().getTime() > group.runTimeout\r\n          const isMyFund = isMember || isLeader\r\n          console.log(isMyFund)\r\n          const progressPercentage = (group.totalContributions / group.params.maxEthAcceptable) * 100\r\n\r\n          let showWithdrawButton = false\r\n          let showSwapButton = false\r\n          let showFinishButton = false\r\n          let showAbortButton = false\r\n          let showStartButton = false\r\n          let showAddFundsButton = false\r\n          let showJoinButton = false\r\n\r\n          if (group.data.complete || group.data.aborted) {\r\n            if ((isMember || isLeader) && !group.withdrawn) {\r\n              showWithdrawButton = true\r\n            }\r\n          } else if (started) {\r\n            if (isLeader) {\r\n              showSwapButton = true\r\n              showFinishButton = true\r\n            } else if (isMember && timeOuted) {\r\n              showAbortButton = true\r\n            }\r\n          } else {\r\n            if (isLeader) {\r\n              showStartButton = true\r\n              showAbortButton = true\r\n            }\r\n\r\n            if (group.totalContributions < group.params.maxEthAcceptable) {\r\n              if (isMember || isLeader) {\r\n                showAddFundsButton = true\r\n              } else {\r\n                showJoinButton = true\r\n              }\r\n            }\r\n          }\r\n\r\n          // this.props.history.push({\r\n          //   pathname: '/tickets',\r\n          //   state: {\r\n          //     data: rowIndex[0],\r\n          //   },\r\n          // })\r\n\r\n          return (\r\n            <StyledFundCardWrapper\r\n              key={group.id}\r\n              onClick={() => history.push({ pathname: `/group/${group.id}/details`, state: { isMyFund: isMyFund } })}\r\n            >\r\n              <StyledFundCardHeadingWrapper>\r\n                <div>\r\n                  {group.id !== undefined ? (\r\n                    <StyledFlexCenterWrapper>\r\n                      <StyledH2>\r\n                        {group.params.description.length > 15\r\n                          ? `${group.params.description.substr(0, 15)}...`\r\n                          : group.params.description}\r\n                      </StyledH2>\r\n                      <StatusBadgeWrapper>\r\n                        <StatusBadge status={status}>{status}</StatusBadge>\r\n                      </StatusBadgeWrapper>\r\n                    </StyledFlexCenterWrapper>\r\n                  ) : null}\r\n                  <StyledText fontSize=\"14px\" marginTop=\"4px\">\r\n                    Managed by {group.data.leader.substr(0, 15)}...\r\n                  </StyledText>\r\n                </div>\r\n                <StyledFlexCenterWrapper>\r\n                  {/* Percent return of fund needs to be passed to <PercentReturn /> below */}\r\n                  {/* {(status === 'active' || status === 'completed') && <PercentReturn value={32} size=\"small\" />} */}\r\n                  <StyledChevronRight color={theme.primary1} />\r\n                </StyledFlexCenterWrapper>\r\n              </StyledFundCardHeadingWrapper>\r\n              {status !== 'active' && (\r\n                <StyledDataPointsWrapper>\r\n                  {/* Number of investors needs to be passed here */}\r\n                  {/* <DataPoint label=\"Investors\" value={'0'} size=\"small\" /> */}\r\n                  {/* Manager's stake needs to be passed here */}\r\n                  {/* <DataPoint label=\"Manager's stake\" value={'0 ETH'} size=\"small\" /> */}\r\n                  <DataPoint\r\n                    label=\"Joining fee\"\r\n                    value={`${numeral(group.params.requiredMemberiFundFee).format('0,0')} iFUND`}\r\n                    size=\"small\"\r\n                  />\r\n                  <DataPoint\r\n                    label=\"Collateral\"\r\n                    value={`${numeral(group.params.leaderiFundCollateral).format('0,0')} iFUND`}\r\n                    size=\"small\"\r\n                  />\r\n                  <FundsInvested\r\n                    contributions={group.totalContributions}\r\n                    progressPercentage={progressPercentage}\r\n                    size=\"small\"\r\n                  />\r\n                  {/* <StyledProgressWrapper>\r\n                    <StyledProgressDataWrapper>\r\n                      <Text fontWeight={500} fontSize={14} color={theme.text2}>\r\n                        Funds invested\r\n                      </Text>\r\n                      <TYPE.body color={theme.text1} fontWeight={600} fontSize=\"16px\">\r\n                        {group.totalContributions} ETH\r\n                      </TYPE.body>\r\n                    </StyledProgressDataWrapper>\r\n                    <StyledProgressBackground>\r\n                      <StyledProgress percentageString={`${progressPercentage}%`} />\r\n                    </StyledProgressBackground>\r\n                  </StyledProgressWrapper> */}\r\n                </StyledDataPointsWrapper>\r\n              )}\r\n              {/* Move this to details page */}\r\n              <div css={listItemActionStyles}>\r\n                {showStartButton ? (\r\n                  <NavLink\r\n                    to={`/group/${group.id}/start`}\r\n                    css={listItemButtonStyles(theme)}\r\n                    onClick={e => {\r\n                      e.stopPropagation()\r\n                      e.nativeEvent.stopImmediatePropagation()\r\n                    }}\r\n                  >\r\n                    {t('Start')}\r\n                  </NavLink>\r\n                ) : null}\r\n                {showAbortButton ? (\r\n                  <NavLink\r\n                    to={`/group/${group.id}/abort`}\r\n                    css={listItemButtonStyles(theme)}\r\n                    onClick={e => {\r\n                      e.stopPropagation()\r\n                      e.nativeEvent.stopImmediatePropagation()\r\n                    }}\r\n                  >\r\n                    {t('Abort')}\r\n                  </NavLink>\r\n                ) : null}\r\n                {showJoinButton ? (\r\n                  <NavLink\r\n                    to={{\r\n                      pathname: `/group/${group.id}/join`,\r\n                      state: {\r\n                        backPath: pathName\r\n                      }\r\n                    }}\r\n                    css={listItemButtonStyles(theme)}\r\n                    onClick={e => {\r\n                      e.stopPropagation()\r\n                      e.nativeEvent.stopImmediatePropagation()\r\n                    }}\r\n                  >\r\n                    {t('Join')}\r\n                  </NavLink>\r\n                ) : null}\r\n                {showAddFundsButton ? (\r\n                  <NavLink\r\n                    to={`/group/${group.id}/add-funds`}\r\n                    css={listItemButtonStyles(theme)}\r\n                    onClick={e => {\r\n                      e.stopPropagation()\r\n                      e.nativeEvent.stopImmediatePropagation()\r\n                    }}\r\n                  >\r\n                    {t('Add Funds')}\r\n                  </NavLink>\r\n                ) : null}\r\n                {showFinishButton ? (\r\n                  <NavLink\r\n                    to={`/group/${group.id}/finish`}\r\n                    css={listItemButtonStyles(theme)}\r\n                    onClick={e => {\r\n                      e.stopPropagation()\r\n                      e.nativeEvent.stopImmediatePropagation()\r\n                    }}\r\n                  >\r\n                    {t('Finish')}\r\n                  </NavLink>\r\n                ) : null}\r\n                {showWithdrawButton ? (\r\n                  <NavLink\r\n                    to={`/group/${group.id}/withdraw`}\r\n                    css={listItemButtonStyles(theme)}\r\n                    onClick={e => {\r\n                      e.stopPropagation()\r\n                      e.nativeEvent.stopImmediatePropagation()\r\n                    }}\r\n                  >\r\n                    {t('Withdraw')}\r\n                  </NavLink>\r\n                ) : null}\r\n                {showSwapButton ? (\r\n                  <NavLink\r\n                    to={`/group/${group.id}/swap`}\r\n                    css={listItemButtonStyles(theme)}\r\n                    onClick={e => {\r\n                      e.stopPropagation()\r\n                      e.nativeEvent.stopImmediatePropagation()\r\n                    }}\r\n                  >\r\n                    {t('Swap')}\r\n                  </NavLink>\r\n                ) : null}\r\n              </div>\r\n              {/* <div\r\n                css={css`\r\n                  position: absolute;\r\n                  top: calc(50% - 10px);\r\n                  right: 10px;\r\n                  opacity: 0.3;\r\n                `}\r\n              >\r\n                <img src={RightArrowFlat} alt=\"details\" style={{ width: '20px' }} />\r\n              </div> */}\r\n            </StyledFundCardWrapper>\r\n          )\r\n        })}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Spinner } from '../../theme/components'\r\nimport { css } from '@emotion/core'\r\nimport { useActiveWeb3React } from 'src/hooks'\r\nimport { useWalletModalToggle } from 'src/state/application/hooks'\r\nimport { AutoColumn } from 'src/components/Column'\r\nimport { ButtonError } from 'src/components/Button'\r\nimport { TYPE } from 'src/theme'\r\nimport Circle from '../../assets/images/blue-loader.svg'\r\n\r\nconst StyledSpinnerWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  padding: 2rem 0;\r\n`\r\n\r\nexport const PageSpinner = () => {\r\n  const toggleWalletModal = useWalletModalToggle()\r\n  const { account } = useActiveWeb3React()\r\n  return !account ? (\r\n    <AutoColumn\r\n      gap=\"md\"\r\n      css={css`\r\n        display: flex;\r\n        flex-flow: column;\r\n        align-items: center;\r\n      `}\r\n    >\r\n      <h1>Let the fund begin</h1>\r\n      <TYPE.body>Connect your wallet to join and create funds.</TYPE.body>\r\n      <ButtonError margin=\"1rem 0 0 0\" width=\"150px\" onClick={toggleWalletModal}>\r\n        Connect Wallet\r\n      </ButtonError>\r\n    </AutoColumn>\r\n  ) : (\r\n    <StyledSpinnerWrapper>\r\n      <Spinner src={Circle} />\r\n    </StyledSpinnerWrapper>\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport styled, { css, ThemeContext } from 'styled-components'\r\nimport { DollarSign, X } from 'react-feather'\r\nimport DefaultLayout from 'src/layouts/default'\r\nimport { AutoColumn } from 'src/components/Column'\r\nimport { ButtonPrimary, ButtonSecondary } from 'src/components/Button'\r\nimport { GroupsPanel } from 'src/components/GroupsPanel'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useGroupState } from 'src/context/GroupContext'\r\nimport { isGroupLeader, isGroupMember } from 'src/services/accountService'\r\nimport { useActiveWeb3React } from 'src/hooks'\r\n// import { css } from '@emotion/core'\r\n// import { MainNavLink } from 'src/components/styleds'\r\nimport { useWalletModalToggle } from 'src/state/application/hooks'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport { TYPE } from '../../theme'\r\nimport { PageSpinner } from 'src/components/PageSpinner'\r\n\r\n// const SButtonPrimary = styled(ButtonPrimary)`\r\n//   /* background: linear-gradient(90deg, #833ab4, #fd1dc3 50%, #fcb045); */\r\n//   background: linear-gradient(90deg, #c586dd, #3680e7 50%, #c586dd 100%);\r\n//   animation: slidebg 2s linear infinite;\r\n//   padding: 0;\r\n//   width: ${({ width }) => width};\r\n//   &:after {\r\n//     content: attr(alt);\r\n//     height: 6vh;\r\n//     width: calc(100% - 6px);\r\n//     height: calc(100% - 6px);\r\n//     text-decoration: none;\r\n//     background-color: #2c2f36;\r\n//     /* position: absolute; */\r\n//     font-size: 17px;\r\n//     display: flex;\r\n//     align-items: center;\r\n//     justify-content: center;\r\n//   }\r\n\r\n//   &:hover {\r\n//     background: linear-gradient(90deg, #c586dd, #3680e7 50%, #c586dd 100%);\r\n//     box-shadow: 0 0 8px #3680e7;\r\n//   }\r\n\r\n//   @keyframes slidebg {\r\n//     to {\r\n//       background-position: calc(${({ width }) => width} * 2);\r\n//     }\r\n//   }\r\n//   ${({ theme }) => theme.mediaWidth.upToExtraSmall`\r\n//     margin: 0 0 0.5rem;\r\n//     width: 100%;\r\n//   `};\r\n// `\r\n\r\nconst StyledHeaderWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding-bottom: 1.5rem;\r\n`\r\n\r\nconst Tabs = styled.div`\r\n  display: flex;\r\n  border-bottom: ${({ theme }) => `1px solid ${theme.bg3}`};\r\n  margin-bottom: 1.5rem;\r\n`\r\n\r\nconst Tab = styled.button<{ isActive: boolean }>`\r\n  background: transparent;\r\n  border: none;\r\n  color: ${({ theme }) => theme.text3}\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  padding: 0.5rem 0;\r\n  width: 140px;\r\n\r\n  :hover {\r\n    color: ${({ theme }) => theme.text1};\r\n  }\r\n\r\n  :focus {\r\n    outline: none;\r\n  }\r\n\r\n  ${({ isActive }) =>\r\n    isActive &&\r\n    css`\r\n      color: ${({ theme }) => theme.text1};\r\n      :after {\r\n        content: ' ';\r\n        display: block;\r\n        background: ${({ theme }) => theme.primary1};\r\n        height: 4px;\r\n        position: relative;\r\n        top: 9px;\r\n      }\r\n    `}\r\n`\r\n\r\nconst StyledMyFundsEmptyStateWrapper = styled.div`\r\n  border: ${({ theme }) => `1px solid ${theme.bg3}`};\r\n  border-radius: 1rem;\r\n  display: flex;\r\n  flex-flow: column;\r\n  align-items: center;\r\n  padding: 2.5rem;\r\n  text-align: center;\r\n`\r\n\r\nconst StyledEmptyStateIconWrapper = styled.div`\r\n  background: linear-gradient(135deg, #fdf69a 0%, #95fff1 50%, #9598ff 100%);\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-bottom: 1rem;\r\n  height: 3rem;\r\n  width: 3rem;\r\n`\r\n\r\nconst Home = ({ history, location }: RouteComponentProps) => {\r\n  const { t } = useTranslation()\r\n  const { groups } = useGroupState()\r\n  const { account } = useActiveWeb3React()\r\n  const theme = useContext(ThemeContext)\r\n  const toggleWalletModal = useWalletModalToggle()\r\n\r\n  const path = location.pathname\r\n\r\n  let myGroups: any = []\r\n  let openGroups: any = []\r\n  let pendingGroups: any = []\r\n  let completedGroups: any = []\r\n\r\n  groups.forEach((item: any) => {\r\n    if (isGroupMember(item) || isGroupLeader(item, account!)) {\r\n      myGroups.unshift(item)\r\n    } else if (item.data.complete || item.data.aborted) {\r\n      completedGroups.unshift(item)\r\n    } else {\r\n      if (item.data.runTimeout > 0) {\r\n        pendingGroups.unshift(item)\r\n      } else {\r\n        openGroups.unshift(item)\r\n      }\r\n    }\r\n  })\r\n\r\n  myGroups = myGroups.sort((b: any, a: any) => (a.id > b.id ? -1 : a.id < b.id ? 1 : 0))\r\n  openGroups = openGroups.sort((b: any, a: any) => (a.id > b.id ? -1 : a.id < b.id ? 1 : 0))\r\n  pendingGroups = pendingGroups.sort((b: any, a: any) => (a.id > b.id ? -1 : a.id < b.id ? 1 : 0))\r\n  completedGroups = completedGroups.sort((b: any, a: any) => (a.id > b.id ? -1 : a.id < b.id ? 1 : 0))\r\n\r\n  console.log(groups, myGroups, pendingGroups, openGroups, completedGroups)\r\n\r\n  const tabName = myGroups.length > 0 ? 'myFunds' : 'open'\r\n\r\n  const isActiveTab = location.pathname.substring(1) ? location.pathname.substring(1) : tabName\r\n\r\n  return (\r\n    <DefaultLayout\r\n      css={css`\r\n        max-width: 800px;\r\n        width: 100%;\r\n      `}\r\n    >\r\n      {account ? (\r\n        <>\r\n          <StyledHeaderWrapper>\r\n            <h1>Funds</h1>\r\n            <ButtonPrimary width=\"120px\" onClick={() => history.push('/group')}>\r\n              Start Fund\r\n            </ButtonPrimary>\r\n          </StyledHeaderWrapper>\r\n          {groups.length === 0 ? (\r\n            <PageSpinner />\r\n          ) : (\r\n            <div>\r\n              <Tabs>\r\n                <Tab isActive={isActiveTab === 'open'} onClick={() => history.push('/open')}>\r\n                  Open\r\n                </Tab>\r\n                <Tab isActive={isActiveTab === 'active'} onClick={() => history.push('/active')}>\r\n                  Active\r\n                </Tab>\r\n                <Tab isActive={isActiveTab === 'ended'} onClick={() => history.push('/ended')}>\r\n                  Ended\r\n                </Tab>\r\n                <Tab isActive={isActiveTab === 'myFunds'} onClick={() => history.push('/myFunds')}>\r\n                  My Funds\r\n                </Tab>\r\n              </Tabs>\r\n              {isActiveTab === 'myFunds' &&\r\n                (myGroups.length > 0 ? (\r\n                  <GroupsPanel\r\n                    title={t(\"These are funds you've created or joined.\")}\r\n                    account={account!}\r\n                    groups={myGroups}\r\n                    history={history}\r\n                    pathName={path}\r\n                  />\r\n                ) : (\r\n                  <StyledMyFundsEmptyStateWrapper>\r\n                    <StyledEmptyStateIconWrapper>\r\n                      <DollarSign color={theme.black} size=\"1.5rem\" />\r\n                    </StyledEmptyStateIconWrapper>\r\n                    <h2>Funds you start or invest in will show here</h2>\r\n                    <ButtonSecondary onClick={() => history.push('open')} margin=\"1.5rem 0 0 0 \" width=\"144px\">\r\n                      Browse Funds\r\n                    </ButtonSecondary>\r\n                  </StyledMyFundsEmptyStateWrapper>\r\n                ))}\r\n              {isActiveTab === 'open' &&\r\n                (openGroups.length > 0 ? (\r\n                  <GroupsPanel\r\n                    title={t(\"These funds haven't started trading, and are currently looking for investors.\")}\r\n                    account={account!}\r\n                    groups={openGroups}\r\n                    history={history}\r\n                    pathName={path}\r\n                  />\r\n                ) : (\r\n                  <StyledMyFundsEmptyStateWrapper>\r\n                    <StyledEmptyStateIconWrapper>\r\n                      <X color={theme.black} size=\"1.5rem\" />\r\n                    </StyledEmptyStateIconWrapper>\r\n                    <h2>No funds found. Time to start your own!</h2>\r\n                    <ButtonSecondary onClick={() => history.push('/group')} margin=\"1.5rem 0 0 0 \" width=\"120px\">\r\n                      Start Fund\r\n                    </ButtonSecondary>\r\n                  </StyledMyFundsEmptyStateWrapper>\r\n                ))}\r\n              {isActiveTab === 'active' &&\r\n                (pendingGroups.length > 0 ? (\r\n                  <GroupsPanel\r\n                    title={t('These funds are currently trading.')}\r\n                    account={account!}\r\n                    groups={pendingGroups}\r\n                    history={history}\r\n                    pathName={path}\r\n                  />\r\n                ) : (\r\n                  <StyledMyFundsEmptyStateWrapper>\r\n                    <StyledEmptyStateIconWrapper>\r\n                      <X color={theme.black} size=\"1.5rem\" />\r\n                    </StyledEmptyStateIconWrapper>\r\n                    <h2>No funds found. Time to start your own!</h2>\r\n                    <ButtonSecondary onClick={() => history.push('/group')} margin=\"1.5rem 0 0 0 \" width=\"120px\">\r\n                      Start Fund\r\n                    </ButtonSecondary>\r\n                  </StyledMyFundsEmptyStateWrapper>\r\n                ))}\r\n              {isActiveTab === 'ended' && completedGroups.length > 0 ? (\r\n                <GroupsPanel\r\n                  // title={t('Completed funds have been completed.')}\r\n                  title={t('These funds have completed, or been aborted.')}\r\n                  account={account!}\r\n                  groups={completedGroups}\r\n                  history={history}\r\n                  pathName={path}\r\n                />\r\n              ) : null}\r\n            </div>\r\n          )}\r\n        </>\r\n      ) : (\r\n        <AutoColumn\r\n          gap=\"md\"\r\n          css={css`\r\n            display: flex;\r\n            flex-flow: column;\r\n            align-items: center;\r\n          `}\r\n        >\r\n          <h1>Get Started</h1>\r\n          <TYPE.body>Connect your wallet to join and create funds.</TYPE.body>\r\n          <ButtonPrimary margin=\"1rem 0 0 0\" width=\"150px\" onClick={toggleWalletModal}>\r\n            Connect Wallet\r\n          </ButtonPrimary>\r\n        </AutoColumn>\r\n      )}\r\n    </DefaultLayout>\r\n  )\r\n}\r\n\r\nexport default withRouter(Home)\r\n","import React from 'react'\r\nimport { Text } from 'rebass'\r\nimport styled from 'styled-components'\r\nimport { RowFixed } from '../Row'\r\n\r\nexport const FilterWrapper = styled(RowFixed)`\r\n  padding: 8px;\r\n  background-color: ${({ theme }) => theme.bg2};\r\n  color: ${({ theme }) => theme.text1};\r\n  border-radius: 0.25rem;\r\n  user-select: none;\r\n  & > * {\r\n    user-select: none;\r\n  }\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nexport default function SortButton({\r\n  toggleSortOrder,\r\n  ascending\r\n}: {\r\n  toggleSortOrder: () => void\r\n  ascending: boolean\r\n}) {\r\n  return (\r\n    <FilterWrapper onClick={toggleSortOrder}>\r\n      <Text fontSize={14} fontWeight={500}>\r\n        {ascending ? 'â†‘' : 'â†“'}\r\n      </Text>\r\n    </FilterWrapper>\r\n  )\r\n}\r\n","import { namehash } from 'ethers/lib/utils'\r\nimport { useMemo } from 'react'\r\nimport { useSingleCallResult } from '../state/multicall/hooks'\r\nimport isZero from '../utils/isZero'\r\nimport { useENSRegistrarContract, useENSResolverContract } from './useContract'\r\nimport useDebounce from './useDebounce'\r\n\r\n/**\r\n * Does a lookup for an ENS name to find its address.\r\n */\r\nexport default function useENSAddress(ensName?: string | null): { loading: boolean; address: string | null } {\r\n  const debouncedName = useDebounce(ensName, 200)\r\n  const ensNodeArgument = useMemo(() => {\r\n    if (!debouncedName) return [undefined]\r\n    try {\r\n      return debouncedName ? [namehash(debouncedName)] : [undefined]\r\n    } catch (error) {\r\n      return [undefined]\r\n    }\r\n  }, [debouncedName])\r\n  const registrarContract = useENSRegistrarContract(false)\r\n  const resolverAddress = useSingleCallResult(registrarContract, 'resolver', ensNodeArgument)\r\n  const resolverAddressResult = resolverAddress.result?.[0]\r\n  const resolverContract = useENSResolverContract(\r\n    resolverAddressResult && !isZero(resolverAddressResult) ? resolverAddressResult : undefined,\r\n    false\r\n  )\r\n  const addr = useSingleCallResult(resolverContract, 'addr', ensNodeArgument)\r\n\r\n  const changed = debouncedName !== ensName\r\n  return {\r\n    address: changed ? null : addr.result?.[0] ?? null,\r\n    loading: changed || resolverAddress.loading || addr.loading\r\n  }\r\n}\r\n","import { isAddress } from '../utils'\r\nimport useENSAddress from './useENSAddress'\r\nimport useENSName from './useENSName'\r\n\r\n/**\r\n * Given a name or address, does a lookup to resolve to an address and name\r\n * @param nameOrAddress ENS name or address\r\n */\r\nexport default function useENS(\r\n  nameOrAddress?: string | null\r\n): { loading: boolean; address: string | null; name: string | null } {\r\n  const validated = isAddress(nameOrAddress)\r\n  const reverseLookup = useENSName(validated ? validated : undefined)\r\n  const lookup = useENSAddress(nameOrAddress)\r\n\r\n  return {\r\n    loading: reverseLookup.loading || lookup.loading,\r\n    address: validated ? validated : lookup.address,\r\n    name: reverseLookup.ENSName ? reverseLookup.ENSName : !validated && lookup.address ? nameOrAddress || null : null\r\n  }\r\n}\r\n","import React, { useContext, useCallback } from 'react'\r\nimport styled, { ThemeContext } from 'styled-components'\r\nimport useENS from '../../hooks/useENS'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { ExternalLink, TYPE } from '../../theme'\r\nimport { AutoColumn } from '../Column'\r\nimport { RowBetween } from '../Row'\r\nimport { getEtherscanLink } from '../../utils'\r\n\r\nconst InputPanel = styled.div`\r\n  ${({ theme }) => theme.flexColumnNoWrap}\r\n  position: relative;\r\n  border-radius: 1.25rem;\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  z-index: 1;\r\n  width: 100%;\r\n`\r\n\r\nconst ContainerRow = styled.div<{ error: boolean }>`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 1.25rem;\r\n  border: 1px solid ${({ error, theme }) => (error ? theme.red1 : theme.bg2)};\r\n  transition: border-color 300ms ${({ error }) => (error ? 'step-end' : 'step-start')},\r\n    color 500ms ${({ error }) => (error ? 'step-end' : 'step-start')};\r\n  background-color: ${({ theme }) => theme.bg1};\r\n`\r\n\r\nconst InputContainer = styled.div`\r\n  flex: 1;\r\n  padding: 1rem;\r\n`\r\n\r\nconst Input = styled.input<{ error?: boolean }>`\r\n  font-size: 1.25rem;\r\n  outline: none;\r\n  border: none;\r\n  flex: 1 1 auto;\r\n  width: 0;\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  transition: color 300ms ${({ error }) => (error ? 'step-end' : 'step-start')};\r\n  color: ${({ error, theme }) => (error ? theme.red1 : theme.primary1)};\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  font-weight: 500;\r\n  width: 100%;\r\n  ::placeholder {\r\n    color: ${({ theme }) => theme.text4};\r\n  }\r\n  padding: 0px;\r\n  -webkit-appearance: textfield;\r\n\r\n  ::-webkit-search-decoration {\r\n    -webkit-appearance: none;\r\n  }\r\n\r\n  ::-webkit-outer-spin-button,\r\n  ::-webkit-inner-spin-button {\r\n    -webkit-appearance: none;\r\n  }\r\n\r\n  ::placeholder {\r\n    color: ${({ theme }) => theme.text4};\r\n  }\r\n`\r\n\r\nexport default function AddressInputPanel({\r\n  id,\r\n  value,\r\n  onChange,\r\n  label=\"Recipient\",\r\n  placeholder=\"Wallet Address or ENS name\",\r\n  showEtherscanLink=true\r\n}: {\r\n  id?: string\r\n  // the typed string value\r\n  value: string\r\n  // triggers whenever the typed value changes\r\n  onChange: (value: string) => void\r\n  label?: string,\r\n  placeholder?: string,\r\n  showEtherscanLink?: boolean\r\n}) {\r\n  const { chainId } = useActiveWeb3React()\r\n  const theme = useContext(ThemeContext)\r\n\r\n  const { address, loading, name } = useENS(value)\r\n\r\n  const handleInput = useCallback(\r\n    event => {\r\n      const input = event.target.value\r\n      const withoutSpaces = input.replace(/\\s+/g, '')\r\n      onChange(withoutSpaces)\r\n    },\r\n    [onChange]\r\n  )\r\n\r\n  const error = Boolean(value.length > 0 && !loading && !address)\r\n\r\n  return (\r\n    <InputPanel id={id}>\r\n      <ContainerRow error={error}>\r\n        <InputContainer>\r\n          <AutoColumn gap=\"md\">\r\n            <RowBetween>\r\n              <TYPE.black color={theme.text2} fontWeight={500} fontSize={14}>\r\n                {label}\r\n              </TYPE.black>\r\n              {showEtherscanLink && address && chainId && (\r\n                <ExternalLink href={getEtherscanLink(chainId, name ?? address, 'address')} style={{ fontSize: '14px' }}>\r\n                  (View on Etherscan)\r\n                </ExternalLink>\r\n              )}\r\n            </RowBetween>\r\n            <Input\r\n              className=\"recipient-address-input\"\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              autoCorrect=\"off\"\r\n              autoCapitalize=\"off\"\r\n              spellCheck=\"false\"\r\n              placeholder={placeholder}\r\n              error={error}\r\n              pattern=\"^(0x[a-fA-F0-9]{40})$\"\r\n              onChange={handleInput}\r\n              value={value}\r\n            />\r\n          </AutoColumn>\r\n        </InputContainer>\r\n      </ContainerRow>\r\n    </InputPanel>\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport styled, { ThemeContext } from 'styled-components'\r\nimport Modal from '../Modal'\r\nimport { ExternalLink } from '../../theme'\r\nimport { Text } from 'rebass'\r\nimport { CloseIcon, Spinner } from '../../theme/components'\r\nimport { RowBetween } from '../Row'\r\nimport { AlertTriangle, ArrowUpCircle } from 'react-feather'\r\nimport { ButtonPrimary } from '../Button'\r\nimport { AutoColumn, ColumnCenter } from '../Column'\r\nimport Circle from '../../assets/images/blue-loader.svg'\r\n\r\nimport { getEtherscanLink } from '../../utils'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { ChainId } from 'src/sdk'\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n`\r\nconst Section = styled(AutoColumn)`\r\n  padding: 24px;\r\n`\r\n\r\nconst BottomSection = styled(Section)`\r\n  background-color: ${({ theme }) => theme.bg2};\r\n  border-bottom-left-radius: 20px;\r\n  border-bottom-right-radius: 20px;\r\n`\r\n\r\nconst ConfirmedIcon = styled(ColumnCenter)`\r\n  padding: 60px 0;\r\n`\r\n\r\nconst CustomLightSpinner = styled(Spinner)<{ size: string }>`\r\n  height: ${({ size }) => size};\r\n  width: ${({ size }) => size};\r\n`\r\n\r\nfunction ConfirmationPendingContent({ onDismiss, pendingText }: { onDismiss: () => void; pendingText: string }) {\r\n  return (\r\n    <Wrapper>\r\n      <Section>\r\n        <RowBetween>\r\n          <div />\r\n          <CloseIcon onClick={onDismiss} />\r\n        </RowBetween>\r\n        <ConfirmedIcon>\r\n          <CustomLightSpinner src={Circle} alt=\"loader\" size={'90px'} />\r\n        </ConfirmedIcon>\r\n        <AutoColumn gap=\"12px\" justify={'center'}>\r\n          <Text fontWeight={500} fontSize={20}>\r\n            Waiting For Confirmation\r\n          </Text>\r\n          <AutoColumn gap=\"12px\" justify={'center'}>\r\n            <Text fontWeight={600} fontSize={14} color=\"\" textAlign=\"center\">\r\n              {pendingText}\r\n            </Text>\r\n          </AutoColumn>\r\n          <Text fontSize={12} color=\"#565A69\" textAlign=\"center\">\r\n            Confirm this transaction in your wallet\r\n          </Text>\r\n        </AutoColumn>\r\n      </Section>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nfunction TransactionSubmittedContent({\r\n  onDismiss,\r\n  chainId,\r\n  hash\r\n}: {\r\n  onDismiss: () => void\r\n  hash: string | undefined\r\n  chainId: ChainId\r\n}) {\r\n  const theme = useContext(ThemeContext)\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Section>\r\n        <RowBetween>\r\n          <div />\r\n          <CloseIcon onClick={onDismiss} />\r\n        </RowBetween>\r\n        <ConfirmedIcon>\r\n          <ArrowUpCircle strokeWidth={0.5} size={90} color={theme.primary1} />\r\n        </ConfirmedIcon>\r\n        <AutoColumn gap=\"12px\" justify={'center'}>\r\n          <Text fontWeight={500} fontSize={20}>\r\n            Transaction Submitted\r\n          </Text>\r\n\r\n          {chainId && hash && (\r\n            <ExternalLink href={getEtherscanLink(chainId, hash, 'transaction')}>\r\n              <Text fontWeight={500} fontSize={14} color={theme.primary1}>\r\n                View on Etherscan\r\n              </Text>\r\n            </ExternalLink>\r\n          )}\r\n          <ButtonPrimary onClick={onDismiss} style={{ margin: '20px 0 0 0' }}>\r\n            <Text fontWeight={500} fontSize={20}>\r\n              Close\r\n            </Text>\r\n          </ButtonPrimary>\r\n        </AutoColumn>\r\n      </Section>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport function ConfirmationModalContent({\r\n  title,\r\n  bottomContent,\r\n  onDismiss,\r\n  topContent\r\n}: {\r\n  title: string\r\n  onDismiss: () => void\r\n  topContent: () => React.ReactNode\r\n  bottomContent: () => React.ReactNode\r\n}) {\r\n  return (\r\n    <Wrapper>\r\n      <Section>\r\n        <RowBetween>\r\n          <Text fontWeight={500} fontSize={20}>\r\n            {title}\r\n          </Text>\r\n          <CloseIcon onClick={onDismiss} />\r\n        </RowBetween>\r\n        {topContent()}\r\n      </Section>\r\n      <BottomSection gap=\"12px\">{bottomContent()}</BottomSection>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport function TransactionErrorContent({ message, onDismiss }: { message: string; onDismiss: () => void }) {\r\n  const theme = useContext(ThemeContext)\r\n  return (\r\n    <Wrapper>\r\n      <Section>\r\n        <RowBetween>\r\n          <Text fontWeight={500} fontSize={20}>\r\n            Error\r\n          </Text>\r\n          <CloseIcon onClick={onDismiss} />\r\n        </RowBetween>\r\n        <AutoColumn style={{ marginTop: 20, padding: '2rem 0' }} gap=\"24px\" justify=\"center\">\r\n          <AlertTriangle color={theme.red1} style={{ strokeWidth: 1.5 }} size={64} />\r\n          <Text fontWeight={500} fontSize={16} color={theme.red1} style={{ textAlign: 'center', width: '85%' }}>\r\n            {message}\r\n          </Text>\r\n        </AutoColumn>\r\n      </Section>\r\n      <BottomSection gap=\"12px\">\r\n        <ButtonPrimary onClick={onDismiss}>Dismiss</ButtonPrimary>\r\n      </BottomSection>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\ninterface ConfirmationModalProps {\r\n  isOpen: boolean\r\n  onDismiss: () => void\r\n  hash: string | undefined\r\n  content: () => React.ReactNode\r\n  attemptingTxn: boolean\r\n  pendingText: string\r\n}\r\n\r\nexport default function TransactionConfirmationModal({\r\n  isOpen,\r\n  onDismiss,\r\n  attemptingTxn,\r\n  hash,\r\n  pendingText,\r\n  content\r\n}: ConfirmationModalProps) {\r\n  const { chainId } = useActiveWeb3React()\r\n\r\n  if (!chainId) return null\r\n\r\n  // confirmation screen\r\n  return (\r\n    <Modal isOpen={isOpen} onDismiss={onDismiss} maxHeight={90}>\r\n      {attemptingTxn ? (\r\n        <ConfirmationPendingContent onDismiss={onDismiss} pendingText={pendingText} />\r\n      ) : hash ? (\r\n        <TransactionSubmittedContent chainId={chainId} hash={hash} onDismiss={onDismiss} />\r\n      ) : (\r\n        content()\r\n      )}\r\n    </Modal>\r\n  )\r\n}\r\n","import { createAction } from '@reduxjs/toolkit'\r\n\r\nexport enum Field {\r\n  INPUT = 'INPUT',\r\n  OUTPUT = 'OUTPUT'\r\n}\r\n\r\nexport const selectCurrency = createAction<{ field: Field; currencyId: string }>('swap/selectCurrency')\r\nexport const switchCurrencies = createAction<void>('swap/switchCurrencies')\r\nexport const typeInput = createAction<{ field: Field; typedValue: string }>('swap/typeInput')\r\nexport const replaceSwapState = createAction<{\r\n  field: Field\r\n  typedValue: string\r\n  inputCurrencyId?: string\r\n  outputCurrencyId?: string\r\n  recipient: string | null\r\n}>('swap/replaceSwapState')\r\nexport const setRecipient = createAction<{ recipient: string | null }>('swap/setRecipient')\r\n","import { BLOCKED_PRICE_IMPACT_NON_EXPERT } from '../constants'\r\nimport { CurrencyAmount, Fraction, JSBI, Percent, TokenAmount, Trade } from 'src/sdk'\r\nimport { ALLOWED_PRICE_IMPACT_HIGH, ALLOWED_PRICE_IMPACT_LOW, ALLOWED_PRICE_IMPACT_MEDIUM } from '../constants'\r\nimport { Field } from '../state/swap/actions'\r\nimport { basisPointsToPercent } from './index'\r\n\r\nconst BASE_FEE = new Percent(JSBI.BigInt(30), JSBI.BigInt(10000))\r\nconst ONE_HUNDRED_PERCENT = new Percent(JSBI.BigInt(10000), JSBI.BigInt(10000))\r\nconst INPUT_FRACTION_AFTER_FEE = ONE_HUNDRED_PERCENT.subtract(BASE_FEE)\r\n\r\n// computes price breakdown for the trade\r\nexport function computeTradePriceBreakdown(\r\n  trade?: Trade\r\n): { priceImpactWithoutFee?: Percent; realizedLPFee?: CurrencyAmount } {\r\n  // for each hop in our trade, take away the x*y=k price impact from 0.3% fees\r\n  // e.g. for 3 tokens/2 hops: 1 - ((1 - .03) * (1-.03))\r\n  const realizedLPFee = !trade\r\n    ? undefined\r\n    : ONE_HUNDRED_PERCENT.subtract(\r\n        trade.route.pairs.reduce<Fraction>(\r\n          (currentFee: Fraction): Fraction => currentFee.multiply(INPUT_FRACTION_AFTER_FEE),\r\n          ONE_HUNDRED_PERCENT\r\n        )\r\n      )\r\n\r\n  // remove lp fees from price impact\r\n  const priceImpactWithoutFeeFraction = trade && realizedLPFee ? trade.priceImpact.subtract(realizedLPFee) : undefined\r\n\r\n  // the x*y=k impact\r\n  const priceImpactWithoutFeePercent = priceImpactWithoutFeeFraction\r\n    ? new Percent(priceImpactWithoutFeeFraction?.numerator, priceImpactWithoutFeeFraction?.denominator)\r\n    : undefined\r\n\r\n  // the amount of the input that accrues to LPs\r\n  const realizedLPFeeAmount =\r\n    realizedLPFee &&\r\n    trade &&\r\n    (trade.inputAmount instanceof TokenAmount\r\n      ? new TokenAmount(trade.inputAmount.token, realizedLPFee.multiply(trade.inputAmount.raw).quotient)\r\n      : CurrencyAmount.ether(realizedLPFee.multiply(trade.inputAmount.raw).quotient))\r\n\r\n  return { priceImpactWithoutFee: priceImpactWithoutFeePercent, realizedLPFee: realizedLPFeeAmount }\r\n}\r\n\r\n// computes the minimum amount out and maximum amount in for a trade given a user specified allowed slippage in bips\r\nexport function computeSlippageAdjustedAmounts(\r\n  trade: Trade | undefined,\r\n  allowedSlippage: number\r\n): { [field in Field]?: CurrencyAmount } {\r\n  const pct = basisPointsToPercent(allowedSlippage)\r\n  return {\r\n    [Field.INPUT]: trade?.maximumAmountIn(pct),\r\n    [Field.OUTPUT]: trade?.minimumAmountOut(pct)\r\n  }\r\n}\r\n\r\nexport function warningSeverity(priceImpact: Percent | undefined): 0 | 1 | 2 | 3 | 4 {\r\n  if (!priceImpact?.lessThan(BLOCKED_PRICE_IMPACT_NON_EXPERT)) return 4\r\n  if (!priceImpact?.lessThan(ALLOWED_PRICE_IMPACT_HIGH)) return 3\r\n  if (!priceImpact?.lessThan(ALLOWED_PRICE_IMPACT_MEDIUM)) return 2\r\n  if (!priceImpact?.lessThan(ALLOWED_PRICE_IMPACT_LOW)) return 1\r\n  return 0\r\n}\r\n\r\nexport function formatExecutionPrice(trade?: Trade, inverted?: boolean): string {\r\n  if (!trade) {\r\n    return ''\r\n  }\r\n  return inverted\r\n    ? `${trade.executionPrice.invert().toSignificant(6)} ${trade.inputAmount.currency.symbol} / ${\r\n        trade.outputAmount.currency.symbol\r\n      }`\r\n    : `${trade.executionPrice.toSignificant(6)} ${trade.outputAmount.currency.symbol} / ${\r\n        trade.inputAmount.currency.symbol\r\n      }`\r\n}\r\n","import { transparentize } from 'polished'\r\nimport React from 'react'\r\nimport { AlertTriangle } from 'react-feather'\r\nimport styled, { css } from 'styled-components'\r\nimport { Text } from 'rebass'\r\nimport { AutoColumn } from '../Column'\r\n\r\nexport const Wrapper = styled.div`\r\n  position: relative;\r\n`\r\n\r\nexport const ArrowWrapper = styled.div<{ clickable: boolean }>`\r\n  padding: 2px;\r\n\r\n  ${({ clickable }) =>\r\n    clickable\r\n      ? css`\r\n          :hover {\r\n            cursor: pointer;\r\n            opacity: 0.8;\r\n          }\r\n        `\r\n      : null}\r\n`\r\n\r\nexport const SectionBreak = styled.div`\r\n  height: 1px;\r\n  width: 100%;\r\n  background-color: ${({ theme }) => theme.bg3};\r\n`\r\n\r\nexport const BottomGrouping = styled.div`\r\n  margin-top: 1rem;\r\n`\r\n\r\nexport const ErrorText = styled(Text)<{ severity?: 0 | 1 | 2 | 3 | 4 }>`\r\n  color: ${({ theme, severity }) =>\r\n    severity === 3 || severity === 4\r\n      ? theme.red1\r\n      : severity === 2\r\n      ? theme.yellow2\r\n      : severity === 1\r\n      ? theme.text1\r\n      : theme.green1};\r\n`\r\n\r\nexport const StyledBalanceMaxMini = styled.button`\r\n  height: 22px;\r\n  width: 22px;\r\n  background-color: ${({ theme }) => theme.bg2};\r\n  border: none;\r\n  border-radius: 50%;\r\n  padding: 0.2rem;\r\n  font-size: 0.875rem;\r\n  font-weight: 400;\r\n  margin-left: 0.4rem;\r\n  cursor: pointer;\r\n  color: ${({ theme }) => theme.text2};\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  float: right;\r\n\r\n  :hover {\r\n    background-color: ${({ theme }) => theme.bg3};\r\n  }\r\n  :focus {\r\n    background-color: ${({ theme }) => theme.bg3};\r\n    outline: none;\r\n  }\r\n`\r\n\r\nexport const TruncatedText = styled(Text)`\r\n  text-overflow: ellipsis;\r\n  width: 220px;\r\n  overflow: hidden;\r\n`\r\n\r\n// styles\r\nexport const Dots = styled.span`\r\n  &::after {\r\n    display: inline-block;\r\n    animation: ellipsis 1.25s infinite;\r\n    content: '.';\r\n    width: 1em;\r\n    text-align: left;\r\n  }\r\n  @keyframes ellipsis {\r\n    0% {\r\n      content: '.';\r\n    }\r\n    33% {\r\n      content: '..';\r\n    }\r\n    66% {\r\n      content: '...';\r\n    }\r\n  }\r\n`\r\n\r\nconst SwapCallbackErrorInner = styled.div`\r\n  background-color: ${({ theme }) => transparentize(0.9, theme.red1)};\r\n  border-radius: 1rem;\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 0.825rem;\r\n  width: 100%;\r\n  padding: 3rem 1.25rem 1rem 1rem;\r\n  margin-top: -2rem;\r\n  color: ${({ theme }) => theme.red1};\r\n  z-index: -1;\r\n  p {\r\n    padding: 0;\r\n    margin: 0;\r\n    font-weight: 500;\r\n  }\r\n`\r\n\r\nconst SwapCallbackErrorInnerAlertTriangle = styled.div`\r\n  background-color: ${({ theme }) => transparentize(0.9, theme.red1)};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-right: 12px;\r\n  border-radius: 12px;\r\n  min-width: 48px;\r\n  height: 48px;\r\n`\r\n\r\nexport function SwapCallbackError({ error }: { error: string }) {\r\n  return (\r\n    <SwapCallbackErrorInner>\r\n      <SwapCallbackErrorInnerAlertTriangle>\r\n        <AlertTriangle size={24} />\r\n      </SwapCallbackErrorInnerAlertTriangle>\r\n      <p>{error}</p>\r\n    </SwapCallbackErrorInner>\r\n  )\r\n}\r\n\r\nexport const SwapShowAcceptChanges = styled(AutoColumn)`\r\n  background-color: ${({ theme }) => transparentize(0.9, theme.primary1)};\r\n  color: ${({ theme }) => theme.primary1};\r\n  padding: 0.5rem;\r\n  border-radius: 12px;\r\n  margin-top: 8px;\r\n`\r\n","import { Percent } from 'src/sdk'\r\nimport React from 'react'\r\nimport { ONE_BIPS } from '../../constants'\r\nimport { warningSeverity } from '../../utils/prices'\r\nimport { ErrorText } from './styleds'\r\n\r\n/**\r\n * Formatted version of price impact text with warning colors\r\n */\r\nexport default function FormattedPriceImpact({ priceImpact }: { priceImpact?: Percent }) {\r\n  return (\r\n    <ErrorText fontWeight={500} fontSize={14} severity={warningSeverity(priceImpact)}>\r\n      {priceImpact ? (priceImpact.lessThan(ONE_BIPS) ? '<0.01%' : `${priceImpact.toFixed(2)}%`) : '-'}\r\n    </ErrorText>\r\n  )\r\n}\r\n","import { Trade, TradeType } from 'src/sdk'\r\nimport React, { useContext, useMemo, useState } from 'react'\r\nimport { Repeat } from 'react-feather'\r\nimport { Text } from 'rebass'\r\nimport { ThemeContext } from 'styled-components'\r\nimport { Field } from '../../state/swap/actions'\r\nimport { TYPE } from '../../theme'\r\nimport {\r\n  computeSlippageAdjustedAmounts,\r\n  computeTradePriceBreakdown,\r\n  formatExecutionPrice,\r\n  warningSeverity\r\n} from '../../utils/prices'\r\nimport { ButtonError } from '../Button'\r\nimport { AutoColumn } from '../Column'\r\nimport QuestionHelper from '../QuestionHelper'\r\nimport { AutoRow, RowBetween, RowFixed } from '../Row'\r\nimport FormattedPriceImpact from './FormattedPriceImpact'\r\nimport { StyledBalanceMaxMini, SwapCallbackError } from './styleds'\r\n\r\nexport default function SwapModalFooter({\r\n  trade,\r\n  onConfirm,\r\n  allowedSlippage,\r\n  swapErrorMessage,\r\n  disabledConfirm\r\n}: {\r\n  trade: Trade\r\n  allowedSlippage: number\r\n  onConfirm: () => void\r\n  swapErrorMessage: string | undefined\r\n  disabledConfirm: boolean\r\n}) {\r\n  const [showInverted, setShowInverted] = useState<boolean>(false)\r\n  const theme = useContext(ThemeContext)\r\n  const slippageAdjustedAmounts = useMemo(() => computeSlippageAdjustedAmounts(trade, allowedSlippage), [\r\n    allowedSlippage,\r\n    trade\r\n  ])\r\n  const { priceImpactWithoutFee, realizedLPFee } = useMemo(() => computeTradePriceBreakdown(trade), [trade])\r\n  const severity = warningSeverity(priceImpactWithoutFee)\r\n\r\n  return (\r\n    <>\r\n      <AutoColumn gap=\"0px\">\r\n        <RowBetween align=\"center\">\r\n          <Text fontWeight={400} fontSize={14} color={theme.text2}>\r\n            Price\r\n          </Text>\r\n          <Text\r\n            fontWeight={500}\r\n            fontSize={14}\r\n            color={theme.text1}\r\n            style={{\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n              display: 'flex',\r\n              textAlign: 'right',\r\n              paddingLeft: '10px'\r\n            }}\r\n          >\r\n            {formatExecutionPrice(trade, showInverted)}\r\n            <StyledBalanceMaxMini onClick={() => setShowInverted(!showInverted)}>\r\n              <Repeat size={14} />\r\n            </StyledBalanceMaxMini>\r\n          </Text>\r\n        </RowBetween>\r\n\r\n        <RowBetween>\r\n          <RowFixed>\r\n            <TYPE.black fontSize={14} fontWeight={400} color={theme.text2}>\r\n              {trade.tradeType === TradeType.EXACT_INPUT ? 'Minimum received' : 'Maximum sold'}\r\n            </TYPE.black>\r\n            <QuestionHelper text=\"Your transaction will revert if there is a large, unfavorable price movement before it is confirmed.\" />\r\n          </RowFixed>\r\n          <RowFixed>\r\n            <TYPE.black fontSize={14}>\r\n              {trade.tradeType === TradeType.EXACT_INPUT\r\n                ? slippageAdjustedAmounts[Field.OUTPUT]?.toSignificant(4) ?? '-'\r\n                : slippageAdjustedAmounts[Field.INPUT]?.toSignificant(4) ?? '-'}\r\n            </TYPE.black>\r\n            <TYPE.black fontSize={14} marginLeft={'4px'}>\r\n              {trade.tradeType === TradeType.EXACT_INPUT\r\n                ? trade.outputAmount.currency.symbol\r\n                : trade.inputAmount.currency.symbol}\r\n            </TYPE.black>\r\n          </RowFixed>\r\n        </RowBetween>\r\n        <RowBetween>\r\n          <RowFixed>\r\n            <TYPE.black color={theme.text2} fontSize={14} fontWeight={400}>\r\n              Price Impact\r\n            </TYPE.black>\r\n            <QuestionHelper text=\"The difference between the market price and your price due to trade size.\" />\r\n          </RowFixed>\r\n          <FormattedPriceImpact priceImpact={priceImpactWithoutFee} />\r\n        </RowBetween>\r\n        <RowBetween>\r\n          <RowFixed>\r\n            <TYPE.black fontSize={14} fontWeight={400} color={theme.text2}>\r\n              Liquidity Provider Fee\r\n            </TYPE.black>\r\n            <QuestionHelper text=\"A portion of each trade (0.30%) goes to liquidity providers as a protocol incentive.\" />\r\n          </RowFixed>\r\n          <TYPE.black fontSize={14}>\r\n            {realizedLPFee ? realizedLPFee?.toSignificant(6) + ' ' + trade.inputAmount.currency.symbol : '-'}\r\n          </TYPE.black>\r\n        </RowBetween>\r\n      </AutoColumn>\r\n\r\n      <AutoRow>\r\n        <ButtonError\r\n          onClick={onConfirm}\r\n          disabled={disabledConfirm}\r\n          error={severity > 2}\r\n          style={{ margin: '10px 0 0 0' }}\r\n          id=\"confirm-swap-or-send\"\r\n        >\r\n          <Text fontSize={20} fontWeight={500}>\r\n            {severity > 2 ? 'Swap Anyway' : 'Confirm Swap'}\r\n          </Text>\r\n        </ButtonError>\r\n\r\n        {swapErrorMessage ? <SwapCallbackError error={swapErrorMessage} /> : null}\r\n      </AutoRow>\r\n    </>\r\n  )\r\n}\r\n","import CID from 'cids'\r\nimport { getCodec, rmPrefix } from 'multicodec'\r\nimport { decode, toB58String } from 'multihashes'\r\n\r\nexport function hexToUint8Array(hex: string): Uint8Array {\r\n  hex = hex.startsWith('0x') ? hex.substr(2) : hex\r\n  if (hex.length % 2 !== 0) throw new Error('hex must have length that is multiple of 2')\r\n  const arr = new Uint8Array(hex.length / 2)\r\n  for (let i = 0; i < arr.length; i++) {\r\n    arr[i] = parseInt(hex.substr(i * 2, 2), 16)\r\n  }\r\n  return arr\r\n}\r\n\r\nconst UTF_8_DECODER = new TextDecoder()\r\n\r\n/**\r\n * Returns the URI representation of the content hash for supported codecs\r\n * @param contenthash to decode\r\n */\r\nexport default function contenthashToUri(contenthash: string): string {\r\n  const buff = hexToUint8Array(contenthash)\r\n  const codec = getCodec(buff as Buffer) // the typing is wrong for @types/multicodec\r\n  switch (codec) {\r\n    case 'ipfs-ns': {\r\n      const data = rmPrefix(buff as Buffer)\r\n      const cid = new CID(data)\r\n      return `ipfs://${toB58String(cid.multihash)}`\r\n    }\r\n    case 'ipns-ns': {\r\n      const data = rmPrefix(buff as Buffer)\r\n      const cid = new CID(data)\r\n      const multihash = decode(cid.multihash)\r\n      if (multihash.name === 'identity') {\r\n        return `ipns://${UTF_8_DECODER.decode(multihash.digest).trim()}`\r\n      } else {\r\n        return `ipns://${toB58String(cid.multihash)}`\r\n      }\r\n    }\r\n    default:\r\n      throw new Error(`Unrecognized codec: ${codec}`)\r\n  }\r\n}\r\n","const ENS_NAME_REGEX = /^(([a-zA-Z0-9]+\\.)+)eth(\\/.*)?$/\r\n\r\nexport function parseENSAddress(ensAddress: string): { ensName: string; ensPath: string | undefined } | undefined {\r\n  const match = ensAddress.match(ENS_NAME_REGEX)\r\n  if (!match) return undefined\r\n  return { ensName: `${match[1].toLowerCase()}eth`, ensPath: match[3] }\r\n}\r\n","/**\r\n * Given a URI that may be ipfs, ipns, http, or https protocol, return the fetch-able http(s) URLs for the same content\r\n * @param uri to convert to fetch-able http url\r\n */\r\nexport default function uriToHttp(uri: string): string[] {\r\n  const protocol = uri.split(':')[0].toLowerCase()\r\n  switch (protocol) {\r\n    case 'https':\r\n      return [uri]\r\n    case 'http':\r\n      return ['https' + uri.substr(4), uri]\r\n    case 'ipfs':\r\n      const hash = uri.match(/^ipfs:(\\/\\/)?(.*)$/i)?.[2]\r\n      return [`https://cloudflare-ipfs.com/ipfs/${hash}/`, `https://ipfs.io/ipfs/${hash}/`]\r\n    case 'ipns':\r\n      const name = uri.match(/^ipns:(\\/\\/)?(.*)$/i)?.[2]\r\n      return [`https://cloudflare-ipfs.com/ipns/${name}/`, `https://ipfs.io/ipns/${name}/`]\r\n    default:\r\n      return [uri]\r\n  }\r\n}\r\n","import { useMemo } from 'react'\r\nimport contenthashToUri from '../utils/contenthashToUri'\r\nimport { parseENSAddress } from '../utils/parseENSAddress'\r\nimport uriToHttp from '../utils/uriToHttp'\r\nimport useENSContentHash from './useENSContentHash'\r\n\r\nexport default function useHttpLocations(uri: string | undefined): string[] {\r\n  const ens = useMemo(() => (uri ? parseENSAddress(uri) : undefined), [uri])\r\n  const resolvedContentHash = useENSContentHash(ens?.ensName)\r\n  return useMemo(() => {\r\n    if (ens) {\r\n      return resolvedContentHash.contenthash ? uriToHttp(contenthashToUri(resolvedContentHash.contenthash)) : []\r\n    } else {\r\n      return uri ? uriToHttp(uri) : []\r\n    }\r\n  }, [ens, resolvedContentHash.contenthash, uri])\r\n}\r\n","import { namehash } from 'ethers/lib/utils'\r\nimport { useMemo } from 'react'\r\nimport { useSingleCallResult } from '../state/multicall/hooks'\r\nimport isZero from '../utils/isZero'\r\nimport { useENSRegistrarContract, useENSResolverContract } from './useContract'\r\n\r\n/**\r\n * Does a lookup for an ENS name to find its contenthash.\r\n */\r\nexport default function useENSContentHash(ensName?: string | null): { loading: boolean; contenthash: string | null } {\r\n  const ensNodeArgument = useMemo(() => {\r\n    if (!ensName) return [undefined]\r\n    try {\r\n      return ensName ? [namehash(ensName)] : [undefined]\r\n    } catch (error) {\r\n      return [undefined]\r\n    }\r\n  }, [ensName])\r\n  const registrarContract = useENSRegistrarContract(false)\r\n  const resolverAddressResult = useSingleCallResult(registrarContract, 'resolver', ensNodeArgument)\r\n  const resolverAddress = resolverAddressResult.result?.[0]\r\n  const resolverContract = useENSResolverContract(\r\n    resolverAddress && isZero(resolverAddress) ? undefined : resolverAddress,\r\n    false\r\n  )\r\n  const contenthash = useSingleCallResult(resolverContract, 'contenthash', ensNodeArgument)\r\n\r\n  return {\r\n    contenthash: contenthash.result?.[0] ?? null,\r\n    loading: resolverAddressResult.loading || contenthash.loading\r\n  }\r\n}\r\n","import React, { useState } from 'react'\r\nimport { HelpCircle } from 'react-feather'\r\nimport { ImageProps } from 'rebass'\r\n\r\nconst BAD_SRCS: { [tokenAddress: string]: true } = {}\r\n\r\nexport interface LogoProps extends Pick<ImageProps, 'style' | 'alt' | 'className'> {\r\n  srcs: string[]\r\n}\r\n\r\n/**\r\n * Renders an image by sequentially trying a list of URIs, and then eventually a fallback triangle alert\r\n */\r\nexport default function Logo({ srcs, alt, ...rest }: LogoProps) {\r\n  const [, refresh] = useState<number>(0)\r\n\r\n  const src: string | undefined = srcs.find(src => !BAD_SRCS[src])\r\n\r\n  if (src) {\r\n    return (\r\n      <img\r\n        {...rest}\r\n        alt={alt}\r\n        src={src}\r\n        onError={() => {\r\n          if (src) BAD_SRCS[src] = true\r\n          refresh(i => i + 1)\r\n        }}\r\n      />\r\n    )\r\n  }\r\n\r\n  return <HelpCircle {...rest} />\r\n}\r\n","import { Currency, ETHER, Token } from 'src/sdk'\r\nimport React, { useMemo } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport { WrappedTokenInfo } from '../../hooks/Tokens'\r\nimport useHttpLocations from '../../hooks/useHttpLocations'\r\nimport EthereumLogo from '../../assets/images/ethereum-logo.png'\r\nimport Logo from '../Logo'\r\n\r\nconst getTokenLogoURL = (address: string) =>\r\n  `https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/${address}/logo.png`\r\n\r\nconst StyledEthereumLogo = styled.img<{ size: string }>`\r\n  width: ${({ size }) => size};\r\n  height: ${({ size }) => size};\r\n  box-shadow: 0px 6px 10px rgba(0, 0, 0, 0.075);\r\n  border-radius: 24px;\r\n`\r\n\r\nconst StyledLogo = styled(Logo)<{ size: string }>`\r\n  width: ${({ size }) => size};\r\n  height: ${({ size }) => size};\r\n`\r\n\r\nexport default function CurrencyLogo({\r\n  currency,\r\n  size = '24px',\r\n  style\r\n}: {\r\n  currency?: Currency\r\n  size?: string\r\n  style?: React.CSSProperties\r\n}) {\r\n  const uriLocations = useHttpLocations(currency instanceof WrappedTokenInfo ? currency.logoURI : undefined)\r\n\r\n  const srcs: string[] = useMemo(() => {\r\n    if (currency === ETHER) return []\r\n\r\n    if (currency instanceof Token) {\r\n      if (currency instanceof WrappedTokenInfo) {\r\n        return [...uriLocations, getTokenLogoURL(currency.address)]\r\n      }\r\n\r\n      return [getTokenLogoURL(currency.address)]\r\n    }\r\n    return []\r\n  }, [currency, uriLocations])\r\n\r\n  if (currency === ETHER) {\r\n    return <StyledEthereumLogo src={EthereumLogo} size={size} style={style} />\r\n  }\r\n\r\n  return <StyledLogo size={size} srcs={srcs} alt={`${currency?.symbol ?? 'token'} logo`} style={style} />\r\n}\r\n","import { Trade, TradeType } from 'src/sdk'\r\nimport React, { useContext, useMemo } from 'react'\r\nimport { ArrowDown, AlertTriangle } from 'react-feather'\r\nimport { Text } from 'rebass'\r\nimport { ThemeContext } from 'styled-components'\r\nimport { Field } from '../../state/swap/actions'\r\nimport { TYPE } from '../../theme'\r\nimport { ButtonPrimary } from '../Button'\r\nimport { isAddress, shortenAddress } from '../../utils'\r\nimport { computeSlippageAdjustedAmounts, computeTradePriceBreakdown, warningSeverity } from '../../utils/prices'\r\nimport { AutoColumn } from '../Column'\r\nimport CurrencyLogo from '../CurrencyLogo'\r\nimport { RowBetween, RowFixed } from '../Row'\r\nimport { TruncatedText, SwapShowAcceptChanges } from './styleds'\r\n\r\nexport default function SwapModalHeader({\r\n  trade,\r\n  allowedSlippage,\r\n  recipient,\r\n  showAcceptChanges,\r\n  onAcceptChanges\r\n}: {\r\n  trade: Trade\r\n  allowedSlippage: number\r\n  recipient: string | null\r\n  showAcceptChanges: boolean\r\n  onAcceptChanges: () => void\r\n}) {\r\n  const slippageAdjustedAmounts = useMemo(() => computeSlippageAdjustedAmounts(trade, allowedSlippage), [\r\n    trade,\r\n    allowedSlippage\r\n  ])\r\n  const { priceImpactWithoutFee } = useMemo(() => computeTradePriceBreakdown(trade), [trade])\r\n  const priceImpactSeverity = warningSeverity(priceImpactWithoutFee)\r\n\r\n  const theme = useContext(ThemeContext)\r\n\r\n  return (\r\n    <AutoColumn gap=\"md\" style={{ marginTop: '20px' }}>\r\n      <RowBetween align=\"flex-end\">\r\n        <RowFixed gap={'0px'}>\r\n          <CurrencyLogo currency={trade.inputAmount.currency} size={'24px'} style={{ marginRight: '12px' }} />\r\n          <TruncatedText\r\n            fontSize={24}\r\n            fontWeight={500}\r\n            color={showAcceptChanges && trade.tradeType === TradeType.EXACT_OUTPUT ? theme.primary1 : ''}\r\n          >\r\n            {trade.inputAmount.toSignificant(6)}\r\n          </TruncatedText>\r\n        </RowFixed>\r\n        <RowFixed gap={'0px'}>\r\n          <Text fontSize={24} fontWeight={500} style={{ marginLeft: '10px' }}>\r\n            {trade.inputAmount.currency.symbol}\r\n          </Text>\r\n        </RowFixed>\r\n      </RowBetween>\r\n      <RowFixed>\r\n        <ArrowDown size=\"16\" color={theme.text2} style={{ marginLeft: '4px', minWidth: '16px' }} />\r\n      </RowFixed>\r\n      <RowBetween align=\"flex-end\">\r\n        <RowFixed gap={'0px'}>\r\n          <CurrencyLogo currency={trade.outputAmount.currency} size={'24px'} style={{ marginRight: '12px' }} />\r\n          <TruncatedText\r\n            fontSize={24}\r\n            fontWeight={500}\r\n            color={\r\n              priceImpactSeverity > 2\r\n                ? theme.red1\r\n                : showAcceptChanges && trade.tradeType === TradeType.EXACT_INPUT\r\n                ? theme.primary1\r\n                : ''\r\n            }\r\n          >\r\n            {trade.outputAmount.toSignificant(6)}\r\n          </TruncatedText>\r\n        </RowFixed>\r\n        <RowFixed gap={'0px'}>\r\n          <Text fontSize={24} fontWeight={500} style={{ marginLeft: '10px' }}>\r\n            {trade.outputAmount.currency.symbol}\r\n          </Text>\r\n        </RowFixed>\r\n      </RowBetween>\r\n      {showAcceptChanges ? (\r\n        <SwapShowAcceptChanges justify=\"flex-start\" gap={'0px'}>\r\n          <RowBetween>\r\n            <RowFixed>\r\n              <AlertTriangle size={20} style={{ marginRight: '8px', minWidth: 24 }} />\r\n              <TYPE.main color={theme.primary1}> Price Updated</TYPE.main>\r\n            </RowFixed>\r\n            <ButtonPrimary\r\n              style={{ padding: '.5rem', width: 'fit-content', fontSize: '0.825rem', borderRadius: '12px' }}\r\n              onClick={onAcceptChanges}\r\n            >\r\n              Accept\r\n            </ButtonPrimary>\r\n          </RowBetween>\r\n        </SwapShowAcceptChanges>\r\n      ) : null}\r\n      <AutoColumn justify=\"flex-start\" gap=\"sm\" style={{ padding: '12px 0 0 0px' }}>\r\n        {trade.tradeType === TradeType.EXACT_INPUT ? (\r\n          <TYPE.italic textAlign=\"left\" style={{ width: '100%' }}>\r\n            {`Output is estimated. You will receive at least `}\r\n            <b>\r\n              {slippageAdjustedAmounts[Field.OUTPUT]?.toSignificant(6)} {trade.outputAmount.currency.symbol}\r\n            </b>\r\n            {' or the transaction will revert.'}\r\n          </TYPE.italic>\r\n        ) : (\r\n          <TYPE.italic textAlign=\"left\" style={{ width: '100%' }}>\r\n            {`Input is estimated. You will sell at most `}\r\n            <b>\r\n              {slippageAdjustedAmounts[Field.INPUT]?.toSignificant(6)} {trade.inputAmount.currency.symbol}\r\n            </b>\r\n            {' or the transaction will revert.'}\r\n          </TYPE.italic>\r\n        )}\r\n      </AutoColumn>\r\n      {recipient !== null ? (\r\n        <AutoColumn justify=\"flex-start\" gap=\"sm\" style={{ padding: '12px 0 0 0px' }}>\r\n          <TYPE.main>\r\n            Output will be sent to{' '}\r\n            <b title={recipient}>{isAddress(recipient) ? shortenAddress(recipient) : recipient}</b>\r\n          </TYPE.main>\r\n        </AutoColumn>\r\n      ) : null}\r\n    </AutoColumn>\r\n  )\r\n}\r\n","import { currencyEquals, Trade } from 'src/sdk'\r\nimport React, { useCallback, useMemo } from 'react'\r\nimport TransactionConfirmationModal, {\r\n  ConfirmationModalContent,\r\n  TransactionErrorContent\r\n} from '../TransactionConfirmationModal'\r\nimport SwapModalFooter from './SwapModalFooter'\r\nimport SwapModalHeader from './SwapModalHeader'\r\n\r\n/**\r\n * Returns true if the trade requires a confirmation of details before we can submit it\r\n * @param tradeA trade A\r\n * @param tradeB trade B\r\n */\r\nfunction tradeMeaningfullyDiffers(tradeA: Trade, tradeB: Trade): boolean {\r\n  return (\r\n    tradeA.tradeType !== tradeB.tradeType ||\r\n    !currencyEquals(tradeA.inputAmount.currency, tradeB.inputAmount.currency) ||\r\n    !tradeA.inputAmount.equalTo(tradeB.inputAmount) ||\r\n    !currencyEquals(tradeA.outputAmount.currency, tradeB.outputAmount.currency) ||\r\n    !tradeA.outputAmount.equalTo(tradeB.outputAmount)\r\n  )\r\n}\r\n\r\nexport default function ConfirmSwapModal({\r\n  trade,\r\n  originalTrade,\r\n  onAcceptChanges,\r\n  allowedSlippage,\r\n  onConfirm,\r\n  onDismiss,\r\n  recipient,\r\n  swapErrorMessage,\r\n  isOpen,\r\n  attemptingTxn,\r\n  txHash\r\n}: {\r\n  isOpen: boolean\r\n  trade: Trade | undefined\r\n  originalTrade: Trade | undefined\r\n  attemptingTxn: boolean\r\n  txHash: string | undefined\r\n  recipient: string | null\r\n  allowedSlippage: number\r\n  onAcceptChanges: () => void\r\n  onConfirm: () => void\r\n  swapErrorMessage: string | undefined\r\n  onDismiss: () => void\r\n}) {\r\n  const showAcceptChanges = useMemo(\r\n    () => Boolean(trade && originalTrade && tradeMeaningfullyDiffers(trade, originalTrade)),\r\n    [originalTrade, trade]\r\n  )\r\n\r\n  const modalHeader = useCallback(() => {\r\n    return trade ? (\r\n      <SwapModalHeader\r\n        trade={trade}\r\n        allowedSlippage={allowedSlippage}\r\n        recipient={recipient}\r\n        showAcceptChanges={showAcceptChanges}\r\n        onAcceptChanges={onAcceptChanges}\r\n      />\r\n    ) : null\r\n  }, [allowedSlippage, onAcceptChanges, recipient, showAcceptChanges, trade])\r\n\r\n  const modalBottom = useCallback(() => {\r\n    return trade ? (\r\n      <SwapModalFooter\r\n        onConfirm={onConfirm}\r\n        trade={trade}\r\n        disabledConfirm={showAcceptChanges}\r\n        swapErrorMessage={swapErrorMessage}\r\n        allowedSlippage={allowedSlippage}\r\n      />\r\n    ) : null\r\n  }, [allowedSlippage, onConfirm, showAcceptChanges, swapErrorMessage, trade])\r\n\r\n  // text to show while loading\r\n  const pendingText = `Swapping ${trade?.inputAmount?.toSignificant(6)} ${\r\n    trade?.inputAmount?.currency?.symbol\r\n  } for ${trade?.outputAmount?.toSignificant(6)} ${trade?.outputAmount?.currency?.symbol}`\r\n\r\n  const confirmationContent = useCallback(\r\n    () =>\r\n      swapErrorMessage ? (\r\n        <TransactionErrorContent onDismiss={onDismiss} message={swapErrorMessage} />\r\n      ) : (\r\n        <ConfirmationModalContent\r\n          title=\"Confirm Swap\"\r\n          onDismiss={onDismiss}\r\n          topContent={modalHeader}\r\n          bottomContent={modalBottom}\r\n        />\r\n      ),\r\n    [onDismiss, modalBottom, modalHeader, swapErrorMessage]\r\n  )\r\n\r\n  return (\r\n    <TransactionConfirmationModal\r\n      isOpen={isOpen}\r\n      onDismiss={onDismiss}\r\n      attemptingTxn={attemptingTxn}\r\n      hash={txHash}\r\n      content={confirmationContent}\r\n      pendingText={pendingText}\r\n    />\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Text } from 'rebass'\r\nimport { ChainId, Currency, currencyEquals, ETHER, Token } from 'src/sdk'\r\nimport styled from 'styled-components'\r\n\r\nimport { SUGGESTED_BASES, WETH } from '../../constants'\r\nimport { AutoColumn } from '../Column'\r\nimport QuestionHelper from '../QuestionHelper'\r\nimport { AutoRow } from '../Row'\r\nimport CurrencyLogo from '../CurrencyLogo'\r\n\r\nconst BaseWrapper = styled.div<{ disable?: boolean }>`\r\n  border: 1px solid ${({ theme, disable }) => (disable ? 'transparent' : theme.bg3)};\r\n  border-radius: 10px;\r\n  display: flex;\r\n  padding: 6px;\r\n\r\n  align-items: center;\r\n  :hover {\r\n    cursor: ${({ disable }) => !disable && 'pointer'};\r\n    background-color: ${({ theme, disable }) => !disable && theme.bg2};\r\n  }\r\n\r\n  background-color: ${({ theme, disable }) => disable && theme.bg3};\r\n  opacity: ${({ disable }) => disable && '0.4'};\r\n`\r\n\r\nexport default function CommonBases({\r\n  chainId,\r\n  onSelect,\r\n  selectedCurrency\r\n}: {\r\n  chainId?: ChainId\r\n  selectedCurrency?: Currency | null\r\n  onSelect: (currency: Currency) => void\r\n}) {\r\n  return (\r\n    <AutoColumn gap=\"md\">\r\n      <AutoRow>\r\n        <Text fontWeight={500} fontSize={14}>\r\n          Common bases\r\n        </Text>\r\n        <QuestionHelper text=\"These tokens are commonly paired with other tokens.\" />\r\n      </AutoRow>\r\n      <AutoRow gap=\"4px\">\r\n        <BaseWrapper\r\n          onClick={() => {\r\n            if (!selectedCurrency || !currencyEquals(selectedCurrency, ETHER)) {\r\n              onSelect(WETH)\r\n            }\r\n          }}\r\n          disable={selectedCurrency === WETH}\r\n        >\r\n          <CurrencyLogo currency={WETH} style={{ marginRight: 8 }} />\r\n          <Text fontWeight={500} fontSize={16}>\r\n            WETH\r\n          </Text>\r\n        </BaseWrapper>\r\n        {(chainId ? SUGGESTED_BASES[chainId] : []).map((token: Token) => {\r\n          const selected = selectedCurrency instanceof Token && selectedCurrency.address === token.address\r\n          return (\r\n            <BaseWrapper onClick={() => !selected && onSelect(token)} disable={selected} key={token.address}>\r\n              <CurrencyLogo currency={token} style={{ marginRight: 8 }} />\r\n              <Text fontWeight={500} fontSize={16}>\r\n                {token.symbol}\r\n              </Text>\r\n            </BaseWrapper>\r\n          )\r\n        })}\r\n      </AutoRow>\r\n    </AutoColumn>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { AutoColumn } from '../Column'\r\nimport { RowBetween, RowFixed } from '../Row'\r\n\r\nexport const ModalInfo = styled.div`\r\n  ${({ theme }) => theme.flexRowNoWrap}\r\n  align-items: center;\r\n  padding: 1rem 1rem;\r\n  margin: 0.25rem 0.5rem;\r\n  justify-content: center;\r\n  flex: 1;\r\n  user-select: none;\r\n`\r\n\r\nexport const FadedSpan = styled(RowFixed)`\r\n  color: ${({ theme }) => theme.primary1};\r\n  font-size: 14px;\r\n`\r\n\r\nexport const PaddedColumn = styled(AutoColumn)`\r\n  padding: 20px;\r\n  padding-bottom: 12px;\r\n`\r\n\r\nexport const MenuItem = styled(RowBetween)`\r\n  padding: 4px 20px;\r\n  height: 56px;\r\n  display: grid;\r\n  grid-template-columns: auto minmax(auto, 1fr) auto minmax(0, 72px);\r\n  grid-gap: 16px;\r\n  cursor: ${({ disabled }) => !disabled && 'pointer'};\r\n  pointer-events: ${({ disabled }) => disabled && 'none'};\r\n  :hover {\r\n    background-color: ${({ theme, disabled }) => !disabled && theme.bg2};\r\n  }\r\n  opacity: ${({ disabled, selected }) => (disabled || selected ? 0.5 : 1)};\r\n`\r\n\r\nexport const SearchInput = styled.input`\r\n  position: relative;\r\n  display: flex;\r\n  padding: 16px;\r\n  align-items: center;\r\n  width: 100%;\r\n  white-space: nowrap;\r\n  background: none;\r\n  border: none;\r\n  outline: none;\r\n  border-radius: 0.5rem;\r\n  color: ${({ theme }) => theme.text1};\r\n  border-style: solid;\r\n  border: 1px solid ${({ theme }) => theme.bg3};\r\n  -webkit-appearance: none;\r\n\r\n  font-size: 18px;\r\n\r\n  ::placeholder {\r\n    color: ${({ theme }) => theme.text3};\r\n  }\r\n  transition: border 100ms;\r\n  :focus {\r\n    border: 1px solid ${({ theme }) => theme.primary1};\r\n    outline: none;\r\n  }\r\n`\r\nexport const Separator = styled.div`\r\n  width: 100%;\r\n  height: 1px;\r\n  background-color: ${({ theme }) => theme.bg2};\r\n`\r\n\r\nexport const SeparatorDark = styled.div`\r\n  width: 100%;\r\n  height: 1px;\r\n  background-color: ${({ theme }) => theme.bg3};\r\n`\r\n","import { Currency, CurrencyAmount, currencyEquals, ETHER, Token } from 'src/sdk'\r\nimport React, { CSSProperties, MutableRefObject, useCallback, useMemo } from 'react'\r\nimport { FixedSizeList } from 'react-window'\r\nimport { Text } from 'rebass'\r\nimport styled from 'styled-components'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { WrappedTokenInfo } from '../../hooks/Tokens'\r\nimport { useCurrencyBalance, useGroupCurrencyBalance } from '../../state/wallet/hooks'\r\nimport Column from '../Column'\r\nimport { RowFixed } from '../Row'\r\nimport { MouseoverTooltip } from '../Tooltip'\r\nimport CurrencyLogo from '../CurrencyLogo'\r\nimport { MenuItem } from './styleds'\r\nimport Loader from '../Loader'\r\n\r\nfunction currencyKey(currency: Currency): string {\r\n  return currency instanceof Token ? currency.address : currency === ETHER ? 'ETHER' : ''\r\n}\r\n\r\nconst StyledBalanceText = styled(Text)`\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  max-width: 5rem;\r\n  text-overflow: ellipsis;\r\n`\r\n\r\nfunction Balance({ balance }: { balance: CurrencyAmount }) {\r\n  return <StyledBalanceText title={balance.toExact()}>{balance.toSignificant(4)}</StyledBalanceText>\r\n}\r\n\r\nconst Tag = styled.div`\r\n  background-color: ${({ theme }) => theme.bg3};\r\n  color: ${({ theme }) => theme.text2};\r\n  font-size: 14px;\r\n  border-radius: 4px;\r\n  padding: 0.25rem 0.3rem 0.25rem 0.3rem;\r\n  max-width: 6rem;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  justify-self: flex-end;\r\n  margin-right: 4px;\r\n`\r\n\r\nconst TagContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n`\r\n\r\nfunction TokenTags({ currency }: { currency: Currency }) {\r\n  if (!(currency instanceof WrappedTokenInfo)) {\r\n    return <span />\r\n  }\r\n\r\n  const tags = currency.tags\r\n  if (!tags || tags.length === 0) return <span />\r\n\r\n  const tag = tags[0]\r\n\r\n  return (\r\n    <TagContainer>\r\n      <MouseoverTooltip text={tag.description}>\r\n        <Tag key={tag.id}>{tag.name}</Tag>\r\n      </MouseoverTooltip>\r\n      {tags.length > 1 ? (\r\n        <MouseoverTooltip\r\n          text={tags\r\n            .slice(1)\r\n            .map(({ name, description }) => `${name}: ${description}`)\r\n            .join('; \\n')}\r\n        >\r\n          <Tag>...</Tag>\r\n        </MouseoverTooltip>\r\n      ) : null}\r\n    </TagContainer>\r\n  )\r\n}\r\nfunction CurrencyRow({\r\n  currency,\r\n  groupBalance,\r\n  onSelect,\r\n  isSelected,\r\n  otherSelected,\r\n  style\r\n}: {\r\n  currency: Currency\r\n  groupBalance: boolean\r\n  onSelect: () => void\r\n  isSelected: boolean\r\n  otherSelected: boolean\r\n  style: CSSProperties\r\n}) {\r\n  const { account } = useActiveWeb3React()\r\n  const key = currencyKey(currency)\r\n  const groupCurrencyBalance = useGroupCurrencyBalance(account ?? undefined, currency)\r\n  const personalCurrencyBalance = useCurrencyBalance(account ?? undefined, currency)\r\n  const balance = groupBalance ? groupCurrencyBalance : personalCurrencyBalance\r\n\r\n  // only show add or remove buttons if not on selected list\r\n  return (\r\n    <MenuItem\r\n      style={style}\r\n      className={`token-item-${key}`}\r\n      onClick={() => (isSelected ? null : onSelect())}\r\n      disabled={isSelected}\r\n      selected={otherSelected}\r\n    >\r\n      <CurrencyLogo currency={currency} size={'24px'} />\r\n      <Column>\r\n        <Text title={currency.name} fontWeight={500}>\r\n          {currency.symbol}\r\n        </Text>\r\n      </Column>\r\n      <TokenTags currency={currency} />\r\n      <RowFixed style={{ justifySelf: 'flex-end' }}>\r\n        {balance ? <Balance balance={balance} /> : account ? <Loader /> : null}\r\n      </RowFixed>\r\n    </MenuItem>\r\n  )\r\n}\r\n\r\nexport default function CurrencyList({\r\n  height,\r\n  currencies,\r\n  groupBalance,\r\n  selectedCurrency,\r\n  onCurrencySelect,\r\n  otherCurrency,\r\n  fixedListRef,\r\n  showETH\r\n}: {\r\n  height: number\r\n  groupBalance: boolean\r\n  currencies: Currency[]\r\n  selectedCurrency?: Currency | null\r\n  onCurrencySelect: (currency: Currency) => void\r\n  otherCurrency?: Currency | null\r\n  fixedListRef?: MutableRefObject<FixedSizeList | undefined>\r\n  showETH: boolean\r\n}) {\r\n  const itemData = useMemo(() => (showETH ? [Currency.ETHER, ...currencies] : currencies), [currencies, showETH])\r\n\r\n  const Row = useCallback(\r\n    ({ data, index, style }) => {\r\n      const currency: Currency = data[index]\r\n      const isSelected = Boolean(selectedCurrency && currencyEquals(selectedCurrency, currency))\r\n      const otherSelected = Boolean(otherCurrency && currencyEquals(otherCurrency, currency))\r\n      const handleSelect = () => onCurrencySelect(currency)\r\n\r\n      return (\r\n        <CurrencyRow\r\n          groupBalance={groupBalance}\r\n          style={style}\r\n          currency={currency}\r\n          isSelected={isSelected}\r\n          onSelect={handleSelect}\r\n          otherSelected={otherSelected}\r\n        />\r\n      )\r\n    },\r\n    [groupBalance, onCurrencySelect, otherCurrency, selectedCurrency]\r\n  )\r\n\r\n  const itemKey = useCallback((index: number, data: any) => currencyKey(data[index]), [])\r\n\r\n  return (\r\n    <FixedSizeList\r\n      height={height}\r\n      ref={fixedListRef as any}\r\n      width=\"100%\"\r\n      itemData={itemData}\r\n      itemCount={itemData.length}\r\n      itemSize={56}\r\n      itemKey={itemKey}\r\n    >\r\n      {Row}\r\n    </FixedSizeList>\r\n  )\r\n}\r\n","import { Token, TokenAmount } from 'src/sdk'\r\nimport { useMemo } from 'react'\r\nimport { useAllTokenBalances } from '../../state/wallet/hooks'\r\n\r\n// compare two token amounts with highest one coming first\r\nfunction balanceComparator(balanceA?: TokenAmount, balanceB?: TokenAmount) {\r\n  if (balanceA && balanceB) {\r\n    return balanceA.greaterThan(balanceB) ? -1 : balanceA.equalTo(balanceB) ? 0 : 1\r\n  } else if (balanceA && balanceA.greaterThan('0')) {\r\n    return -1\r\n  } else if (balanceB && balanceB.greaterThan('0')) {\r\n    return 1\r\n  }\r\n  return 0\r\n}\r\n\r\nfunction getTokenComparator(balances: {\r\n  [tokenAddress: string]: TokenAmount | undefined\r\n}): (tokenA: Token, tokenB: Token) => number {\r\n  return function sortTokens(tokenA: Token, tokenB: Token): number {\r\n    // -1 = a is first\r\n    // 1 = b is first\r\n\r\n    // sort by balances\r\n    const balanceA = balances[tokenA.address]\r\n    const balanceB = balances[tokenB.address]\r\n\r\n    const balanceComp = balanceComparator(balanceA, balanceB)\r\n    if (balanceComp !== 0) return balanceComp\r\n\r\n    if (tokenA.symbol && tokenB.symbol) {\r\n      // sort by symbol\r\n      return tokenA.symbol.toLowerCase() < tokenB.symbol.toLowerCase() ? -1 : 1\r\n    } else {\r\n      return tokenA.symbol ? -1 : tokenB.symbol ? -1 : 0\r\n    }\r\n  }\r\n}\r\n\r\nexport function useTokenComparator(inverted: boolean): (tokenA: Token, tokenB: Token) => number {\r\n  const balances = useAllTokenBalances()\r\n  const comparator = useMemo(() => getTokenComparator(balances ?? {}), [balances])\r\n  return useMemo(() => {\r\n    if (inverted) {\r\n      return (tokenA: Token, tokenB: Token) => comparator(tokenA, tokenB) * -1\r\n    } else {\r\n      return comparator\r\n    }\r\n  }, [inverted, comparator])\r\n}\r\n","import { Currency, ETHER, Token } from 'src/sdk'\r\nimport React, { KeyboardEvent, RefObject, useCallback, useEffect, useMemo, useRef, useState } from 'react'\r\nimport ReactGA from 'react-ga'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { FixedSizeList } from 'react-window'\r\nimport AutoSizer from 'react-virtualized-auto-sizer'\r\nimport { Text } from 'rebass'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { useAllTokens, useToken } from '../../hooks/Tokens'\r\nimport { CloseIcon } from '../../theme'\r\nimport { isAddress } from '../../utils'\r\nimport Card from '../Card'\r\nimport Column from '../Column'\r\nimport QuestionHelper from '../QuestionHelper'\r\nimport { RowBetween } from '../Row'\r\nimport CommonBases from './CommonBases'\r\nimport CurrencyList from './CurrencyList'\r\nimport { filterTokens } from './filtering'\r\nimport SortButton from './SortButton'\r\nimport { useTokenComparator } from './sorting'\r\nimport { PaddedColumn, SearchInput, Separator } from './styleds'\r\n\r\ninterface CurrencySearchProps {\r\n  isOpen: boolean\r\n  onDismiss: () => void\r\n  selectedCurrency?: Currency | null\r\n  onCurrencySelect: (currency: Currency) => void\r\n  otherSelectedCurrency?: Currency | null\r\n  showCommonBases?: boolean\r\n  groupBalance?: boolean\r\n}\r\n\r\nexport function CurrencySearch({\r\n  selectedCurrency,\r\n  onCurrencySelect,\r\n  otherSelectedCurrency,\r\n  showCommonBases,\r\n  onDismiss,\r\n  groupBalance = true,\r\n  isOpen\r\n}: CurrencySearchProps) {\r\n  const { t } = useTranslation()\r\n  const { chainId } = useActiveWeb3React()\r\n\r\n  const fixedList = useRef<FixedSizeList>()\r\n  const [searchQuery, setSearchQuery] = useState<string>('')\r\n  const [invertSearchOrder, setInvertSearchOrder] = useState<boolean>(false)\r\n  const allTokens = useAllTokens()\r\n\r\n  // if they input an address, use it\r\n  const isAddressSearch = isAddress(searchQuery)\r\n  const searchToken = useToken(searchQuery)\r\n\r\n  useEffect(() => {\r\n    if (isAddressSearch) {\r\n      ReactGA.event({\r\n        category: 'Currency Select',\r\n        action: 'Search by address',\r\n        label: isAddressSearch\r\n      })\r\n    }\r\n  }, [isAddressSearch])\r\n\r\n  const showETH = false\r\n\r\n  const tokenComparator = useTokenComparator(invertSearchOrder)\r\n\r\n  const filteredTokens: Token[] = useMemo(() => {\r\n    if (isAddressSearch) return searchToken ? [searchToken] : []\r\n    return filterTokens(Object.values(allTokens), searchQuery)\r\n  }, [isAddressSearch, searchToken, allTokens, searchQuery])\r\n\r\n  const filteredSortedTokens: Token[] = useMemo(() => {\r\n    if (searchToken) return [searchToken]\r\n\r\n    const sorted = filteredTokens.sort(tokenComparator)\r\n\r\n    const symbolMatch = searchQuery\r\n      .toLowerCase()\r\n      .split(/\\s+/)\r\n      .filter(s => s.length > 0)\r\n    if (symbolMatch.length > 1) return sorted\r\n\r\n    return [\r\n      ...(searchToken ? [searchToken] : []),\r\n      // sort any exact symbol matches first\r\n      ...sorted.filter(token => token.symbol?.toLowerCase() === symbolMatch[0]),\r\n      ...sorted.filter(token => token.symbol?.toLowerCase() !== symbolMatch[0])\r\n    ]\r\n  }, [filteredTokens, searchQuery, searchToken])\r\n\r\n  const handleCurrencySelect = useCallback(\r\n    (currency: Currency) => {\r\n      onCurrencySelect(currency)\r\n      onDismiss()\r\n    },\r\n    [onDismiss, onCurrencySelect]\r\n  )\r\n\r\n  // clear the input on open\r\n  useEffect(() => {\r\n    if (isOpen) setSearchQuery('')\r\n  }, [isOpen])\r\n\r\n  // manage focus on modal show\r\n  const inputRef = useRef<HTMLInputElement>()\r\n  const handleInput = useCallback(event => {\r\n    const input = event.target.value\r\n    const checksummedInput = isAddress(input)\r\n    setSearchQuery(checksummedInput || input)\r\n    fixedList.current?.scrollTo(0)\r\n  }, [])\r\n\r\n  const handleEnter = useCallback(\r\n    (e: KeyboardEvent<HTMLInputElement>) => {\r\n      if (e.key === 'Enter') {\r\n        const s = searchQuery.toLowerCase().trim()\r\n        if (s === 'eth') {\r\n          handleCurrencySelect(ETHER)\r\n        } else if (filteredSortedTokens.length > 0) {\r\n          if (\r\n            filteredSortedTokens[0].symbol?.toLowerCase() === searchQuery.trim().toLowerCase() ||\r\n            filteredSortedTokens.length === 1\r\n          ) {\r\n            handleCurrencySelect(filteredSortedTokens[0])\r\n          }\r\n        }\r\n      }\r\n    },\r\n    [filteredSortedTokens, handleCurrencySelect, searchQuery]\r\n  )\r\n\r\n  return (\r\n    <Column style={{ width: '100%', flex: '1 1' }}>\r\n      <PaddedColumn gap=\"14px\">\r\n        <RowBetween>\r\n          <Text fontWeight={500} fontSize={16}>\r\n            Select a token\r\n            <QuestionHelper text=\"Find a token by searching for its name or symbol.\" />\r\n          </Text>\r\n          <CloseIcon onClick={onDismiss} />\r\n        </RowBetween>\r\n        <SearchInput\r\n          type=\"text\"\r\n          id=\"token-search-input\"\r\n          placeholder={t('Search token name')}\r\n          value={searchQuery}\r\n          ref={inputRef as RefObject<HTMLInputElement>}\r\n          onChange={handleInput}\r\n          onKeyDown={handleEnter}\r\n        />\r\n        {showCommonBases && (\r\n          <CommonBases chainId={chainId} onSelect={handleCurrencySelect} selectedCurrency={selectedCurrency} />\r\n        )}\r\n        <RowBetween>\r\n          <Text fontSize={14} fontWeight={500}>\r\n            Token Name\r\n          </Text>\r\n          <SortButton ascending={invertSearchOrder} toggleSortOrder={() => setInvertSearchOrder(iso => !iso)} />\r\n        </RowBetween>\r\n      </PaddedColumn>\r\n\r\n      <Separator />\r\n\r\n      <div style={{ flex: '1' }}>\r\n        <AutoSizer disableWidth>\r\n          {({ height }) => (\r\n            <CurrencyList\r\n              height={height}\r\n              groupBalance={groupBalance}\r\n              showETH={showETH}\r\n              currencies={filteredSortedTokens}\r\n              onCurrencySelect={handleCurrencySelect}\r\n              otherCurrency={otherSelectedCurrency}\r\n              selectedCurrency={selectedCurrency}\r\n              fixedListRef={fixedList}\r\n            />\r\n          )}\r\n        </AutoSizer>\r\n      </div>\r\n\r\n      <Separator />\r\n      <Card>\r\n        <RowBetween></RowBetween>\r\n      </Card>\r\n    </Column>\r\n  )\r\n}\r\n","import { isAddress } from '../../utils'\r\nimport { Token } from 'src/sdk'\r\n\r\nexport function filterTokens(tokens: Token[], search: string): Token[] {\r\n  if (search.length === 0) return tokens\r\n\r\n  const searchingAddress = isAddress(search)\r\n\r\n  if (searchingAddress) {\r\n    return tokens.filter(token => token.address === searchingAddress)\r\n  }\r\n\r\n  const lowerSearchParts = search\r\n    .toLowerCase()\r\n    .split(/\\s+/)\r\n    .filter(s => s.length > 0)\r\n\r\n  if (lowerSearchParts.length === 0) {\r\n    return tokens\r\n  }\r\n\r\n  const matchesSearch = (s: string): boolean => {\r\n    const sParts = s\r\n      .toLowerCase()\r\n      .split(/\\s+/)\r\n      .filter(s => s.length > 0)\r\n\r\n    return lowerSearchParts.every(p => p.length === 0 || sParts.some(sp => sp.startsWith(p) || sp.endsWith(p)))\r\n  }\r\n\r\n  return tokens.filter(token => {\r\n    const { symbol, name } = token\r\n\r\n    return (symbol && matchesSearch(symbol)) || (name && matchesSearch(name))\r\n  })\r\n}\r\n","import { Currency } from 'src/sdk'\r\nimport React, { useCallback } from 'react'\r\nimport Modal from '../Modal'\r\nimport { CurrencySearch } from './CurrencySearch'\r\n\r\ninterface CurrencySearchModalProps {\r\n  isOpen: boolean\r\n  onDismiss: () => void\r\n  selectedCurrency?: Currency | null\r\n  onCurrencySelect: (currency: Currency) => void\r\n  otherSelectedCurrency?: Currency | null\r\n  showCommonBases?: boolean\r\n  groupBalance?: boolean\r\n}\r\n\r\nexport default function CurrencySearchModal({\r\n  isOpen,\r\n  onDismiss,\r\n  onCurrencySelect,\r\n  selectedCurrency,\r\n  otherSelectedCurrency,\r\n  showCommonBases = false,\r\n  groupBalance = true\r\n}: CurrencySearchModalProps) {\r\n  const handleCurrencySelect = useCallback(\r\n    (currency: Currency) => {\r\n      onCurrencySelect(currency)\r\n      onDismiss()\r\n    },\r\n    [onDismiss, onCurrencySelect]\r\n  )\r\n\r\n  return (\r\n    <Modal isOpen={isOpen} onDismiss={onDismiss} maxHeight={90} minHeight={80}>\r\n      <CurrencySearch\r\n        isOpen={isOpen}\r\n        onDismiss={onDismiss}\r\n        onCurrencySelect={handleCurrencySelect}\r\n        selectedCurrency={selectedCurrency}\r\n        otherSelectedCurrency={otherSelectedCurrency}\r\n        showCommonBases={showCommonBases}\r\n        groupBalance={groupBalance}\r\n      />\r\n    </Modal>\r\n  )\r\n}\r\n","import { Currency } from 'src/sdk'\r\nimport React from 'react'\r\nimport styled from 'styled-components'\r\nimport CurrencyLogo from '../CurrencyLogo'\r\n\r\nconst Wrapper = styled.div<{ margin: boolean; sizeraw: number }>`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: row;\r\n  margin-right: ${({ sizeraw, margin }) => margin && (sizeraw / 3 + 8).toString() + 'px'};\r\n`\r\n\r\ninterface DoubleCurrencyLogoProps {\r\n  margin?: boolean\r\n  size?: number\r\n  currency0?: Currency\r\n  currency1?: Currency\r\n}\r\n\r\nconst HigherLogo = styled(CurrencyLogo)`\r\n  z-index: 2;\r\n`\r\nconst CoveredLogo = styled(CurrencyLogo)<{ sizeraw: number }>`\r\n  position: absolute;\r\n  left: ${({ sizeraw }) => (sizeraw / 2).toString() + 'px'};\r\n`\r\n\r\nexport default function DoubleCurrencyLogo({\r\n  currency0,\r\n  currency1,\r\n  size = 16,\r\n  margin = false\r\n}: DoubleCurrencyLogoProps) {\r\n  return (\r\n    <Wrapper sizeraw={size} margin={margin}>\r\n      {currency0 && <HigherLogo currency={currency0} size={size.toString() + 'px'} />}\r\n      {currency1 && <CoveredLogo currency={currency1} size={size.toString() + 'px'} sizeraw={size} />}\r\n    </Wrapper>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { escapeRegExp } from '../../utils'\r\n\r\nconst StyledInput = styled.input<{ error?: boolean; fontSize?: string; align?: string }>`\r\n  color: ${({ error, theme }) => (error ? theme.red1 : theme.text1)};\r\n  width: 0;\r\n  position: relative;\r\n  font-weight: 500;\r\n  outline: none;\r\n  border: none;\r\n  flex: 1 1 auto;\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  font-size: ${({ fontSize }) => fontSize ?? '24px'};\r\n  text-align: ${({ align }) => align && align};\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  padding: 0px;\r\n  -webkit-appearance: textfield;\r\n\r\n  ::-webkit-search-decoration {\r\n    -webkit-appearance: none;\r\n  }\r\n\r\n  [type='number'] {\r\n    -moz-appearance: textfield;\r\n  }\r\n\r\n  ::-webkit-outer-spin-button,\r\n  ::-webkit-inner-spin-button {\r\n    -webkit-appearance: none;\r\n  }\r\n\r\n  ::placeholder {\r\n    color: ${({ theme }) => theme.text4};\r\n  }\r\n`\r\n\r\nconst inputRegex = RegExp(`^\\\\d*(?:\\\\\\\\[.])?\\\\d*$`) // match escaped \".\" characters via in a non-capturing group\r\n\r\nexport const Input = React.memo(function InnerInput({\r\n  value,\r\n  onUserInput,\r\n  placeholder,\r\n  ...rest\r\n}: {\r\n  value: string | number\r\n  onUserInput: (input: string) => void\r\n  error?: boolean\r\n  fontSize?: string\r\n  align?: 'right' | 'left'\r\n} & Omit<React.HTMLProps<HTMLInputElement>, 'ref' | 'onChange' | 'as'>) {\r\n  const [tempValue, setTempValue] = useState(value + '')\r\n  const isValid = (value: string) => value === '' || inputRegex.test(escapeRegExp(value))\r\n\r\n  const isComposing = (value: string) => value.slice(-1) === '.' || value.slice(-2) === '.0'\r\n\r\n  return (\r\n    <StyledInput\r\n      {...rest}\r\n      value={isComposing(tempValue) ? tempValue : value}\r\n      onChange={event => {\r\n        if (!isValid(event.target.value)) return\r\n\r\n        const newValue = event.target.value.replace(/,/g, '.')\r\n\r\n        setTempValue(newValue)\r\n\r\n        if (isComposing(newValue)) return\r\n\r\n        onUserInput(newValue)\r\n      }}\r\n      // universal input options\r\n      inputMode=\"decimal\"\r\n      title=\"Token Amount\"\r\n      autoComplete=\"off\"\r\n      autoCorrect=\"off\"\r\n      // text-specific options\r\n      type=\"text\"\r\n      pattern=\"^[0-9]*[.,]?[0-9]*$\"\r\n      placeholder={placeholder || '0.0'}\r\n      minLength={1}\r\n      maxLength={79}\r\n      spellCheck=\"false\"\r\n    />\r\n  )\r\n})\r\n\r\nexport default Input\r\n\r\n// const inputRegex = RegExp(`^\\\\d*(?:\\\\\\\\[.])?\\\\d*$`) // match escaped \".\" characters via in a non-capturing group\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0.97168 1L6.20532 6L11.439 1\",\n  stroke: \"#AEAEAE\"\n});\n\nvar SvgDropdown = function SvgDropdown(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 7,\n    viewBox: \"0 0 12 7\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgDropdown, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/dropdown.50dbd07d.svg\";\nexport { ForwardRef as ReactComponent };","import { Currency, Pair } from 'src/sdk'\r\nimport React, { useState, useContext, useCallback } from 'react'\r\nimport styled, { ThemeContext } from 'styled-components'\r\nimport { darken } from 'polished'\r\nimport { useCurrencyBalance, useGroupCurrencyBalance } from '../../state/wallet/hooks'\r\nimport CurrencySearchModal from '../SearchModal/CurrencySearchModal'\r\nimport CurrencyLogo from '../CurrencyLogo'\r\nimport DoubleCurrencyLogo from '../DoubleLogo'\r\nimport { RowBetween } from '../Row'\r\nimport { TYPE } from '../../theme'\r\nimport { Input as NumericalInput } from '../NumericalInput'\r\nimport { ReactComponent as DropDown } from '../../assets/images/dropdown.svg'\r\n\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nconst InputRow = styled.div<{ selected: boolean }>`\r\n  ${({ theme }) => theme.flexRowNoWrap}\r\n  align-items: center;\r\n  padding: ${({ selected }) => (selected ? '0.75rem 0.5rem 0.75rem 1rem' : '0.75rem 0.75rem 0.75rem 1rem')};\r\n`\r\n\r\nconst CurrencySelect = styled.button<{ selected: boolean }>`\r\n  align-items: center;\r\n  height: 2.2rem;\r\n  font-size: 20px;\r\n  font-weight: 600;\r\n  background-color: ${({ selected, theme }) => (selected ? theme.bg1 : 'transparent')};\r\n  color: ${({ selected, theme }) => (selected ? theme.text1 : theme.primary1)};\r\n  border-radius: 0.25rem;\r\n  box-shadow: ${({ selected }) => (selected ? 'none' : '0px 6px 10px rgba(0, 0, 0, 0.075)')};\r\n  outline: none;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  border: ${({ selected, theme }) => (selected ? 'none' : `1px solid ${theme.primary1}`)};\r\n  padding: 0 0.5rem;\r\n\r\n  :focus,\r\n  :hover {\r\n    background-color: ${({ selected, theme }) => (selected ? theme.bg2 : darken(0.05, theme.primary1))};\r\n  }\r\n\r\n  svg {\r\n    path {\r\n      stroke: ${({ theme }) => theme.primary1};\r\n    }\r\n  }\r\n`\r\n\r\nconst LabelRow = styled.div`\r\n  ${({ theme }) => theme.flexRowNoWrap}\r\n  align-items: center;\r\n  color: ${({ theme }) => theme.text1};\r\n  font-size: 0.75rem;\r\n  line-height: 1rem;\r\n  padding: 0.75rem 1rem 0 1rem;\r\n  span:hover {\r\n    cursor: pointer;\r\n    color: ${({ theme }) => darken(0.2, theme.text2)};\r\n  }\r\n`\r\n\r\nconst Aligner = styled.span`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`\r\n\r\nconst StyledDropDown = styled(DropDown)<{ selected: boolean }>`\r\n  margin: 0 0.25rem 0 0.5rem;\r\n  height: 35%;\r\n\r\n  path {\r\n    stroke: ${({ selected, theme }) => (selected ? theme.text1 : theme.white)};\r\n    stroke-width: 1.5px;\r\n  }\r\n`\r\n\r\nconst InputPanel = styled.div<{ hideInput?: boolean }>`\r\n  ${({ theme }) => theme.flexColumnNoWrap}\r\n  position: relative;\r\n  // border-radius: ${({ hideInput }) => (hideInput ? '8px' : '20px')};\r\n  border-radius: 0.5rem;\r\n  background-color: ${({ theme }) => theme.bg2};\r\n  z-index: 1;\r\n`\r\n\r\nconst Container = styled.div<{ hideInput: boolean }>`\r\n  // border-radius: ${({ hideInput }) => (hideInput ? '8px' : '0.5rem')};\r\n  border-radius: 0.5rem;\r\n  border: 1px solid ${({ theme }) => theme.bg2};\r\n  background-color: ${({ theme }) => theme.bg1};\r\n`\r\n\r\nconst StyledTokenName = styled.span<{ active?: boolean }>`\r\n  ${({ active }) => (active ? '  margin: 0 0.25rem 0 0.75rem;' : '  margin: 0 0.25rem 0 0.25rem;')}\r\n  font-size:  ${({ active }) => (active ? '20px' : '16px')};\r\n\r\n`\r\n\r\nconst StyledBalanceMax = styled.button`\r\n  height: 28px;\r\n  background-color: transparent;\r\n  border: 1px solid ${({ theme }) => theme.primary1};\r\n  border-radius: 0.25rem;\r\n  font-size: 0.875rem;\r\n\r\n  font-weight: 400;\r\n  cursor: pointer;\r\n  margin-right: 0.5rem;\r\n  color: ${({ theme }) => theme.primary1};\r\n  :hover {\r\n    background-color: ${({ theme }) => theme.primary4};\r\n  }\r\n  :focus {\r\n    border: 1px solid ${({ theme }) => theme.primary1};\r\n    outline: none;\r\n  }\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\r\n    margin-right: 0.5rem;\r\n  `};\r\n`\r\n\r\ninterface CurrencyInputPanelProps {\r\n  value: string\r\n  onUserInput: (value: string) => void\r\n  onMax?: () => void\r\n  showMaxButton: boolean\r\n  label?: string\r\n  onCurrencySelect?: (currency: Currency) => void\r\n  currency?: Currency | null\r\n  disableCurrencySelect?: boolean\r\n  hideBalance?: boolean\r\n  pair?: Pair | null\r\n  hideInput?: boolean\r\n  groupBalance?: boolean\r\n  otherCurrency?: Currency | null\r\n  id: string\r\n  showCommonBases?: boolean\r\n}\r\n\r\nexport default function CurrencyInputPanel({\r\n  value,\r\n  onUserInput,\r\n  onMax,\r\n  showMaxButton,\r\n  label = 'Input',\r\n  onCurrencySelect,\r\n  currency,\r\n  disableCurrencySelect = false,\r\n  hideBalance = false,\r\n  pair = null, // used for double token logo\r\n  hideInput = false,\r\n  groupBalance = false,\r\n  otherCurrency,\r\n  id,\r\n  showCommonBases\r\n}: CurrencyInputPanelProps) {\r\n  const { t } = useTranslation()\r\n\r\n  const [modalOpen, setModalOpen] = useState(false)\r\n  const { account } = useActiveWeb3React()\r\n  const selectedCurrencyBalance = useCurrencyBalance(account ?? undefined, currency ?? undefined)\r\n  const selectedGroupCurrencyBalance = useGroupCurrencyBalance(account ?? undefined, currency ?? undefined)\r\n  const theme = useContext(ThemeContext)\r\n\r\n  const handleDismissSearch = useCallback(() => {\r\n    setModalOpen(false)\r\n  }, [setModalOpen])\r\n\r\n  return (\r\n    <InputPanel id={id}>\r\n      <Container hideInput={hideInput}>\r\n        {!hideInput && (\r\n          <LabelRow>\r\n            <RowBetween>\r\n              <TYPE.body color={theme.text2} fontWeight={500} fontSize={14}>\r\n                {label}\r\n              </TYPE.body>\r\n              {account && (\r\n                <TYPE.body\r\n                  onClick={onMax}\r\n                  color={theme.text2}\r\n                  fontWeight={500}\r\n                  fontSize={14}\r\n                  style={{ display: 'inline', cursor: 'pointer' }}\r\n                >\r\n                  {!hideBalance && !!currency && (groupBalance ? selectedGroupCurrencyBalance : selectedCurrencyBalance)\r\n                    ? 'Balance: ' +\r\n                      (groupBalance\r\n                        ? selectedGroupCurrencyBalance?.toSignificant(6)\r\n                        : selectedCurrencyBalance?.toSignificant(6))\r\n                    : ' -'}\r\n                </TYPE.body>\r\n              )}\r\n            </RowBetween>\r\n          </LabelRow>\r\n        )}\r\n        <InputRow style={hideInput ? { padding: '0', borderRadius: '8px' } : {}} selected={disableCurrencySelect}>\r\n          {!hideInput && (\r\n            <>\r\n              <NumericalInput\r\n                className=\"token-amount-input\"\r\n                value={value}\r\n                onUserInput={val => {\r\n                  onUserInput(val)\r\n                }}\r\n              />\r\n              {account && currency && showMaxButton && label !== 'To' && (\r\n                <StyledBalanceMax onClick={onMax}>MAX</StyledBalanceMax>\r\n              )}\r\n            </>\r\n          )}\r\n          <CurrencySelect\r\n            selected={!!currency}\r\n            className=\"open-currency-select-button\"\r\n            onClick={() => {\r\n              if (!disableCurrencySelect) {\r\n                setModalOpen(true)\r\n              }\r\n            }}\r\n          >\r\n            <Aligner>\r\n              {pair ? (\r\n                <DoubleCurrencyLogo currency0={pair.token0} currency1={pair.token1} size={24} margin={true} />\r\n              ) : currency ? (\r\n                <CurrencyLogo currency={currency} size={'24px'} />\r\n              ) : null}\r\n              {pair ? (\r\n                <StyledTokenName className=\"pair-name-container\">\r\n                  {pair?.token0.symbol}:{pair?.token1.symbol}\r\n                </StyledTokenName>\r\n              ) : (\r\n                <StyledTokenName className=\"token-symbol-container\" active={Boolean(currency && currency.symbol)}>\r\n                  {(currency && currency.symbol && currency.symbol.length > 20\r\n                    ? currency.symbol.slice(0, 4) +\r\n                      '...' +\r\n                      currency.symbol.slice(currency.symbol.length - 5, currency.symbol.length)\r\n                    : currency?.symbol) || t('Select a token')}\r\n                </StyledTokenName>\r\n              )}\r\n              {!disableCurrencySelect && <StyledDropDown selected={!!currency} />}\r\n            </Aligner>\r\n          </CurrencySelect>\r\n        </InputRow>\r\n      </Container>\r\n      {!disableCurrencySelect && onCurrencySelect && (\r\n        <CurrencySearchModal\r\n          isOpen={modalOpen}\r\n          onDismiss={handleDismissSearch}\r\n          onCurrencySelect={onCurrencySelect}\r\n          selectedCurrency={currency}\r\n          otherSelectedCurrency={otherCurrency}\r\n          showCommonBases={showCommonBases}\r\n          groupBalance={groupBalance}\r\n        />\r\n      )}\r\n    </InputPanel>\r\n  )\r\n}\r\n","import { useEffect, useState } from 'react'\r\n\r\n/**\r\n * Returns the last value of type T that passes a filter function\r\n * @param value changing value\r\n * @param filterFn function that determines whether a given value should be considered for the last value\r\n */\r\nexport default function useLast<T>(\r\n  value: T | undefined | null,\r\n  filterFn?: (value: T | null | undefined) => boolean\r\n): T | null | undefined {\r\n  const [last, setLast] = useState<T | null | undefined>(filterFn && filterFn(value) ? value : undefined)\r\n  useEffect(() => {\r\n    setLast(last => {\r\n      const shouldUse: boolean = filterFn ? filterFn(value) : true\r\n      if (shouldUse) return value\r\n      return last\r\n    })\r\n  }, [filterFn, value])\r\n  return last\r\n}\r\n\r\nfunction isDefined<T>(x: T | null | undefined): x is T {\r\n  return x !== null && x !== undefined\r\n}\r\n\r\n/**\r\n * Returns the last truthy value of type T\r\n * @param value changing value\r\n */\r\nexport function useLastTruthy<T>(value: T | undefined | null): T | null | undefined {\r\n  return useLast(value, isDefined)\r\n}\r\n","import { Trade } from 'src/sdk'\r\nimport React, { Fragment, memo, useContext } from 'react'\r\nimport { ChevronRight } from 'react-feather'\r\nimport { Flex } from 'rebass'\r\nimport { ThemeContext } from 'styled-components'\r\nimport { TYPE } from '../../theme'\r\nimport CurrencyLogo from '../CurrencyLogo'\r\n\r\nexport default memo(function SwapRoute({ trade }: { trade: Trade }) {\r\n  const theme = useContext(ThemeContext)\r\n  return (\r\n    <Flex\r\n      px=\"1rem\"\r\n      py=\"0.5rem\"\r\n      my=\"0.5rem\"\r\n      style={{ border: `1px solid ${theme.bg3}`, borderRadius: '1rem' }}\r\n      flexWrap=\"wrap\"\r\n      width=\"100%\"\r\n      justifyContent=\"space-evenly\"\r\n      alignItems=\"center\"\r\n    >\r\n      {trade.route.path.map((token, i, path) => {\r\n        const isLastItem: boolean = i === path.length - 1\r\n        return (\r\n          <Fragment key={i}>\r\n            <Flex my=\"0.5rem\" alignItems=\"center\" style={{ flexShrink: 0 }}>\r\n              <CurrencyLogo currency={token} size=\"1.5rem\" />\r\n              <TYPE.black fontSize={14} color={theme.text1} ml=\"0.5rem\">\r\n                {token.symbol}\r\n              </TYPE.black>\r\n            </Flex>\r\n            {isLastItem ? null : <ChevronRight color={theme.text2} />}\r\n          </Fragment>\r\n        )\r\n      })}\r\n    </Flex>\r\n  )\r\n})\r\n","import { Trade, TradeType } from 'src/sdk'\r\nimport React, { useContext } from 'react'\r\nimport { ThemeContext } from 'styled-components'\r\nimport { Field } from '../../state/swap/actions'\r\nimport { useUserSlippageTolerance } from '../../state/user/hooks'\r\nimport { TYPE } from '../../theme'\r\nimport { computeSlippageAdjustedAmounts, computeTradePriceBreakdown } from '../../utils/prices'\r\nimport { AutoColumn } from '../Column'\r\nimport QuestionHelper from '../QuestionHelper'\r\nimport { RowBetween, RowFixed } from '../Row'\r\nimport FormattedPriceImpact from './FormattedPriceImpact'\r\nimport { SectionBreak } from './styleds'\r\nimport SwapRoute from './SwapRoute'\r\n\r\nfunction TradeSummary({ trade, allowedSlippage }: { trade: Trade; allowedSlippage: number }) {\r\n  const theme = useContext(ThemeContext)\r\n  const { priceImpactWithoutFee, realizedLPFee } = computeTradePriceBreakdown(trade)\r\n  const isExactIn = trade.tradeType === TradeType.EXACT_INPUT\r\n  const slippageAdjustedAmounts = computeSlippageAdjustedAmounts(trade, allowedSlippage)\r\n\r\n  return (\r\n    <>\r\n      <AutoColumn>\r\n        <RowBetween>\r\n          <RowFixed>\r\n            <TYPE.black fontSize={14} fontWeight={400} color={theme.text2}>\r\n              {isExactIn ? 'Minimum received' : 'Maximum sold'}\r\n            </TYPE.black>\r\n            <QuestionHelper text=\"Your transaction will revert if there is a large, unfavorable price movement before it is confirmed.\" />\r\n          </RowFixed>\r\n          <RowFixed>\r\n            <TYPE.black color={theme.text1} fontSize={14}>\r\n              {isExactIn\r\n                ? `${slippageAdjustedAmounts[Field.OUTPUT]?.toSignificant(4)} ${trade.outputAmount.currency.symbol}` ??\r\n                  '-'\r\n                : `${slippageAdjustedAmounts[Field.INPUT]?.toSignificant(4)} ${trade.inputAmount.currency.symbol}` ??\r\n                  '-'}\r\n            </TYPE.black>\r\n          </RowFixed>\r\n        </RowBetween>\r\n        <RowBetween>\r\n          <RowFixed>\r\n            <TYPE.black fontSize={14} fontWeight={400} color={theme.text2}>\r\n              Price Impact\r\n            </TYPE.black>\r\n            <QuestionHelper text=\"The difference between the market price and estimated price due to trade size.\" />\r\n          </RowFixed>\r\n          <FormattedPriceImpact priceImpact={priceImpactWithoutFee} />\r\n        </RowBetween>\r\n\r\n        <RowBetween>\r\n          <RowFixed>\r\n            <TYPE.black fontSize={14} fontWeight={400} color={theme.text2}>\r\n              Liquidity Provider Fee\r\n            </TYPE.black>\r\n            <QuestionHelper text=\"A portion of each trade (0.30%) goes to liquidity providers as a protocol incentive.\" />\r\n          </RowFixed>\r\n          <TYPE.black fontSize={14} color={theme.text1}>\r\n            {realizedLPFee ? `${realizedLPFee.toSignificant(4)} ${trade.inputAmount.currency.symbol}` : '-'}\r\n          </TYPE.black>\r\n        </RowBetween>\r\n      </AutoColumn>\r\n    </>\r\n  )\r\n}\r\n\r\nexport interface AdvancedSwapDetailsProps {\r\n  trade?: Trade\r\n}\r\n\r\nexport function AdvancedSwapDetails({ trade }: AdvancedSwapDetailsProps) {\r\n  const theme = useContext(ThemeContext)\r\n\r\n  const [allowedSlippage] = useUserSlippageTolerance()\r\n\r\n  const showRoute = Boolean(trade && trade.route.path.length > 2)\r\n\r\n  return (\r\n    <AutoColumn gap=\"md\">\r\n      {trade && (\r\n        <>\r\n          <TradeSummary trade={trade} allowedSlippage={allowedSlippage} />\r\n          {showRoute && (\r\n            <>\r\n              <SectionBreak />\r\n              <AutoColumn style={{ padding: '0 24px' }}>\r\n                <RowFixed>\r\n                  <TYPE.black fontSize={14} fontWeight={400} color={theme.text2}>\r\n                    Route\r\n                  </TYPE.black>\r\n                  <QuestionHelper text=\"Routing through these tokens resulted in the best price for your trade.\" />\r\n                </RowFixed>\r\n                <SwapRoute trade={trade} />\r\n              </AutoColumn>\r\n            </>\r\n          )}\r\n        </>\r\n      )}\r\n    </AutoColumn>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { useLastTruthy } from '../../hooks/useLast'\r\nimport { AdvancedSwapDetails, AdvancedSwapDetailsProps } from './AdvancedSwapDetails'\r\n\r\nconst AdvancedDetailsFooter = styled.div<{ show: boolean }>`\r\n  padding: 1.5rem 2rem;\r\n  margin-top: ${({ show }) => (show ? '-2rem' : '-4rem')};\r\n  width: 100%;\r\n  max-width: 800px;\r\n  border-radius: 1rem;\r\n  color: ${({ theme }) => theme.text2};\r\n  background-color: ${({ theme }) => theme.bg2};\r\n  z-index: -1;\r\n\r\n  transform: ${({ show }) => (show ? 'translateY(0%)' : 'translateY(-100%)')};\r\n  transition: transform 300ms ease-in-out;\r\n`\r\n\r\nexport default function AdvancedSwapDetailsDropdown({ trade, ...rest }: AdvancedSwapDetailsProps) {\r\n  const lastTrade = useLastTruthy(trade)\r\n\r\n  return (\r\n    <AdvancedDetailsFooter show={Boolean(trade)}>\r\n      <AdvancedSwapDetails {...rest} trade={trade ?? lastTrade ?? undefined} />\r\n    </AdvancedDetailsFooter>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Price } from 'src/sdk'\r\nimport { useContext } from 'react'\r\nimport { Repeat } from 'react-feather'\r\nimport { Text } from 'rebass'\r\nimport { ThemeContext } from 'styled-components'\r\nimport { StyledBalanceMaxMini } from './styleds'\r\n\r\ninterface TradePriceProps {\r\n  price?: Price\r\n  showInverted: boolean\r\n  setShowInverted: (showInverted: boolean) => void\r\n}\r\n\r\nexport default function TradePrice({ price, showInverted, setShowInverted }: TradePriceProps) {\r\n  const theme = useContext(ThemeContext)\r\n\r\n  const formattedPrice = showInverted ? price?.toSignificant(6) : price?.invert()?.toSignificant(6)\r\n\r\n  const show = Boolean(price?.baseCurrency && price?.quoteCurrency)\r\n  const label = showInverted\r\n    ? `${price?.quoteCurrency?.symbol} per ${price?.baseCurrency?.symbol}`\r\n    : `${price?.baseCurrency?.symbol} per ${price?.quoteCurrency?.symbol}`\r\n\r\n  return (\r\n    <Text\r\n      fontWeight={500}\r\n      fontSize={14}\r\n      color={theme.text2}\r\n      style={{ justifyContent: 'center', alignItems: 'center', display: 'flex' }}\r\n    >\r\n      {show ? (\r\n        <>\r\n          {formattedPrice ?? '-'} {label}\r\n          <StyledBalanceMaxMini onClick={() => setShowInverted(!showInverted)}>\r\n            <Repeat size={14} />\r\n          </StyledBalanceMaxMini>\r\n        </>\r\n      ) : (\r\n        '-'\r\n      )}\r\n    </Text>\r\n  )\r\n}\r\n","import { Token } from 'src/sdk'\r\nimport { transparentize } from 'polished'\r\nimport React, { useCallback, useMemo, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { useAllTokens } from '../../hooks/Tokens'\r\nimport { ExternalLink, TYPE } from '../../theme'\r\nimport { getEtherscanLink, shortenAddress } from '../../utils'\r\nimport CurrencyLogo from '../CurrencyLogo'\r\nimport Modal from '../Modal'\r\nimport { AutoRow, RowBetween } from '../Row'\r\nimport { AutoColumn } from '../Column'\r\nimport { AlertTriangle } from 'react-feather'\r\nimport { ButtonError } from '../Button'\r\n\r\nconst Wrapper = styled.div<{ error: boolean }>`\r\n  background: ${({ theme }) => transparentize(0.6, theme.bg3)};\r\n  padding: 0.75rem;\r\n  border-radius: 0.5rem;\r\n`\r\n\r\nconst WarningContainer = styled.div`\r\n  max-width: 420px;\r\n  width: 100%;\r\n  padding: 1rem;\r\n  background: rgba(242, 150, 2, 0.05);\r\n  border: 1px solid #f3841e;\r\n  border-radius: 1rem;\r\n  overflow: auto;\r\n`\r\n\r\nconst StyledWarningIcon = styled(AlertTriangle)`\r\n  stroke: ${({ theme }) => theme.red2};\r\n`\r\n\r\ninterface TokenWarningCardProps {\r\n  token?: Token\r\n}\r\n\r\nfunction TokenWarningCard({ token }: TokenWarningCardProps) {\r\n  const { chainId } = useActiveWeb3React()\r\n\r\n  const tokenSymbol = token?.symbol?.toLowerCase() ?? ''\r\n  const tokenName = token?.name?.toLowerCase() ?? ''\r\n\r\n  const allTokens = useAllTokens()\r\n\r\n  const duplicateNameOrSymbol = useMemo(() => {\r\n    if (!token || !chainId) return false\r\n\r\n    return Object.keys(allTokens).some(tokenAddress => {\r\n      const userToken = allTokens[tokenAddress]\r\n      if (userToken.equals(token)) {\r\n        return false\r\n      }\r\n      return userToken.symbol?.toLowerCase() === tokenSymbol || userToken.name?.toLowerCase() === tokenName\r\n    })\r\n  }, [token, chainId, allTokens, tokenSymbol, tokenName])\r\n\r\n  if (!token) return null\r\n\r\n  return (\r\n    <Wrapper error={duplicateNameOrSymbol}>\r\n      <AutoRow gap=\"6px\">\r\n        <AutoColumn gap=\"24px\">\r\n          <CurrencyLogo currency={token} size={'16px'} />\r\n          <div> </div>\r\n        </AutoColumn>\r\n        <AutoColumn gap=\"10px\" justify=\"flex-start\">\r\n          <TYPE.main>\r\n            {token && token.name && token.symbol && token.name !== token.symbol\r\n              ? `${token.name} (${token.symbol})`\r\n              : token.name || token.symbol}{' '}\r\n          </TYPE.main>\r\n          {chainId && (\r\n            <ExternalLink style={{ fontWeight: 400 }} href={getEtherscanLink(chainId, token.address, 'token')}>\r\n              <TYPE.blue title={token.address}>{shortenAddress(token.address)} (View on Etherscan)</TYPE.blue>\r\n            </ExternalLink>\r\n          )}\r\n        </AutoColumn>\r\n      </AutoRow>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport default function TokenWarningModal({\r\n  isOpen,\r\n  tokens,\r\n  onConfirm\r\n}: {\r\n  isOpen: boolean\r\n  tokens: Token[]\r\n  onConfirm: () => void\r\n}) {\r\n  const [understandChecked, setUnderstandChecked] = useState(false)\r\n  const toggleUnderstand = useCallback(() => setUnderstandChecked(uc => !uc), [])\r\n\r\n  const handleDismiss = useCallback(() => null, [])\r\n  return (\r\n    <Modal isOpen={isOpen} onDismiss={handleDismiss} maxHeight={90}>\r\n      <WarningContainer className=\"token-warning-container\">\r\n        <AutoColumn gap=\"lg\">\r\n          <AutoRow gap=\"6px\">\r\n            <StyledWarningIcon />\r\n            <TYPE.main color={'red2'}>Token imported</TYPE.main>\r\n          </AutoRow>\r\n          <TYPE.body color={'red2'}>\r\n            Anyone can create an ERC20 token on Ethereum with <em>any</em> name, including creating fake versions of\r\n            existing tokens and tokens that claim to represent projects that do not have a token.\r\n          </TYPE.body>\r\n          <TYPE.body color={'red2'}>\r\n            This interface can load arbitrary tokens by token addresses. Please take extra caution and do your research\r\n            when interacting with arbitrary ERC20 tokens.\r\n          </TYPE.body>\r\n          <TYPE.body color={'red2'}>\r\n            If you purchase an arbitrary token, <strong>you may be unable to sell it back.</strong>\r\n          </TYPE.body>\r\n          {tokens.map(token => {\r\n            return <TokenWarningCard key={token.address} token={token} />\r\n          })}\r\n          <RowBetween>\r\n            <div>\r\n              <label style={{ cursor: 'pointer', userSelect: 'none' }}>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"understand-checkbox\"\r\n                  checked={understandChecked}\r\n                  onChange={toggleUnderstand}\r\n                />{' '}\r\n                I understand\r\n              </label>\r\n            </div>\r\n            <ButtonError\r\n              disabled={!understandChecked}\r\n              error={true}\r\n              width={'140px'}\r\n              padding=\"0.5rem 1rem\"\r\n              className=\"token-dismiss-button\"\r\n              onClick={() => {\r\n                onConfirm()\r\n              }}\r\n            >\r\n              <TYPE.body color=\"white\">Continue</TYPE.body>\r\n            </ButtonError>\r\n          </RowBetween>\r\n        </AutoColumn>\r\n      </WarningContainer>\r\n    </Modal>\r\n  )\r\n}\r\n","import { MaxUint256 } from '@ethersproject/constants'\r\nimport { TransactionResponse } from '@ethersproject/providers'\r\nimport { Trade, TokenAmount, CurrencyAmount, ETHER } from 'src/sdk'\r\nimport { useCallback, useMemo } from 'react'\r\nimport { ROUTER_ADDRESS } from '../constants'\r\nimport { useTokenAllowance } from '../data/Allowances'\r\nimport { Field } from '../state/swap/actions'\r\nimport { useTransactionAdder, useHasPendingApproval } from '../state/transactions/hooks'\r\nimport { computeSlippageAdjustedAmounts } from '../utils/prices'\r\nimport { calculateGasMargin } from '../utils'\r\nimport { useTokenContract } from './useContract'\r\nimport { useActiveWeb3React } from './index'\r\n\r\nexport enum ApprovalState {\r\n  UNKNOWN,\r\n  NOT_APPROVED,\r\n  PENDING,\r\n  APPROVED\r\n}\r\n\r\n// returns a variable indicating the state of the approval and a function which approves if necessary or early returns\r\nexport function useApproveCallback(\r\n  amountToApprove?: CurrencyAmount,\r\n  spender?: string\r\n): [ApprovalState, () => Promise<void>] {\r\n  const { account } = useActiveWeb3React()\r\n  const token = amountToApprove instanceof TokenAmount ? amountToApprove.token : undefined\r\n  const currentAllowance = useTokenAllowance(token, account ?? undefined, spender)\r\n  const pendingApproval = useHasPendingApproval(token?.address, spender)\r\n\r\n  // check the current approval status\r\n  const approvalState: ApprovalState = useMemo(() => {\r\n    if (!amountToApprove || !spender) return ApprovalState.UNKNOWN\r\n    if (amountToApprove.currency === ETHER) return ApprovalState.APPROVED\r\n    // we might not have enough data to know whether or not we need to approve\r\n    if (!currentAllowance) return ApprovalState.UNKNOWN\r\n\r\n    // amountToApprove will be defined if currentAllowance is\r\n    return currentAllowance.lessThan(amountToApprove)\r\n      ? pendingApproval\r\n        ? ApprovalState.PENDING\r\n        : ApprovalState.NOT_APPROVED\r\n      : ApprovalState.APPROVED\r\n  }, [amountToApprove, currentAllowance, pendingApproval, spender])\r\n\r\n  const tokenContract = useTokenContract(token?.address)\r\n  const addTransaction = useTransactionAdder()\r\n\r\n  const approve = useCallback(async (): Promise<void> => {\r\n    if (approvalState !== ApprovalState.NOT_APPROVED) {\r\n      console.error('approve was called unnecessarily')\r\n      return\r\n    }\r\n    if (!token) {\r\n      console.error('no token')\r\n      return\r\n    }\r\n\r\n    if (!tokenContract) {\r\n      console.error('tokenContract is null')\r\n      return\r\n    }\r\n\r\n    if (!amountToApprove) {\r\n      console.error('missing amount to approve')\r\n      return\r\n    }\r\n\r\n    if (!spender) {\r\n      console.error('no spender')\r\n      return\r\n    }\r\n\r\n    let useExact = false\r\n    const estimatedGas = await tokenContract.estimateGas.approve(spender, MaxUint256).catch(() => {\r\n      // general fallback for tokens who restrict approval amounts\r\n      useExact = true\r\n      return tokenContract.estimateGas.approve(spender, amountToApprove.raw.toString())\r\n    })\r\n\r\n    return tokenContract\r\n      .approve(spender, useExact ? amountToApprove.raw.toString() : MaxUint256, {\r\n        gasLimit: calculateGasMargin(estimatedGas)\r\n      })\r\n      .then((response: TransactionResponse) => {\r\n        addTransaction(response, {\r\n          summary: 'Approve ' + amountToApprove.currency.symbol,\r\n          approval: { tokenAddress: token.address, spender: spender }\r\n        })\r\n      })\r\n      .catch((error: Error) => {\r\n        console.debug('Failed to approve token', error)\r\n        throw error\r\n      })\r\n  }, [approvalState, token, tokenContract, amountToApprove, spender, addTransaction])\r\n\r\n  return [approvalState, approve]\r\n}\r\n\r\n// wraps useApproveCallback in the context of a swap\r\nexport function useApproveCallbackFromTrade(trade?: Trade, allowedSlippage = 0) {\r\n  const amountToApprove = useMemo(\r\n    () => (trade ? computeSlippageAdjustedAmounts(trade, allowedSlippage)[Field.INPUT] : undefined),\r\n    [trade, allowedSlippage]\r\n  )\r\n  return useApproveCallback(amountToApprove, ROUTER_ADDRESS)\r\n}\r\n","import { Token, TokenAmount } from 'src/sdk'\r\nimport { useMemo } from 'react'\r\n\r\nimport { useTokenContract } from '../hooks/useContract'\r\nimport { useSingleCallResult } from '../state/multicall/hooks'\r\n\r\nexport function useTokenAllowance(token?: Token, owner?: string, spender?: string): TokenAmount | undefined {\r\n  const contract = useTokenContract(token?.address, false)\r\n\r\n  const inputs = useMemo(() => [owner, spender], [owner, spender])\r\n  const allowance = useSingleCallResult(contract, 'allowance', inputs).result\r\n\r\n  return useMemo(() => (token && allowance ? new TokenAmount(token, allowance.toString()) : undefined), [\r\n    token,\r\n    allowance\r\n  ])\r\n}\r\n","import { BigNumber } from '@ethersproject/bignumber'\r\nimport { Contract } from '@ethersproject/contracts'\r\nimport { JSBI, Percent, Trade, TradeType, TradeOptions, ETHER, CurrencyAmount } from 'src/sdk'\r\nimport { useMemo } from 'react'\r\nimport { BIPS_BASE, DEFAULT_DEADLINE_FROM_NOW, INITIAL_ALLOWED_SLIPPAGE } from '../constants'\r\nimport { useTransactionAdder } from '../state/transactions/hooks'\r\nimport { calculateGasMargin, isAddress, shortenAddress, getContract } from '../utils'\r\nimport isZero from '../utils/isZero'\r\nimport { useActiveWeb3React, useGroupId } from './index'\r\nimport useENS from './useENS'\r\nimport UnifundGroupABI from '../constants/unifund/UnifundGroup.abi.json'\r\nimport invariant from 'tiny-invariant'\r\n\r\nexport enum SwapCallbackState {\r\n  INVALID,\r\n  LOADING,\r\n  VALID\r\n}\r\n\r\nexport interface SwapParameters {\r\n  /**\r\n   * The method to call on the Uniswap V2 Router.\r\n   */\r\n  methodName: string\r\n  /**\r\n   * The arguments to pass to the method, all hex encoded.\r\n   */\r\n  args: (number | string | string[])[]\r\n  /**\r\n   * The amount of wei to send in hex.\r\n   */\r\n  value: string\r\n}\r\n\r\ninterface SwapCall {\r\n  contract: Contract\r\n  parameters: SwapParameters\r\n}\r\n\r\ninterface SuccessfulCall {\r\n  call: SwapCall\r\n  gasEstimate: BigNumber\r\n}\r\n\r\ninterface FailedCall {\r\n  call: SwapCall\r\n  error: Error\r\n}\r\n\r\ntype EstimatedSwapCall = SuccessfulCall | FailedCall\r\n\r\nfunction toHex(currencyAmount: CurrencyAmount) {\r\n  return `0x${currencyAmount.raw.toString(16)}`\r\n}\r\n\r\nconst ZERO_HEX = '0x0'\r\n\r\nfunction swapCallParameters(groupId: number, trade: Trade, options: TradeOptions): SwapParameters {\r\n  const etherIn = trade.inputAmount.currency === ETHER\r\n  const etherOut = trade.outputAmount.currency === ETHER\r\n  // the router does not support both ether in and out\r\n  invariant(!(etherIn && etherOut), 'ETHER_IN_OUT')\r\n  invariant(options.ttl > 0, 'TTL')\r\n\r\n  const amountIn: string = toHex(trade.maximumAmountIn(options.allowedSlippage))\r\n  const amountOut: string = toHex(trade.minimumAmountOut(options.allowedSlippage))\r\n  const path: string[] = trade.route.path.map(token => token.address)\r\n  const deadline = `0x${(Math.floor(new Date().getTime() / 1000) + options.ttl).toString(16)}`\r\n  const useFeeOnTransfer = Boolean(options.feeOnTransfer)\r\n\r\n  let methodName: string\r\n  let args: (number | string | string[])[]\r\n  let value: string\r\n  switch (trade.tradeType) {\r\n    case TradeType.EXACT_INPUT:\r\n      if (etherIn) {\r\n        methodName = useFeeOnTransfer ? 'swapExactETHForTokensSupportingFeeOnTransferTokens' : 'swapExactETHForTokens'\r\n        // (uint amountOutMin, address[] calldata path, address uint deadline)\r\n        args = ['0x' + groupId.toString(16), amountOut, path, deadline]\r\n        value = amountIn\r\n      } else if (etherOut) {\r\n        methodName = useFeeOnTransfer ? 'swapExactTokensForETHSupportingFeeOnTransferTokens' : 'swapExactTokensForETH'\r\n        // (uint amountIn, uint amountOutMin, address[] calldata path, address to, uint deadline)\r\n        args = ['0x' + groupId.toString(16), amountIn, amountOut, path, deadline]\r\n        value = ZERO_HEX\r\n      } else {\r\n        methodName = useFeeOnTransfer\r\n          ? 'swapExactTokensForTokensSupportingFeeOnTransferTokens'\r\n          : 'swapExactTokensForTokens'\r\n        // (uint amountIn, uint amountOutMin, address[] calldata path, address uint deadline)\r\n        args = ['0x' + groupId.toString(16), amountIn, amountOut, path, deadline]\r\n        value = ZERO_HEX\r\n      }\r\n      break\r\n    case TradeType.EXACT_OUTPUT:\r\n      invariant(!useFeeOnTransfer, 'EXACT_OUT_FOT')\r\n      if (etherIn) {\r\n        methodName = 'swapETHForExactTokens'\r\n        // (uint amountOut, address[] calldata path, address uint deadline)\r\n        args = ['0x' + groupId.toString(16), amountOut, path, deadline]\r\n        value = amountIn\r\n      } else if (etherOut) {\r\n        methodName = 'swapTokensForExactETH'\r\n        // (uint amountOut, uint amountInMax, address[] calldata path, address uint deadline)\r\n        args = ['0x' + groupId.toString(16), amountOut, amountIn, path, deadline]\r\n        value = ZERO_HEX\r\n      } else {\r\n        methodName = 'swapTokensForExactTokens'\r\n        // (uint amountOut, uint amountInMax, address[] calldata path, address uint deadline)\r\n        args = ['0x' + groupId.toString(16), amountIn, amountOut, path, deadline]\r\n        value = ZERO_HEX\r\n      }\r\n      break\r\n  }\r\n  return {\r\n    methodName,\r\n    args,\r\n    value\r\n  }\r\n}\r\n\r\n/**\r\n * Returns the swap calls that can be used to make the trade\r\n * @param trade trade to execute\r\n * @param allowedSlippage user allowed slippage\r\n * @param deadline the deadline for the trade\r\n * @param recipientAddressOrName\r\n */\r\nfunction useSwapCallArguments(\r\n  trade: Trade | undefined, // trade to execute, required\r\n  allowedSlippage: number = INITIAL_ALLOWED_SLIPPAGE, // in bips\r\n  deadline: number = DEFAULT_DEADLINE_FROM_NOW, // in seconds from now\r\n  recipientAddressOrName: string | null // the ENS name or address of the recipient of the trade, or null if swap should be returned to sender\r\n): SwapCall[] {\r\n  const { account, chainId, library } = useActiveWeb3React()\r\n  const groupId = useGroupId()\r\n\r\n  const { address: recipientAddress } = useENS(recipientAddressOrName)\r\n  const recipient = recipientAddressOrName === null ? account : recipientAddress\r\n\r\n  return useMemo(() => {\r\n    if (!trade || !recipient || !library || !account || !chainId) return []\r\n\r\n    const contract: Contract | null = getContract(\r\n      process.env.REACT_APP_UNIFUND_GROUP_ADDRESS!,\r\n      UnifundGroupABI,\r\n      library,\r\n      account\r\n    )\r\n    if (!contract) {\r\n      return []\r\n    }\r\n\r\n    const swapMethods = []\r\n\r\n    swapMethods.push(\r\n      swapCallParameters(groupId, trade, {\r\n        feeOnTransfer: false,\r\n        allowedSlippage: new Percent(JSBI.BigInt(allowedSlippage), BIPS_BASE),\r\n        recipient,\r\n        ttl: deadline\r\n      })\r\n    )\r\n\r\n    if (trade.tradeType === TradeType.EXACT_INPUT) {\r\n      swapMethods.push(\r\n        swapCallParameters(groupId, trade, {\r\n          feeOnTransfer: true,\r\n          allowedSlippage: new Percent(JSBI.BigInt(allowedSlippage), BIPS_BASE),\r\n          recipient,\r\n          ttl: deadline\r\n        })\r\n      )\r\n    }\r\n\r\n    return swapMethods.map(parameters => ({ parameters, contract }))\r\n  }, [account, groupId, allowedSlippage, chainId, deadline, library, recipient, trade])\r\n}\r\n\r\n// returns a function that will execute a swap, if the parameters are all valid\r\n// and the user has approved the slippage adjusted input amount for the trade\r\nexport function useSwapCallback(\r\n  trade: Trade | undefined, // trade to execute, required\r\n  allowedSlippage: number = INITIAL_ALLOWED_SLIPPAGE, // in bips\r\n  deadline: number = DEFAULT_DEADLINE_FROM_NOW, // in seconds from now\r\n  recipientAddressOrName: string | null // the ENS name or address of the recipient of the trade, or null if swap should be returned to sender\r\n): { state: SwapCallbackState; callback: null | (() => Promise<string>); error: string | null } {\r\n  const { account, chainId, library } = useActiveWeb3React()\r\n\r\n  const swapCalls = useSwapCallArguments(trade, allowedSlippage, deadline, recipientAddressOrName)\r\n\r\n  const addTransaction = useTransactionAdder()\r\n\r\n  const { address: recipientAddress } = useENS(recipientAddressOrName)\r\n  const recipient = recipientAddressOrName === null ? account : recipientAddress\r\n\r\n  return useMemo(() => {\r\n    if (!trade || !library || !account || !chainId) {\r\n      return { state: SwapCallbackState.INVALID, callback: null, error: 'Missing dependencies' }\r\n    }\r\n    if (!recipient) {\r\n      if (recipientAddressOrName !== null) {\r\n        return { state: SwapCallbackState.INVALID, callback: null, error: 'Invalid recipient' }\r\n      } else {\r\n        return { state: SwapCallbackState.LOADING, callback: null, error: null }\r\n      }\r\n    }\r\n\r\n    return {\r\n      state: SwapCallbackState.VALID,\r\n      callback: async function onSwap(): Promise<string> {\r\n        const estimatedCalls: EstimatedSwapCall[] = await Promise.all(\r\n          swapCalls.map(call => {\r\n            const {\r\n              parameters: { methodName, args, value },\r\n              contract\r\n            } = call\r\n            const options = !value || isZero(value) ? {} : { value }\r\n\r\n            return contract.estimateGas[methodName](...args, options)\r\n              .then(gasEstimate => {\r\n                return {\r\n                  call,\r\n                  gasEstimate\r\n                }\r\n              })\r\n              .catch(gasError => {\r\n                console.debug('Gas estimate failed, trying eth_call to extract error', call)\r\n\r\n                return contract.callStatic[methodName](...args, options)\r\n                  .then(result => {\r\n                    console.debug('Unexpected successful call after failed estimate gas', call, gasError, result)\r\n                    return { call, error: new Error('Unexpected issue with estimating the gas. Please try again.') }\r\n                  })\r\n                  .catch(callError => {\r\n                    console.debug('Call threw error', call, callError)\r\n                    let errorMessage: string\r\n                    switch (callError.reason) {\r\n                      case 'UniswapV2Router: INSUFFICIENT_OUTPUT_AMOUNT':\r\n                      case 'UniswapV2Router: EXCESSIVE_INPUT_AMOUNT':\r\n                        errorMessage =\r\n                          'This transaction will not succeed either due to price movement or fee on transfer. Try increasing your slippage tolerance.'\r\n                        break\r\n                      default:\r\n                        errorMessage = `The transaction cannot succeed due to error: ${callError.reason ||\r\n                          callError.message}. This is probably an issue with one of the tokens you are swapping.`\r\n                    }\r\n                    return { call, error: new Error(errorMessage) }\r\n                  })\r\n              })\r\n          })\r\n        )\r\n\r\n        // a successful estimation is a bignumber gas estimate and the next call is also a bignumber gas estimate\r\n        const successfulEstimation = estimatedCalls.find(\r\n          (el, ix, list): el is SuccessfulCall =>\r\n            'gasEstimate' in el && (ix === list.length - 1 || 'gasEstimate' in list[ix + 1])\r\n        )\r\n\r\n        if (!successfulEstimation) {\r\n          const errorCalls = estimatedCalls.filter((call): call is FailedCall => 'error' in call)\r\n          if (errorCalls.length > 0) throw errorCalls[errorCalls.length - 1].error\r\n          throw new Error('Unexpected error. Please contact support: none of the calls threw an error')\r\n        }\r\n\r\n        const {\r\n          call: {\r\n            contract,\r\n            parameters: { methodName, args, value }\r\n          },\r\n          gasEstimate\r\n        } = successfulEstimation\r\n\r\n        return contract[methodName](...args, {\r\n          gasLimit: calculateGasMargin(gasEstimate),\r\n          ...(value && !isZero(value) ? { value, from: account } : { from: account })\r\n        })\r\n          .then((response: any) => {\r\n            const inputSymbol = trade.inputAmount.currency.symbol\r\n            const outputSymbol = trade.outputAmount.currency.symbol\r\n            const inputAmount = trade.inputAmount.toSignificant(3)\r\n            const outputAmount = trade.outputAmount.toSignificant(3)\r\n\r\n            const base = `Swap ${inputAmount} ${inputSymbol} for ${outputAmount} ${outputSymbol}`\r\n            const withRecipient =\r\n              recipient === account\r\n                ? base\r\n                : `${base} to ${\r\n                    recipientAddressOrName && isAddress(recipientAddressOrName)\r\n                      ? shortenAddress(recipientAddressOrName)\r\n                      : recipientAddressOrName\r\n                  }`\r\n\r\n            addTransaction(response, {\r\n              summary: withRecipient\r\n            })\r\n\r\n            return response.hash\r\n          })\r\n          .catch((error: any) => {\r\n            // if the user rejected the tx, pass this along\r\n            if (error?.code === 4001) {\r\n              throw new Error('Transaction rejected.')\r\n            } else {\r\n              // otherwise, the error was unexpected and we need to convey that\r\n              console.error(`Swap failed`, error, methodName, args, value)\r\n              throw new Error(`Swap failed: ${error.message}`)\r\n            }\r\n          })\r\n      },\r\n      error: null\r\n    }\r\n  }, [trade, library, account, chainId, recipient, recipientAddressOrName, swapCalls, addTransaction])\r\n}\r\n","import { ChainId, Currency, CurrencyAmount, ETHER, Token, TokenAmount, WETH } from 'src/sdk'\r\n\r\nexport function wrappedCurrency(currency: Currency | undefined, chainId: ChainId | undefined): Token | undefined {\r\n  return chainId && currency === ETHER ? WETH[chainId] : currency instanceof Token ? currency : undefined\r\n}\r\n\r\nexport function wrappedCurrencyAmount(\r\n  currencyAmount: CurrencyAmount | undefined,\r\n  chainId: ChainId | undefined\r\n): TokenAmount | undefined {\r\n  const token = currencyAmount && chainId ? wrappedCurrency(currencyAmount.currency, chainId) : undefined\r\n  return token && currencyAmount ? new TokenAmount(token, currencyAmount.raw) : undefined\r\n}\r\n\r\nexport function unwrappedToken(token: Token): Currency {\r\n  if (token.equals(WETH[token.chainId])) return ETHER\r\n  return token\r\n}\r\n","import { TokenAmount, Pair, Currency } from 'src/sdk'\r\nimport { useMemo } from 'react'\r\nimport { abi as IUniswapV2PairABI } from '@uniswap/v2-core/build/IUniswapV2Pair.json'\r\nimport { Interface } from '@ethersproject/abi'\r\nimport { useActiveWeb3React } from '../hooks'\r\n\r\nimport { useMultipleContractSingleData } from '../state/multicall/hooks'\r\nimport { wrappedCurrency } from '../utils/wrappedCurrency'\r\n\r\nconst PAIR_INTERFACE = new Interface(IUniswapV2PairABI)\r\n\r\nexport enum PairState {\r\n  LOADING,\r\n  NOT_EXISTS,\r\n  EXISTS,\r\n  INVALID\r\n}\r\n\r\nexport function usePairs(currencies: [Currency | undefined, Currency | undefined][]): [PairState, Pair | null][] {\r\n  const { chainId } = useActiveWeb3React()\r\n\r\n  const tokens = useMemo(\r\n    () =>\r\n      currencies.map(([currencyA, currencyB]) => [\r\n        wrappedCurrency(currencyA, chainId),\r\n        wrappedCurrency(currencyB, chainId)\r\n      ]),\r\n    [chainId, currencies]\r\n  )\r\n\r\n  const pairAddresses = useMemo(\r\n    () =>\r\n      tokens.map(([tokenA, tokenB]) => {\r\n        return tokenA && tokenB && !tokenA.equals(tokenB) ? Pair.getAddress(tokenA, tokenB) : undefined\r\n      }),\r\n    [tokens]\r\n  )\r\n\r\n  const results = useMultipleContractSingleData(pairAddresses, PAIR_INTERFACE, 'getReserves')\r\n\r\n  return useMemo(() => {\r\n    return results.map((result, i) => {\r\n      const { result: reserves, loading } = result\r\n      const tokenA = tokens[i][0]\r\n      const tokenB = tokens[i][1]\r\n\r\n      if (loading) return [PairState.LOADING, null]\r\n      if (!tokenA || !tokenB || tokenA.equals(tokenB)) return [PairState.INVALID, null]\r\n      if (!reserves) return [PairState.NOT_EXISTS, null]\r\n      const { reserve0, reserve1 } = reserves\r\n      const [token0, token1] = tokenA.sortsBefore(tokenB) ? [tokenA, tokenB] : [tokenB, tokenA]\r\n      return [\r\n        PairState.EXISTS,\r\n        new Pair(new TokenAmount(token0, reserve0.toString()), new TokenAmount(token1, reserve1.toString()))\r\n      ]\r\n    })\r\n  }, [results, tokens])\r\n}\r\n\r\nexport function usePair(tokenA?: Currency, tokenB?: Currency): [PairState, Pair | null] {\r\n  return usePairs([[tokenA, tokenB]])[0]\r\n}\r\n","import { Currency, CurrencyAmount, Pair, Token, Trade } from 'src/sdk'\r\nimport flatMap from 'lodash.flatmap'\r\nimport { useMemo } from 'react'\r\n\r\nimport { BASES_TO_CHECK_TRADES_AGAINST, CUSTOM_BASES } from '../constants'\r\nimport { PairState, usePairs } from '../data/Reserves'\r\nimport { wrappedCurrency } from '../utils/wrappedCurrency'\r\n\r\nimport { useActiveWeb3React } from './index'\r\n\r\nfunction useAllCommonPairs(currencyA?: Currency, currencyB?: Currency): Pair[] {\r\n  const { chainId } = useActiveWeb3React()\r\n\r\n  const bases: Token[] = chainId ? BASES_TO_CHECK_TRADES_AGAINST[chainId] : []\r\n\r\n  const [tokenA, tokenB] = chainId\r\n    ? [wrappedCurrency(currencyA, chainId), wrappedCurrency(currencyB, chainId)]\r\n    : [undefined, undefined]\r\n\r\n  const basePairs: [Token, Token][] = useMemo(\r\n    () =>\r\n      flatMap(bases, (base): [Token, Token][] => bases.map(otherBase => [base, otherBase])).filter(\r\n        ([t0, t1]) => t0.address !== t1.address\r\n      ),\r\n    [bases]\r\n  )\r\n\r\n  const allPairCombinations: [Token, Token][] = useMemo(\r\n    () =>\r\n      tokenA && tokenB\r\n        ? [\r\n            // the direct pair\r\n            [tokenA, tokenB],\r\n            // token A against all bases\r\n            ...bases.map((base): [Token, Token] => [tokenA, base]),\r\n            // token B against all bases\r\n            ...bases.map((base): [Token, Token] => [tokenB, base]),\r\n            // each base against all bases\r\n            ...basePairs\r\n          ]\r\n            .filter((tokens): tokens is [Token, Token] => Boolean(tokens[0] && tokens[1]))\r\n            .filter(([t0, t1]) => t0.address !== t1.address)\r\n            .filter(([tokenA, tokenB]) => {\r\n              if (!chainId) return true\r\n              const customBases = CUSTOM_BASES[chainId]\r\n              if (!customBases) return true\r\n\r\n              const customBasesA: Token[] | undefined = customBases[tokenA.address]\r\n              const customBasesB: Token[] | undefined = customBases[tokenB.address]\r\n\r\n              if (!customBasesA && !customBasesB) return true\r\n\r\n              if (customBasesA && !customBasesA.find(base => tokenB.equals(base))) return false\r\n              if (customBasesB && !customBasesB.find(base => tokenA.equals(base))) return false\r\n\r\n              return true\r\n            })\r\n        : [],\r\n    [tokenA, tokenB, bases, basePairs, chainId]\r\n  )\r\n\r\n  const allPairs = usePairs(allPairCombinations)\r\n\r\n  // only pass along valid pairs, non-duplicated pairs\r\n  return useMemo(\r\n    () =>\r\n      Object.values(\r\n        allPairs\r\n          // filter out invalid pairs\r\n          .filter((result): result is [PairState.EXISTS, Pair] => Boolean(result[0] === PairState.EXISTS && result[1]))\r\n          // filter out duplicated pairs\r\n          .reduce<{ [pairAddress: string]: Pair }>((memo, [, curr]) => {\r\n            memo[curr.liquidityToken.address] = memo[curr.liquidityToken.address] ?? curr\r\n            return memo\r\n          }, {})\r\n      ),\r\n    [allPairs]\r\n  )\r\n}\r\n\r\n/**\r\n * Returns the best trade for the exact amount of tokens in to the given token out\r\n */\r\nexport function useTradeExactIn(currencyAmountIn?: CurrencyAmount, currencyOut?: Currency): Trade | null {\r\n  const allowedPairs = useAllCommonPairs(currencyAmountIn?.currency, currencyOut)\r\n  return useMemo(() => {\r\n    if (currencyAmountIn && currencyOut && allowedPairs.length > 0) {\r\n      return (\r\n        Trade.bestTradeExactIn(allowedPairs, currencyAmountIn, currencyOut, { maxHops: 3, maxNumResults: 1 })[0] ?? null\r\n      )\r\n    }\r\n    return null\r\n  }, [allowedPairs, currencyAmountIn, currencyOut])\r\n}\r\n\r\n/**\r\n * Returns the best trade for the token in to the exact amount of token out\r\n */\r\nexport function useTradeExactOut(currencyIn?: Currency, currencyAmountOut?: CurrencyAmount): Trade | null {\r\n  const allowedPairs = useAllCommonPairs(currencyIn, currencyAmountOut?.currency)\r\n\r\n  return useMemo(() => {\r\n    if (currencyIn && currencyAmountOut && allowedPairs.length > 0) {\r\n      return (\r\n        Trade.bestTradeExactOut(allowedPairs, currencyIn, currencyAmountOut, { maxHops: 3, maxNumResults: 1 })[0] ??\r\n        null\r\n      )\r\n    }\r\n    return null\r\n  }, [allowedPairs, currencyIn, currencyAmountOut])\r\n}\r\n","import useENS from '../../hooks/useENS'\r\nimport { parseUnits } from '@ethersproject/units'\r\nimport { Currency, CurrencyAmount, ETHER, JSBI, Token, TokenAmount, Trade } from 'src/sdk'\r\nimport { ParsedQs } from 'qs'\r\nimport { useCallback, useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { useCurrency } from '../../hooks/Tokens'\r\nimport { useTradeExactIn, useTradeExactOut } from '../../hooks/Trades'\r\nimport useParsedQueryString from '../../hooks/useParsedQueryString'\r\nimport { isAddress } from '../../utils'\r\nimport { AppDispatch, AppState } from '../index'\r\nimport { useCurrencyBalances, useGroupCurrencyBalances } from '../wallet/hooks'\r\nimport { Field, replaceSwapState, selectCurrency, setRecipient, switchCurrencies, typeInput } from './actions'\r\nimport { SwapState } from './reducer'\r\nimport { useUserSlippageTolerance } from '../user/hooks'\r\nimport { computeSlippageAdjustedAmounts } from '../../utils/prices'\r\n\r\nexport function useSwapState(): AppState['swap'] {\r\n  return useSelector<AppState, AppState['swap']>(state => state.swap)\r\n}\r\n\r\nexport function useSwapActionHandlers(): {\r\n  onCurrencySelection: (field: Field, currency: Currency) => void\r\n  onSwitchTokens: () => void\r\n  onUserInput: (field: Field, typedValue: string) => void\r\n  onChangeRecipient: (recipient: string | null) => void\r\n} {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const onCurrencySelection = useCallback(\r\n    (field: Field, currency: Currency) => {\r\n      dispatch(\r\n        selectCurrency({\r\n          field,\r\n          currencyId: currency instanceof Token ? currency.address : currency === ETHER ? 'ETH' : ''\r\n        })\r\n      )\r\n    },\r\n    [dispatch]\r\n  )\r\n\r\n  const onSwitchTokens = useCallback(() => {\r\n    dispatch(switchCurrencies())\r\n  }, [dispatch])\r\n\r\n  const onUserInput = useCallback(\r\n    (field: Field, typedValue: string) => {\r\n      dispatch(typeInput({ field, typedValue }))\r\n    },\r\n    [dispatch]\r\n  )\r\n\r\n  const onChangeRecipient = useCallback(\r\n    (recipient: string | null) => {\r\n      dispatch(setRecipient({ recipient }))\r\n    },\r\n    [dispatch]\r\n  )\r\n\r\n  return {\r\n    onSwitchTokens,\r\n    onCurrencySelection,\r\n    onUserInput,\r\n    onChangeRecipient\r\n  }\r\n}\r\n\r\n// try to parse a user entered amount for a given token\r\nexport function tryParseAmount(value?: string, currency?: Currency): CurrencyAmount | undefined {\r\n  if (!value || !currency) {\r\n    return undefined\r\n  }\r\n  try {\r\n    const typedValueParsed = parseUnits(value, currency.decimals).toString()\r\n    if (typedValueParsed !== '0') {\r\n      return currency instanceof Token\r\n        ? new TokenAmount(currency, JSBI.BigInt(typedValueParsed))\r\n        : CurrencyAmount.ether(JSBI.BigInt(typedValueParsed))\r\n    }\r\n  } catch (error) {\r\n    // should fail if the user specifies too many decimal places of precision (or maybe exceed max uint?)\r\n    console.debug(`Failed to parse input amount: \"${value}\"`, error)\r\n  }\r\n  // necessary for all paths to return a value\r\n  return undefined\r\n}\r\n\r\nconst BAD_RECIPIENT_ADDRESSES: string[] = [\r\n  '0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f', // v2 factory\r\n  '0xf164fC0Ec4E93095b804a4795bBe1e041497b92a', // v2 router 01\r\n  '0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D' // v2 router 02\r\n]\r\n\r\n/**\r\n * Returns true if any of the pairs or tokens in a trade have the given checksummed address\r\n * @param trade to check for the given address\r\n * @param checksummedAddress address to check in the pairs and tokens\r\n */\r\nfunction involvesAddress(trade: Trade, checksummedAddress: string): boolean {\r\n  return (\r\n    trade.route.path.some(token => token.address === checksummedAddress) ||\r\n    trade.route.pairs.some(pair => pair.liquidityToken.address === checksummedAddress)\r\n  )\r\n}\r\n\r\n// from the current swap inputs, compute the best trade and return it.\r\nexport function useDerivedSwapInfo({\r\n  useGroup\r\n}: any): {\r\n  currencies: { [field in Field]?: Currency }\r\n  groupCurrencyBalances: { [field in Field]?: CurrencyAmount }\r\n  currencyBalances: { [field in Field]?: CurrencyAmount }\r\n  parsedAmount: CurrencyAmount | undefined\r\n  trade: Trade | undefined\r\n  inputError?: string\r\n} {\r\n  const { account } = useActiveWeb3React()\r\n\r\n  const {\r\n    independentField,\r\n    typedValue,\r\n    [Field.INPUT]: { currencyId: inputCurrencyId },\r\n    [Field.OUTPUT]: { currencyId: outputCurrencyId },\r\n    recipient\r\n  } = useSwapState()\r\n\r\n  const inputCurrency = useCurrency(inputCurrencyId)\r\n  const outputCurrency = useCurrency(outputCurrencyId)\r\n  const recipientLookup = useENS(recipient ?? undefined)\r\n  const to: string | null = (recipient === null ? account : recipientLookup.address) ?? null\r\n\r\n  const relevantTokenBalances = useCurrencyBalances(account ?? undefined, [\r\n    inputCurrency ?? undefined,\r\n    outputCurrency ?? undefined\r\n  ])\r\n\r\n  const relevantGroupTokenBalances = useGroupCurrencyBalances(account ?? undefined, [\r\n    inputCurrency ?? undefined,\r\n    outputCurrency ?? undefined\r\n  ])\r\n\r\n  const isExactIn: boolean = independentField === Field.INPUT\r\n  const parsedAmount = tryParseAmount(typedValue, (isExactIn ? inputCurrency : outputCurrency) ?? undefined)\r\n\r\n  const bestTradeExactIn = useTradeExactIn(isExactIn ? parsedAmount : undefined, outputCurrency ?? undefined)\r\n  const bestTradeExactOut = useTradeExactOut(inputCurrency ?? undefined, !isExactIn ? parsedAmount : undefined)\r\n\r\n  const trade = isExactIn ? bestTradeExactIn : bestTradeExactOut\r\n\r\n  const currencyBalances = {\r\n    [Field.INPUT]: relevantTokenBalances[0],\r\n    [Field.OUTPUT]: relevantTokenBalances[1]\r\n  }\r\n  const groupCurrencyBalances = {\r\n    [Field.INPUT]: relevantGroupTokenBalances[0],\r\n    [Field.OUTPUT]: relevantGroupTokenBalances[1]\r\n  }\r\n\r\n  const currencies: { [field in Field]?: Currency } = {\r\n    [Field.INPUT]: inputCurrency ?? undefined,\r\n    [Field.OUTPUT]: outputCurrency ?? undefined\r\n  }\r\n\r\n  let inputError: string | undefined\r\n  if (!account) {\r\n    inputError = 'Connect Wallet'\r\n  }\r\n\r\n  if (!parsedAmount) {\r\n    inputError = inputError ?? 'Enter an amount'\r\n  }\r\n\r\n  if (!currencies[Field.INPUT] || !currencies[Field.OUTPUT]) {\r\n    inputError = inputError ?? 'Select a token'\r\n  }\r\n\r\n  const formattedTo = isAddress(to)\r\n  if (!to || !formattedTo) {\r\n    inputError = inputError ?? 'Enter a recipient'\r\n  } else {\r\n    if (\r\n      BAD_RECIPIENT_ADDRESSES.indexOf(formattedTo) !== -1 ||\r\n      (bestTradeExactIn && involvesAddress(bestTradeExactIn, formattedTo)) ||\r\n      (bestTradeExactOut && involvesAddress(bestTradeExactOut, formattedTo))\r\n    ) {\r\n      inputError = inputError ?? 'Invalid recipient'\r\n    }\r\n  }\r\n\r\n  const [allowedSlippage] = useUserSlippageTolerance()\r\n\r\n  const slippageAdjustedAmounts = trade && allowedSlippage && computeSlippageAdjustedAmounts(trade, allowedSlippage)\r\n\r\n  // compare input balance to max input based on version\r\n  const [balanceIn, amountIn] = [\r\n    (useGroup ? groupCurrencyBalances : currencyBalances)[Field.INPUT],\r\n    slippageAdjustedAmounts ? slippageAdjustedAmounts[Field.INPUT] : null\r\n  ]\r\n\r\n  if (balanceIn && amountIn && balanceIn.lessThan(amountIn)) {\r\n    inputError = 'Insufficient ' + amountIn.currency.symbol + ' balance'\r\n  }\r\n\r\n  return {\r\n    currencies,\r\n    currencyBalances,\r\n    groupCurrencyBalances,\r\n    parsedAmount,\r\n    trade: trade ?? undefined,\r\n    inputError\r\n  }\r\n}\r\n\r\nfunction parseCurrencyFromURLParameter(urlParam: any, defaultAddress: string): string {\r\n  if (typeof urlParam === 'string') {\r\n    const valid = isAddress(urlParam)\r\n    if (valid) return valid\r\n    if (urlParam.toUpperCase() === 'ETH') return 'ETH'\r\n    if (valid === false) return defaultAddress\r\n  }\r\n  return defaultAddress\r\n}\r\n\r\nfunction parseTokenAmountURLParameter(urlParam: any): string {\r\n  return typeof urlParam === 'string' && !isNaN(parseFloat(urlParam)) ? urlParam : ''\r\n}\r\n\r\nfunction parseIndependentFieldURLParameter(urlParam: any): Field {\r\n  return typeof urlParam === 'string' && urlParam.toLowerCase() === 'output' ? Field.OUTPUT : Field.INPUT\r\n}\r\n\r\nconst ENS_NAME_REGEX = /^[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_+.~#?&/=]*)?$/\r\nconst ADDRESS_REGEX = /^0x[a-fA-F0-9]{40}$/\r\nfunction validatedRecipient(recipient: any): string | null {\r\n  if (typeof recipient !== 'string') return null\r\n  const address = isAddress(recipient)\r\n  if (address) return address\r\n  if (ENS_NAME_REGEX.test(recipient)) return recipient\r\n  if (ADDRESS_REGEX.test(recipient)) return recipient\r\n  return null\r\n}\r\n\r\nexport function queryParametersToSwapState(parsedQs: ParsedQs): SwapState {\r\n  let inputCurrency = parseCurrencyFromURLParameter(parsedQs.inputCurrency, process.env.REACT_APP_DEFAULT_FROM_ADDRESS!)\r\n  let outputCurrency = parseCurrencyFromURLParameter(parsedQs.outputCurrency, process.env.REACT_APP_DEFAULT_TO_ADDRESS!)\r\n  if (inputCurrency === outputCurrency) {\r\n    if (typeof parsedQs.outputCurrency === 'string') {\r\n      inputCurrency = ''\r\n    } else {\r\n      outputCurrency = ''\r\n    }\r\n  }\r\n\r\n  const recipient = validatedRecipient(parsedQs.recipient)\r\n\r\n  return {\r\n    [Field.INPUT]: {\r\n      currencyId: inputCurrency\r\n    },\r\n    [Field.OUTPUT]: {\r\n      currencyId: outputCurrency\r\n    },\r\n    typedValue: parseTokenAmountURLParameter(parsedQs.exactAmount),\r\n    independentField: parseIndependentFieldURLParameter(parsedQs.exactField),\r\n    recipient\r\n  }\r\n}\r\n\r\n// updates the swap state to use the defaults for a given network\r\nexport function useDefaultsFromURLSearch():\r\n  | { inputCurrencyId: string | undefined; outputCurrencyId: string | undefined }\r\n  | undefined {\r\n  const { chainId } = useActiveWeb3React()\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const parsedQs = useParsedQueryString()\r\n  const [result, setResult] = useState<\r\n    { inputCurrencyId: string | undefined; outputCurrencyId: string | undefined } | undefined\r\n  >()\r\n\r\n  useEffect(() => {\r\n    if (!chainId) return\r\n    const parsed = queryParametersToSwapState(parsedQs)\r\n\r\n    dispatch(\r\n      replaceSwapState({\r\n        typedValue: parsed.typedValue,\r\n        field: parsed.independentField,\r\n        inputCurrencyId: parsed[Field.INPUT].currencyId,\r\n        outputCurrencyId: parsed[Field.OUTPUT].currencyId,\r\n        recipient: parsed.recipient\r\n      })\r\n    )\r\n\r\n    setResult({ inputCurrencyId: parsed[Field.INPUT].currencyId, outputCurrencyId: parsed[Field.OUTPUT].currencyId })\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [dispatch, chainId])\r\n\r\n  return result\r\n}\r\n","import { parse, ParsedQs } from 'qs'\r\nimport { useMemo } from 'react'\r\nimport { useLocation } from 'react-router-dom'\r\n\r\nexport default function useParsedQueryString(): ParsedQs {\r\n  const { search } = useLocation()\r\n  return useMemo(\r\n    () => (search && search.length > 1 ? parse(search, { parseArrays: false, ignoreQueryPrefix: true }) : {}),\r\n    [search]\r\n  )\r\n}\r\n","import { Text } from 'rebass'\r\nimport { Button } from 'src/theme/components'\r\nimport styled from 'styled-components'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { darken } from 'polished'\r\n\r\nexport const Wrapper = styled.div`\r\n  position: relative;\r\n`\r\n\r\nexport const ClickableText = styled(Text)`\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n  color: ${({ theme }) => theme.primary1};\r\n`\r\nexport const MaxButton = styled.button<{ width?: string; enabled?: boolean }>`\r\n  padding: 0.5rem 1rem;\r\n  background-color: transparent;\r\n  border: 1px solid ${({ theme }) => theme.primary1};\r\n  border-radius: 0.25rem;\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  margin: 0.25rem;\r\n  overflow: hidden;\r\n  color: ${({ theme }) => theme.primary1};\r\n  :hover {\r\n    background-color: ${({ theme }) => theme.primary4};\r\n    border: 1px solid ${({ theme }) => theme.primary1};\r\n  }\r\n  :focus {\r\n    border: 1px solid ${({ theme }) => theme.primary1};\r\n    outline: none;\r\n  }\r\n  ${({ theme, enabled = false }) =>\r\n    enabled\r\n      ? `background-color: ${theme.primary1};\r\n        color: ${theme.text1};\r\n        border: 1px solid ${theme.primary1};`\r\n      : ''}\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    width: 100%;\r\n  `};\r\n`\r\n\r\nexport const Dots = styled.span`\r\n  &::after {\r\n    display: inline-block;\r\n    animation: ellipsis 1.25s infinite;\r\n    content: '.';\r\n    width: 1em;\r\n    text-align: left;\r\n  }\r\n  @keyframes ellipsis {\r\n    0% {\r\n      content: '.';\r\n    }\r\n    33% {\r\n      content: '..';\r\n    }\r\n    66% {\r\n      content: '...';\r\n    }\r\n  }\r\n`\r\n\r\nexport const MainNavLink = styled(NavLink)`\r\n  height: 3rem;\r\n  display: inline-grid;\r\n  padding: 0.5em 1em;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 3rem;\r\n  border-radius: 3rem;\r\n  outline: none;\r\n  cursor: pointer;\r\n  text-decoration: none;\r\n  font-size: 20px;\r\n\r\n  border-radius: 12px;\r\n  color: ${({ theme }) => theme.bg1};\r\n  background-color: ${({ theme }) => theme.primary1};\r\n\r\n  :hover,\r\n  :focus {\r\n    background-color: ${({ theme }) => darken(0.05, theme.primary1)};\r\n  }\r\n`\r\n\r\nexport const MainButton = styled(Button)`\r\n  height: 3rem;\r\n  display: inline-grid;\r\n  padding: 0.5em 1em;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 3rem;\r\n  border-radius: 3rem;\r\n  outline: none;\r\n  cursor: pointer;\r\n  text-decoration: none;\r\n  font-size: 20px;\r\n\r\n  border-radius: 12px;\r\n  color: ${({ theme }) => theme.text1};\r\n  background-color: #736ba5;\r\n\r\n  :hover,\r\n  :focus {\r\n    background-color: #45457d;\r\n  }\r\n`\r\n","import { Token } from 'src/sdk'\r\n// import { transparentize } from 'polished'\r\nimport React, { useContext } from 'react'\r\nimport { useActiveWeb3React } from 'src/hooks'\r\nimport { Text } from 'rebass'\r\nimport { TYPE } from 'src/theme'\r\n// import { ExternalLink } from 'src/theme/components'\r\nimport { getEtherscanLink } from 'src/utils'\r\nimport styled, { ThemeContext } from 'styled-components'\r\nimport { AutoColumn } from '../Column'\r\nimport CurrencyLogo from '../CurrencyLogo'\r\n\r\nconst Wrapper = styled.div`\r\n  border: ${({ theme }) => `1px solid ${theme.bg3}`};\r\n  padding: 1rem;\r\n  border-radius: 0.5rem;\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 1rem;\r\n  margin-bottom: 0.5rem;\r\n`\r\n\r\nexport default ({ name, decimals = 18, symbol, address, amount }: any) => {\r\n  const { chainId } = useActiveWeb3React()\r\n  const theme = useContext(ThemeContext)\r\n  return (\r\n    <Wrapper>\r\n      <AutoColumn gap=\"24px\">\r\n        <CurrencyLogo currency={new Token(chainId!, address, decimals, symbol, name)} size={'24px'} />\r\n      </AutoColumn>\r\n      <AutoColumn gap=\"0.25rem\" justify=\"flex-start\">\r\n        <TYPE.main color={theme.text1} marginLeft=\"0.75rem\">\r\n          {amount ? amount + ' ' : ''}\r\n          {name && symbol && name !== symbol ? `${symbol} (${name})` : name || symbol}{' '}\r\n        </TYPE.main>\r\n        {chainId && (\r\n          <a href={getEtherscanLink(chainId, address, 'token')}>\r\n            <Text fontSize=\"14px\" marginLeft=\"0.75rem\" title={address}>\r\n              View on Etherscan\r\n            </Text>\r\n          </a>\r\n        )}\r\n      </AutoColumn>\r\n    </Wrapper>\r\n  )\r\n}\r\n","import { CurrencyAmount, JSBI, Token, Trade } from 'src/sdk'\r\nimport React, { useCallback, useContext, useEffect, useState } from 'react'\r\nimport { ArrowDown } from 'react-feather'\r\nimport ReactGA from 'react-ga'\r\nimport { RouteComponentProps, withRouter } from 'react-router-dom'\r\nimport { Text } from 'rebass'\r\nimport { ThemeContext } from 'styled-components'\r\nimport SortButton from 'src/components/SearchModal/SortButton'\r\nimport AddressInputPanel from '../../components/AddressInputPanel'\r\nimport { ButtonError, ButtonSecondary } from '../../components/Button'\r\nimport Card, { GreyCard } from '../../components/Card'\r\nimport { AutoColumn } from '../../components/Column'\r\nimport ConfirmSwapModal from '../../components/swap/ConfirmSwapModal'\r\nimport CurrencyInputPanel from '../../components/CurrencyInputPanel'\r\nimport { AutoRow } from '../../components/Row'\r\nimport AdvancedSwapDetailsDropdown from '../../components/swap/AdvancedSwapDetailsDropdown'\r\nimport confirmPriceImpactWithoutFee from '../../components/swap/confirmPriceImpactWithoutFee'\r\nimport { ArrowWrapper, BottomGrouping, SwapCallbackError, Wrapper } from '../../components/swap/styleds'\r\nimport TradePrice from '../../components/swap/TradePrice'\r\nimport TokenWarningModal from '../../components/TokenWarningModal'\r\nimport { INITIAL_ALLOWED_SLIPPAGE } from '../../constants'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { useCurrency } from '../../hooks/Tokens'\r\nimport { ApprovalState, useApproveCallbackFromTrade } from '../../hooks/useApproveCallback'\r\nimport useENSAddress from '../../hooks/useENSAddress'\r\nimport { useSwapCallback } from '../../hooks/useSwapCallback'\r\nimport { useToggleSettingsMenu, useWalletModalToggle } from '../../state/application/hooks'\r\nimport { Field } from '../../state/swap/actions'\r\nimport {\r\n  useDefaultsFromURLSearch,\r\n  useDerivedSwapInfo,\r\n  useSwapActionHandlers,\r\n  useSwapState\r\n} from '../../state/swap/hooks'\r\nimport { useExpertModeManager, useUserDeadline, useUserSlippageTolerance } from '../../state/user/hooks'\r\nimport { LinkStyledButton, TYPE } from '../../theme'\r\nimport { maxAmountSpend } from '../../utils/maxAmountSpend'\r\nimport { computeTradePriceBreakdown, warningSeverity } from '../../utils/prices'\r\nimport DefaultLayout from '../../layouts/default'\r\nimport { ClickableText } from '../../components/styleds'\r\nimport { useAllTokens } from '../../hooks/Tokens'\r\nimport { MainHeading } from 'src/components/NavigationTabs'\r\nimport Row, { RowBetween } from 'src/components/Row'\r\nimport styled from 'styled-components'\r\nimport { css } from '@emotion/core'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useGroupActions } from 'src/context/GroupContext'\r\nimport TokenPanel from 'src/components/TokenPanel'\r\n\r\nexport const RowAlignRight = styled(Row)`\r\n  justify-content: flex-end;\r\n`\r\n\r\nconst AvailableTokens = ({ tokens, account }: any) => {\r\n  return (\r\n    <div>\r\n      {tokens === undefined ? <div>Loading... this may take a while.</div> : null}\r\n      {tokens !== undefined && tokens.length === 0 ? <div>No tokens yet</div> : null}\r\n      {tokens?.map((token: any) => {\r\n        return (\r\n          <TokenPanel\r\n            key={token.name}\r\n            name={token.name}\r\n            symbol={token.symbol}\r\n            address={token.address}\r\n            amount={token.amount}\r\n          />\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst GroupSwap = ({\r\n  history,\r\n  match: {\r\n    params: { id }\r\n  }\r\n}: RouteComponentProps<{ id?: string }>) => {\r\n  const loadedUrlParams = useDefaultsFromURLSearch()\r\n  const allTokens = useAllTokens()\r\n  const allTokensArray = Object.values(allTokens)\r\n\r\n  // token warning stuff\r\n  const [loadedInputCurrency, loadedOutputCurrency] = [\r\n    useCurrency(loadedUrlParams?.inputCurrencyId),\r\n    useCurrency(loadedUrlParams?.outputCurrencyId)\r\n  ]\r\n  const [dismissTokenWarning, setDismissTokenWarning] = useState<boolean>(false)\r\n  const urlLoadedTokens: Token[] =\r\n    [loadedInputCurrency, loadedOutputCurrency]?.filter(\r\n      (c): c is Token => c instanceof Token && !allTokensArray?.find((a: any) => a.address !== c.address)\r\n    ) ?? []\r\n  const handleConfirmTokenWarning = useCallback(() => {\r\n    setDismissTokenWarning(true)\r\n  }, [])\r\n\r\n  const { t } = useTranslation()\r\n  const { account } = useActiveWeb3React()\r\n  const theme = useContext(ThemeContext)\r\n\r\n  // toggle wallet when disconnected\r\n  const toggleWalletModal = useWalletModalToggle()\r\n\r\n  // for expert mode\r\n  const toggleSettings = useToggleSettingsMenu()\r\n  const [isExpertMode] = useExpertModeManager()\r\n\r\n  // get custom setting values for user\r\n  const [deadline] = useUserDeadline()\r\n  const [allowedSlippage] = useUserSlippageTolerance()\r\n\r\n  // swap state\r\n  const { independentField, typedValue, recipient } = useSwapState()\r\n  const { trade, groupCurrencyBalances, parsedAmount, currencies, inputError: swapInputError } = useDerivedSwapInfo({\r\n    useGroup: true\r\n  })\r\n  const { address: recipientAddress } = useENSAddress(recipient)\r\n\r\n  const parsedAmounts = {\r\n    [Field.INPUT]: independentField === Field.INPUT ? parsedAmount : trade?.inputAmount,\r\n    [Field.OUTPUT]: independentField === Field.OUTPUT ? parsedAmount : trade?.outputAmount\r\n  }\r\n\r\n  const [showDetails, setShowDetails] = useState(false)\r\n  const { onSwitchTokens, onCurrencySelection, onUserInput, onChangeRecipient } = useSwapActionHandlers()\r\n  const isValid = !swapInputError\r\n  const dependentField: Field = independentField === Field.INPUT ? Field.OUTPUT : Field.INPUT\r\n\r\n  const handleTypeInput = useCallback(\r\n    (value: string) => {\r\n      onUserInput(Field.INPUT, value)\r\n    },\r\n    [onUserInput]\r\n  )\r\n  const handleTypeOutput = useCallback(\r\n    (value: string) => {\r\n      onUserInput(Field.OUTPUT, value)\r\n    },\r\n    [onUserInput]\r\n  )\r\n\r\n  // modal and loading\r\n  const [{ showConfirm, tradeToConfirm, swapErrorMessage, attemptingTxn, txHash }, setSwapState] = useState<{\r\n    showConfirm: boolean\r\n    tradeToConfirm: Trade | undefined\r\n    attemptingTxn: boolean\r\n    swapErrorMessage: string | undefined\r\n    txHash: string | undefined\r\n  }>({\r\n    showConfirm: false,\r\n    tradeToConfirm: undefined,\r\n    attemptingTxn: false,\r\n    swapErrorMessage: undefined,\r\n    txHash: undefined\r\n  })\r\n\r\n  const formattedAmounts = {\r\n    [independentField]: typedValue,\r\n    [dependentField]: parsedAmounts[dependentField]?.toSignificant(6) ?? ''\r\n  }\r\n\r\n  const route = trade?.route\r\n  const userHasSpecifiedInputOutput = Boolean(\r\n    currencies[Field.INPUT] && currencies[Field.OUTPUT] && parsedAmounts[independentField]?.greaterThan(JSBI.BigInt(0))\r\n  )\r\n  const noRoute = !route\r\n\r\n  // check whether the user has approved the router on the input token\r\n  const [approval] = useApproveCallbackFromTrade(trade, allowedSlippage)\r\n\r\n  // check if user has gone through approval process, used to show two step buttons, reset on token change\r\n  const [approvalSubmitted, setApprovalSubmitted] = useState<boolean>(false)\r\n\r\n  // mark when a user has submitted an approval, reset onTokenSelection for input field\r\n  useEffect(() => {\r\n    if (approval === ApprovalState.PENDING) {\r\n      setApprovalSubmitted(true)\r\n    }\r\n  }, [approval, approvalSubmitted])\r\n\r\n  const maxAmountInput: CurrencyAmount | undefined = maxAmountSpend(groupCurrencyBalances[Field.INPUT])\r\n  const atMaxAmountInput = Boolean(maxAmountInput && parsedAmounts[Field.INPUT]?.equalTo(maxAmountInput))\r\n\r\n  // the callback to execute the swap\r\n  const { callback: swapCallback, error: swapCallbackError } = useSwapCallback(\r\n    trade,\r\n    allowedSlippage,\r\n    deadline,\r\n    recipient\r\n  )\r\n\r\n  const { priceImpactWithoutFee } = computeTradePriceBreakdown(trade)\r\n\r\n  const handleSwap = useCallback(() => {\r\n    if (priceImpactWithoutFee && !confirmPriceImpactWithoutFee(priceImpactWithoutFee)) {\r\n      return\r\n    }\r\n    if (!swapCallback) {\r\n      return\r\n    }\r\n    setSwapState({\r\n      attemptingTxn: true,\r\n      tradeToConfirm,\r\n      showConfirm,\r\n      swapErrorMessage: undefined,\r\n      txHash: undefined\r\n    })\r\n    swapCallback()\r\n      .then(hash => {\r\n        setSwapState({\r\n          attemptingTxn: false,\r\n          tradeToConfirm,\r\n          showConfirm,\r\n          swapErrorMessage: undefined,\r\n          txHash: hash\r\n        })\r\n\r\n        ReactGA.event({\r\n          category: 'Swap',\r\n          action:\r\n            recipient === null\r\n              ? 'Swap w/o Send'\r\n              : (recipientAddress ?? recipient) === account\r\n              ? 'Swap w/o Send + recipient'\r\n              : 'Swap w/ Send',\r\n          label: [trade?.inputAmount?.currency?.symbol, trade?.outputAmount?.currency?.symbol].join('/')\r\n        })\r\n      })\r\n      .catch(error => {\r\n        setSwapState({\r\n          attemptingTxn: false,\r\n          tradeToConfirm,\r\n          showConfirm,\r\n          swapErrorMessage: error.message,\r\n          txHash: undefined\r\n        })\r\n      })\r\n  }, [tradeToConfirm, account, priceImpactWithoutFee, recipient, recipientAddress, showConfirm, swapCallback, trade])\r\n\r\n  // errors\r\n  const [showInverted, setShowInverted] = useState<boolean>(false)\r\n\r\n  // warnings on slippage\r\n  const priceImpactSeverity = warningSeverity(priceImpactWithoutFee)\r\n\r\n  // show approve flow when: no error on inputs, not approved or pending, or approved in current session\r\n  // never show if price impact is above threshold in non expert mode\r\n  const showApproveFlow = false\r\n\r\n  const handleConfirmDismiss = useCallback(() => {\r\n    setSwapState({ showConfirm: false, tradeToConfirm, attemptingTxn, swapErrorMessage, txHash })\r\n    // if there was a tx hash, we want to clear the input\r\n    if (txHash) {\r\n      onUserInput(Field.INPUT, '')\r\n    }\r\n  }, [attemptingTxn, onUserInput, swapErrorMessage, tradeToConfirm, txHash])\r\n\r\n  const handleAcceptChanges = useCallback(() => {\r\n    setSwapState({ tradeToConfirm: trade, swapErrorMessage, txHash, attemptingTxn, showConfirm })\r\n  }, [attemptingTxn, showConfirm, swapErrorMessage, trade, txHash])\r\n\r\n  const handleInputSelect = useCallback(\r\n    inputCurrency => {\r\n      setApprovalSubmitted(false) // reset 2 step UI for approvals\r\n      onCurrencySelection(Field.INPUT, inputCurrency)\r\n    },\r\n    [onCurrencySelection]\r\n  )\r\n\r\n  const handleMaxInput = useCallback(() => {\r\n    maxAmountInput && onUserInput(Field.INPUT, maxAmountInput.toExact())\r\n  }, [maxAmountInput, onUserInput])\r\n\r\n  const handleOutputSelect = useCallback(outputCurrency => onCurrencySelection(Field.OUTPUT, outputCurrency), [\r\n    onCurrencySelection\r\n  ])\r\n\r\n  const { getGroup } = useGroupActions()\r\n  const group = getGroup(parseInt(id!))\r\n\r\n  return (\r\n    <>\r\n      <TokenWarningModal\r\n        isOpen={urlLoadedTokens.length > 0 && !dismissTokenWarning}\r\n        tokens={urlLoadedTokens}\r\n        onConfirm={handleConfirmTokenWarning}\r\n      />\r\n      <MainHeading backPath=\"/\" title=\"Swap\" />\r\n      <DefaultLayout\r\n        isChildPage\r\n        css={css`\r\n          max-width: 800px;\r\n          width: 100%;\r\n        `}\r\n      >\r\n        <Wrapper id=\"swap-page\">\r\n          <ConfirmSwapModal\r\n            isOpen={showConfirm}\r\n            trade={trade}\r\n            originalTrade={tradeToConfirm}\r\n            onAcceptChanges={handleAcceptChanges}\r\n            attemptingTxn={attemptingTxn}\r\n            txHash={txHash}\r\n            recipient={recipient}\r\n            allowedSlippage={allowedSlippage}\r\n            onConfirm={handleSwap}\r\n            swapErrorMessage={swapErrorMessage}\r\n            onDismiss={handleConfirmDismiss}\r\n          />\r\n\r\n          <AutoColumn gap=\"md\">\r\n            <CurrencyInputPanel\r\n              label={independentField === Field.OUTPUT && trade ? 'From (estimated)' : 'From'}\r\n              value={formattedAmounts[Field.INPUT]}\r\n              showMaxButton={!atMaxAmountInput}\r\n              currency={currencies[Field.INPUT]}\r\n              onUserInput={handleTypeInput}\r\n              onMax={handleMaxInput}\r\n              onCurrencySelect={handleInputSelect}\r\n              otherCurrency={currencies[Field.OUTPUT]}\r\n              groupBalance={true}\r\n              id=\"swap-currency-input\"\r\n            />\r\n            <AutoColumn justify=\"space-between\">\r\n              <AutoRow justify={isExpertMode ? 'space-between' : 'center'} style={{ padding: '0 1rem' }}>\r\n                <ArrowWrapper clickable>\r\n                  <ArrowDown\r\n                    size=\"24\"\r\n                    onClick={() => {\r\n                      setApprovalSubmitted(false) // reset 2 step UI for approvals\r\n                      onSwitchTokens()\r\n                    }}\r\n                    color={currencies[Field.INPUT] && currencies[Field.OUTPUT] ? theme.primary1 : theme.text2}\r\n                  />\r\n                </ArrowWrapper>\r\n              </AutoRow>\r\n            </AutoColumn>\r\n            <CurrencyInputPanel\r\n              value={formattedAmounts[Field.OUTPUT]}\r\n              onUserInput={handleTypeOutput}\r\n              label={independentField === Field.INPUT && trade ? 'To (estimated)' : 'To'}\r\n              showMaxButton={false}\r\n              currency={currencies[Field.OUTPUT]}\r\n              onCurrencySelect={handleOutputSelect}\r\n              otherCurrency={currencies[Field.INPUT]}\r\n              groupBalance={true}\r\n              id=\"swap-currency-output\"\r\n            />\r\n            {recipient !== null ? (\r\n              <>\r\n                <AutoRow justify=\"space-between\" style={{ padding: '0 1rem' }}>\r\n                  <ArrowWrapper clickable={false}>\r\n                    <ArrowDown size=\"16\" color={theme.text2} />\r\n                  </ArrowWrapper>\r\n                  <LinkStyledButton id=\"remove-recipient-button\" onClick={() => onChangeRecipient(null)}>\r\n                    - Remove send\r\n                  </LinkStyledButton>\r\n                </AutoRow>\r\n                <AddressInputPanel id=\"recipient\" value={recipient} onChange={onChangeRecipient} />\r\n              </>\r\n            ) : null}\r\n            <Card padding={'.25rem .75rem 0 .75rem'} borderRadius={'20px'}>\r\n              <AutoColumn gap=\"4px\">\r\n                {Boolean(trade) && (\r\n                  <RowBetween align=\"center\">\r\n                    <Text fontWeight={500} fontSize={14} color={theme.text2}>\r\n                      Price\r\n                    </Text>\r\n                    <TradePrice\r\n                      price={trade?.executionPrice}\r\n                      showInverted={showInverted}\r\n                      setShowInverted={setShowInverted}\r\n                    />\r\n                  </RowBetween>\r\n                )}\r\n                {allowedSlippage !== INITIAL_ALLOWED_SLIPPAGE && (\r\n                  <RowBetween align=\"center\">\r\n                    <ClickableText fontWeight={500} fontSize={14} color={theme.text2} onClick={toggleSettings}>\r\n                      Slippage Tolerance\r\n                    </ClickableText>\r\n                    <ClickableText fontWeight={500} fontSize={14} color={theme.text2} onClick={toggleSettings}>\r\n                      {allowedSlippage / 100}%\r\n                    </ClickableText>\r\n                  </RowBetween>\r\n                )}\r\n              </AutoColumn>\r\n            </Card>\r\n          </AutoColumn>\r\n          <BottomGrouping>\r\n            {!account ? (\r\n              <ButtonSecondary onClick={toggleWalletModal}>Connect Wallet</ButtonSecondary>\r\n            ) : noRoute && userHasSpecifiedInputOutput ? (\r\n              <GreyCard style={{ textAlign: 'center' }}>\r\n                <TYPE.main>Insufficient liquidity for this trade.</TYPE.main>\r\n              </GreyCard>\r\n            ) : showApproveFlow ? (\r\n              <RowBetween>\r\n                <ButtonError\r\n                  onClick={() => {\r\n                    if (isExpertMode) {\r\n                      handleSwap()\r\n                    } else {\r\n                      setSwapState({\r\n                        tradeToConfirm: trade,\r\n                        attemptingTxn: false,\r\n                        swapErrorMessage: undefined,\r\n                        showConfirm: true,\r\n                        txHash: undefined\r\n                      })\r\n                    }\r\n                  }}\r\n                  id=\"swap-button\"\r\n                  disabled={!isValid || approval !== ApprovalState.APPROVED}\r\n                  error={isValid && priceImpactSeverity > 2}\r\n                >\r\n                  <Text fontSize={16} fontWeight={500}>\r\n                    {priceImpactSeverity > 3 && !isExpertMode\r\n                      ? `Price Impact High`\r\n                      : `Swap${priceImpactSeverity > 2 ? ' Anyway' : ''}`}\r\n                  </Text>\r\n                </ButtonError>\r\n              </RowBetween>\r\n            ) : (\r\n              <ButtonError\r\n                onClick={() => {\r\n                  if (isExpertMode) {\r\n                    handleSwap()\r\n                  } else {\r\n                    setSwapState({\r\n                      tradeToConfirm: trade,\r\n                      attemptingTxn: false,\r\n                      swapErrorMessage: undefined,\r\n                      showConfirm: true,\r\n                      txHash: undefined\r\n                    })\r\n                  }\r\n                }}\r\n                id=\"swap-button\"\r\n                disabled={!isValid || !!swapCallbackError}\r\n                error={isValid && priceImpactSeverity > 2 && !swapCallbackError}\r\n              >\r\n                {swapInputError ? swapInputError : `Swap${priceImpactSeverity > 2 ? ' Anyway' : ''}`}\r\n              </ButtonError>\r\n            )}\r\n            {swapErrorMessage ? <SwapCallbackError error={swapErrorMessage} /> : null}\r\n          </BottomGrouping>\r\n          <div\r\n            css={css`\r\n              cursor: pointer;\r\n              padding-top: 1rem;\r\n              text-align: center;\r\n            `}\r\n            onClick={() => setShowDetails(show => !show)}\r\n          >\r\n            <RowAlignRight>\r\n              <Text fontSize={14} fontWeight={500} marginRight=\"8px\">\r\n                {showDetails ? t('Hide available tokens') : t('Show available tokens')}\r\n              </Text>\r\n              <SortButton ascending={showDetails} toggleSortOrder={() => {}} />\r\n            </RowAlignRight>\r\n          </div>\r\n          {showDetails ? <AvailableTokens tokens={group?.tokens} account={account!} /> : null}\r\n        </Wrapper>\r\n      </DefaultLayout>\r\n      <AdvancedSwapDetailsDropdown trade={trade} />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default withRouter(GroupSwap)\r\n","import { CurrencyAmount, ETHER, JSBI } from 'src/sdk'\r\nimport { MIN_ETH } from '../constants'\r\n\r\n/**\r\n * Given some token amount, return the max that can be spent of it\r\n * @param currencyAmount to return max of\r\n */\r\nexport function maxAmountSpend(currencyAmount?: CurrencyAmount): CurrencyAmount | undefined {\r\n  if (!currencyAmount) return undefined\r\n  if (currencyAmount.currency === ETHER) {\r\n    if (JSBI.greaterThan(currencyAmount.raw, MIN_ETH)) {\r\n      return CurrencyAmount.ether(JSBI.subtract(currencyAmount.raw, MIN_ETH))\r\n    } else {\r\n      return CurrencyAmount.ether(JSBI.BigInt(0))\r\n    }\r\n  }\r\n  return currencyAmount\r\n}\r\n","import { Percent } from 'src/sdk'\r\nimport { ALLOWED_PRICE_IMPACT_HIGH, PRICE_IMPACT_WITHOUT_FEE_CONFIRM_MIN } from '../../constants'\r\n\r\n/**\r\n * Given the price impact, get user confirmation.\r\n *\r\n * @param priceImpactWithoutFee price impact of the trade without the fee.\r\n */\r\nexport default function confirmPriceImpactWithoutFee(priceImpactWithoutFee: Percent): boolean {\r\n  if (!priceImpactWithoutFee.lessThan(PRICE_IMPACT_WITHOUT_FEE_CONFIRM_MIN)) {\r\n    return (\r\n      window.prompt(\r\n        `This swap has a price impact of at least ${PRICE_IMPACT_WITHOUT_FEE_CONFIRM_MIN.toFixed(\r\n          0\r\n        )}%. Please type the word \"confirm\" to continue with this swap.`\r\n      ) === 'confirm'\r\n    )\r\n  } else if (!priceImpactWithoutFee.lessThan(ALLOWED_PRICE_IMPACT_HIGH)) {\r\n    return window.confirm(\r\n      `This swap has a price impact of at least ${ALLOWED_PRICE_IMPACT_HIGH.toFixed(\r\n        0\r\n      )}%. Please confirm that you would like to continue with this swap.`\r\n    )\r\n  }\r\n  return true\r\n}\r\n","import React, { useCallback } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst StyledRangeInput = styled.input<{ size: number }>`\r\n  -webkit-appearance: none; /* Hides the slider so that custom slider can be made */\r\n  width: 100%; /* Specific width is required for Firefox. */\r\n  background: transparent; /* Otherwise white in Chrome */\r\n  cursor: pointer;\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n\r\n  &::-moz-focus-outer {\r\n    border: 0;\r\n  }\r\n\r\n  &::-webkit-slider-thumb {\r\n    -webkit-appearance: none;\r\n    height: ${({ size }) => size}px;\r\n    width: ${({ size }) => size}px;\r\n    background: ${({ theme }) => theme.primary1};\r\n    background: ${({ theme }) => `-webkit-linear-gradient(135deg, ${theme.primary1} 0%,${theme.primary2} 100%)`};\r\n    border-radius: 100%;\r\n    border: none;\r\n    transform: translateY(-50%);\r\n    color: ${({ theme }) => theme.bg1};\r\n\r\n    &:hover,\r\n    &:focus {\r\n      box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.1), 0px 4px 8px rgba(0, 0, 0, 0.08), 0px 16px 24px rgba(0, 0, 0, 0.06),\r\n        0px 24px 32px rgba(0, 0, 0, 0.04);\r\n    }\r\n  }\r\n\r\n  &::-moz-range-thumb {\r\n    height: ${({ size }) => size}px;\r\n    width: ${({ size }) => size}px;\r\n    background: ${({ theme }) => theme.primary1};\r\n    background: ${({ theme }) => `-moz-linear-gradient(135deg, ${theme.primary1} 0%,${theme.primary2} 100%)`};\r\n    border-radius: 100%;\r\n    border: none;\r\n    color: ${({ theme }) => theme.bg1};\r\n\r\n    &:hover,\r\n    &:focus {\r\n      box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.1), 0px 4px 8px rgba(0, 0, 0, 0.08), 0px 16px 24px rgba(0, 0, 0, 0.06),\r\n        0px 24px 32px rgba(0, 0, 0, 0.04);\r\n    }\r\n  }\r\n\r\n  &::-ms-thumb {\r\n    height: ${({ size }) => size}px;\r\n    width: ${({ size }) => size}px;\r\n    background: ${({ theme }) => theme.primary1};\r\n    background: ${({ theme }) => `linear-gradient(135deg, ${theme.primary1} 0%,${theme.primary2} 100%)`};\r\n    border-radius: 100%;\r\n    color: ${({ theme }) => theme.bg1};\r\n\r\n    &:hover,\r\n    &:focus {\r\n      box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.1), 0px 4px 8px rgba(0, 0, 0, 0.08), 0px 16px 24px rgba(0, 0, 0, 0.06),\r\n        0px 24px 32px rgba(0, 0, 0, 0.04);\r\n    }\r\n  }\r\n\r\n  &::-webkit-slider-runnable-track {\r\n    background: linear-gradient(90deg, ${({ theme }) => theme.bg5}, ${({ theme }) => theme.bg3});\r\n    height: 2px;\r\n  }\r\n\r\n  &::-moz-range-track {\r\n    background: linear-gradient(90deg, ${({ theme }) => theme.bg5}, ${({ theme }) => theme.bg3});\r\n    height: 2px;\r\n  }\r\n\r\n  &::-ms-track {\r\n    width: 100%;\r\n    border-color: transparent;\r\n    color: transparent;\r\n\r\n    background: ${({ theme }) => theme.bg5};\r\n    height: 2px;\r\n  }\r\n  &::-ms-fill-lower {\r\n    background: ${({ theme }) => theme.bg5};\r\n  }\r\n  &::-ms-fill-upper {\r\n    background: ${({ theme }) => theme.bg3};\r\n  }\r\n\r\n  :disabled {\r\n    cursor: not-allowed;\r\n    opacity: 0.5;\r\n  }\r\n`\r\n\r\ninterface InputSliderProps {\r\n  value: number\r\n  onChange: (value: number) => void\r\n  step?: number\r\n  min?: number\r\n  max?: number\r\n  size?: number\r\n  disabled?: boolean\r\n}\r\n\r\nexport default function Slider({\r\n  value,\r\n  onChange,\r\n  min = 0,\r\n  step = 1,\r\n  max = 100,\r\n  size = 28,\r\n  disabled\r\n}: InputSliderProps) {\r\n  const changeCallback = useCallback(\r\n    e => {\r\n      onChange(parseInt(e.target.value))\r\n    },\r\n    [onChange]\r\n  )\r\n\r\n  return (\r\n    <StyledRangeInput\r\n      size={size}\r\n      type=\"range\"\r\n      value={value}\r\n      style={{ padding: '1rem 0' }}\r\n      onChange={changeCallback}\r\n      aria-labelledby=\"input slider\"\r\n      step={step}\r\n      min={min}\r\n      max={max}\r\n      disabled={disabled}\r\n    />\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\n\r\nexport const Input = styled.input<{ error?: boolean; padding?: string; fontSize?: string }>`\r\n  font-size: ${({ fontSize }) => fontSize || '1.25rem'};\r\n  outline: none;\r\n  border: none;\r\n  flex: 1 1 auto;\r\n  width: 0;\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  border-radius: 0.5rem;\r\n  transition: color 300ms ${({ error }) => (error ? 'step-end' : 'step-start')};\r\n  color: ${({ error, theme }) => (error ? theme.red1 : theme.text1)};\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  font-weight: 500;\r\n  width: 100%;\r\n  ::placeholder {\r\n    color: ${({ theme }) => theme.text4};\r\n  }\r\n  padding: ${({ padding }) => padding || '0px'};\r\n  -webkit-appearance: textfield;\r\n\r\n  ::-webkit-search-decoration {\r\n    -webkit-appearance: none;\r\n  }\r\n\r\n  ::-webkit-outer-spin-button,\r\n  ::-webkit-inner-spin-button {\r\n    -webkit-appearance: none;\r\n  }\r\n\r\n  ::placeholder {\r\n    color: ${({ theme }) => theme.text4};\r\n  }\r\n\r\n  :disabled {\r\n    cursor: not-allowed;\r\n    opacity: 0.5;\r\n  }\r\n`\r\n","import React, { useContext } from 'react'\r\nimport styled, { ThemeContext } from 'styled-components'\r\nimport { TYPE } from '../../theme'\r\n\r\nimport { LightCard } from '../Card'\r\nimport { AutoColumn } from '../Column'\r\nimport Slider from '../Slider'\r\nimport QuestionHelper from '../QuestionHelper'\r\nimport { Input } from '../Input'\r\nimport { FlexBox } from '../FlexBox'\r\n\r\nconst StyledInputWrapper = styled.div`\r\n  position: relative;\r\n`\r\n\r\nconst StyledUnitWrapper = styled.div`\r\n  position: absolute;\r\n  top: 1rem;\r\n  right: 0.75rem;\r\n`\r\n\r\nconst StyledFlexBox = styled(FlexBox)`\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    flex-flow: column;\r\n  `};\r\n`\r\n\r\nconst StyledBalanceMax = styled.button`\r\n  height: 28px;\r\n  background-color: transparent;\r\n  border: 1px solid ${({ theme }) => theme.primary1};\r\n  border-radius: 0.25rem;\r\n  font-size: 0.875rem;\r\n\r\n  font-weight: 400;\r\n  cursor: pointer;\r\n  margin-right: 0.5rem;\r\n  color: ${({ theme }) => theme.primary1};\r\n  :hover {\r\n    background-color: ${({ theme }) => theme.primary4};\r\n  }\r\n  :focus {\r\n    border: 1px solid ${({ theme }) => theme.primary1};\r\n    outline: none;\r\n  }\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\r\n    margin-right: 0.5rem;\r\n  `};\r\n`\r\n\r\ninterface InputPanelProps {\r\n  value: number\r\n  label?: string\r\n  subLabel?: string\r\n  helpText?: string\r\n  unit?: string\r\n  onChange: (value: number) => void\r\n  onChangeInput: (e: React.ChangeEvent<HTMLInputElement>) => void\r\n  step: number\r\n  min: number\r\n  max: number\r\n  size?: number\r\n  id: string\r\n  disabled?: boolean\r\n  onMax?: () => void\r\n  showMaxButton?: boolean\r\n}\r\n\r\nexport default function InputPanel({\r\n  label,\r\n  disabled,\r\n  subLabel,\r\n  helpText,\r\n  value,\r\n  onChange,\r\n  onChangeInput,\r\n  min,\r\n  max,\r\n  id,\r\n  unit,\r\n  step,\r\n  onMax,\r\n  showMaxButton\r\n}: InputPanelProps) {\r\n  const theme = useContext(ThemeContext)\r\n\r\n  return (\r\n    <LightCard id={id}>\r\n      <AutoColumn gap=\"20px\">\r\n        <FlexBox justify=\"space-between\" align=\"center\">\r\n          <StyledFlexBox align=\"baseline\">\r\n            <TYPE.main color={theme.text1} fontSize=\"14px\" marginRight=\"0.5rem\">\r\n              {label}\r\n            </TYPE.main>\r\n            {subLabel && <TYPE.body fontSize=\"14px\">{subLabel}</TYPE.body>}\r\n          </StyledFlexBox>\r\n          {showMaxButton && <StyledBalanceMax onClick={onMax}>MAX</StyledBalanceMax>}\r\n          {helpText && <QuestionHelper text={helpText} />}\r\n        </FlexBox>\r\n        <StyledInputWrapper>\r\n          {unit && (\r\n            <StyledUnitWrapper>\r\n              <TYPE.main fontSize=\"1.25rem\">{unit}</TYPE.main>\r\n            </StyledUnitWrapper>\r\n          )}\r\n          <Input\r\n            disabled={disabled}\r\n            type=\"number\"\r\n            fontSize=\"1.5rem\"\r\n            padding=\"0.875rem\"\r\n            value={value}\r\n            onChange={onChangeInput}\r\n          />\r\n        </StyledInputWrapper>\r\n        <Slider disabled={disabled} value={value} min={min} max={max} onChange={onChange} step={step} />\r\n      </AutoColumn>\r\n    </LightCard>\r\n  )\r\n}\r\n","import React, { useContext, useCallback } from 'react'\r\nimport styled, { ThemeContext } from 'styled-components'\r\nimport { TYPE } from '../../theme'\r\nimport { AutoColumn } from '../Column'\r\nimport { RowBetween } from '../Row'\r\n\r\nconst InputPanel = styled.div`\r\n  ${({ theme }) => theme.flexColumnNoWrap}\r\n  position: relative;\r\n  border-radius: 1.25rem;\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  z-index: 1;\r\n  width: 100%;\r\n`\r\n\r\nconst ContainerRow = styled.div<{ error: boolean }>`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 0.5rem;\r\n  border: 1px solid ${({ error, theme }) => (error ? theme.red1 : theme.bg2)};\r\n  transition: border-color 300ms ${({ error }) => (error ? 'step-end' : 'step-start')},\r\n    color 500ms ${({ error }) => (error ? 'step-end' : 'step-start')};\r\n  background-color: ${({ theme }) => theme.bg1};\r\n`\r\n\r\nconst InputContainer = styled.div`\r\n  flex: 1;\r\n  padding: 1rem;\r\n`\r\n\r\nconst Input = styled.input<{ error?: boolean }>`\r\n  font-size: 1rem;\r\n  outline: none;\r\n  border: none;\r\n  flex: 1 1 auto;\r\n  width: 0;\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  transition: color 300ms ${({ error }) => (error ? 'step-end' : 'step-start')};\r\n  color: ${({ error, theme }) => (error ? theme.red1 : theme.text1)};\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  font-weight: 500;\r\n  width: 100%;\r\n  ::placeholder {\r\n    color: ${({ theme }) => theme.text4};\r\n  }\r\n  padding: 0px;\r\n  -webkit-appearance: textfield;\r\n\r\n  ::-webkit-search-decoration {\r\n    -webkit-appearance: none;\r\n  }\r\n\r\n  ::-webkit-outer-spin-button,\r\n  ::-webkit-inner-spin-button {\r\n    -webkit-appearance: none;\r\n  }\r\n\r\n  ::placeholder {\r\n    color: ${({ theme }) => theme.text4};\r\n  }\r\n`\r\n\r\nexport default function InputTextPanel({\r\n  id,\r\n  value,\r\n  label,\r\n  placeholder,\r\n  error,\r\n  onChange\r\n}: {\r\n  id?: string\r\n  // the typed string value\r\n  value: string\r\n  label: string\r\n  placeholder: string\r\n  error: boolean\r\n  // triggers whenever the typed value changes\r\n  onChange: (value: string) => void\r\n}) {\r\n  const theme = useContext(ThemeContext)\r\n\r\n  const handleInput = useCallback(\r\n    event => {\r\n      const input = event.target.value\r\n      onChange(input)\r\n    },\r\n    [onChange]\r\n  )\r\n\r\n  return (\r\n    <InputPanel id={id}>\r\n      <ContainerRow error={error}>\r\n        <InputContainer>\r\n          <AutoColumn gap=\"md\">\r\n            <RowBetween>\r\n              <TYPE.main color={theme.text1} fontSize=\"14px\">\r\n                {label}\r\n              </TYPE.main>\r\n            </RowBetween>\r\n            <Input\r\n              className=\"name-input\"\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              autoCorrect=\"off\"\r\n              autoCapitalize=\"off\"\r\n              spellCheck=\"false\"\r\n              placeholder={placeholder}\r\n              error={error}\r\n              onChange={handleInput}\r\n              value={value}\r\n            />\r\n          </AutoColumn>\r\n        </InputContainer>\r\n      </ContainerRow>\r\n    </InputPanel>\r\n  )\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport DefaultLayout from 'src/layouts/default'\r\nimport { MainHeading } from 'src/components/NavigationTabs'\r\nimport { AutoColumn, ColumnCenter } from 'src/components/Column'\r\nimport { useGroupActions, useGroupState } from 'src/context/GroupContext'\r\nimport SliderPanel from 'src/components/SliderPanel'\r\nimport InputTextPanel from 'src/components/InputTextPanel'\r\nimport Row, { RowBetween } from 'src/components/Row'\r\nimport { css } from '@emotion/core'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { useWalletModalToggle } from 'src/state/application/hooks'\r\nimport { useActiveWeb3React } from 'src/hooks'\r\nimport { ChainId } from 'src/sdk'\r\nimport styled, { ThemeContext } from 'styled-components'\r\nimport { ExternalLink, TYPE } from 'src/theme'\r\nimport { Text } from 'rebass'\r\nimport { CloseIcon, Spinner } from 'src/theme/components'\r\nimport { AlertTriangle, ChevronLeft, CheckCircle, Edit } from 'react-feather'\r\nimport { ButtonPrimary, ButtonEmpty, ButtonError, ButtonSecondary } from 'src/components/Button'\r\nimport Circle from 'src/assets/images/blue-loader.svg'\r\nimport { getEtherscanLink } from 'src/utils'\r\nimport Modal from 'src/components/Modal'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { MaxButton } from 'src/components/styleds'\r\nimport { ErrorCard } from 'src/components/Card'\r\nimport axios from 'axios'\r\nimport { useCurrencyBalance } from 'src/state/wallet/hooks'\r\nimport { useCurrency } from 'src/hooks/Tokens'\r\nimport numeral from 'numeral'\r\nimport { FlexBox } from 'src/components/FlexBox'\r\nimport { DataPoint } from 'src/components/DataPoint'\r\n\r\nexport const RowAlignRight = styled(Row)`\r\n  justify-content: flex-end;\r\n`\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n`\r\n\r\nconst Section = styled(AutoColumn)`\r\n  padding: 24px;\r\n`\r\n\r\nconst BottomSection = styled(Section)`\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  border-bottom-left-radius: 20px;\r\n  border-bottom-right-radius: 20px;\r\n`\r\n\r\nconst ConfirmedIcon = styled(ColumnCenter)`\r\n  padding: 60px 0;\r\n`\r\n\r\nconst CustomLightSpinner = styled(Spinner)<{ size: string }>`\r\n  height: ${({ size }) => size};\r\n  width: ${({ size }) => size};\r\n`\r\n\r\nconst StyledButtonEmpty = styled(ButtonEmpty)`\r\n  margin: 0.25rem 0 0.25rem 1.25rem;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    align-self: center;\r\n    margin: 0.25rem 0;\r\n  `};\r\n`\r\n\r\nconst StyledFlexBox = styled(FlexBox)`\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    flex-flow: column;\r\n  `};\r\n`\r\n\r\nconst StyledButtonWrapper = styled(FlexBox)`\r\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\r\n    flex-flow: column-reverse;\r\n    width: 100%;\r\n  `};\r\n`\r\n\r\nconst StyledPrimaryButton = styled(ButtonPrimary)`\r\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\r\n    margin: 0 0 0.5rem;\r\n    width: 100%;\r\n  `};\r\n`\r\n\r\nconst StyledButtonError = styled(ButtonError)`\r\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\r\n    margin: 0 0 0.5rem;\r\n    width: 100%;\r\n  `};\r\n`\r\n\r\nconst StyledCancelButton = styled(ButtonSecondary)`\r\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\r\n    margin: 0 0 0.5rem;\r\n    width: 100%;\r\n    `}\r\n`\r\n\r\nconst StyledStepCount = styled(TYPE.body)`\r\n  white-space: nowrap;\r\n`\r\n\r\nexport function PendingContent({ onDismiss, pendingText }: { onDismiss: () => void; pendingText: string }) {\r\n  return (\r\n    <Wrapper>\r\n      <Section>\r\n        <RowBetween>\r\n          <div />\r\n          <CloseIcon onClick={onDismiss} />\r\n        </RowBetween>\r\n        <ConfirmedIcon>\r\n          <CustomLightSpinner src={Circle} alt=\"loader\" size={'90px'} />\r\n        </ConfirmedIcon>\r\n        <AutoColumn gap=\"12px\" justify={'center'}>\r\n          <Text fontWeight={500} fontSize={20}>\r\n            Waiting For Confirmation\r\n          </Text>\r\n          <AutoColumn gap=\"12px\" justify={'center'}>\r\n            <Text fontWeight={600} fontSize={14} color=\"\" textAlign=\"center\">\r\n              {pendingText}\r\n            </Text>\r\n          </AutoColumn>\r\n          <Text fontSize={12} color=\"#565A69\" textAlign=\"center\">\r\n            Confirm this transaction in your wallet\r\n          </Text>\r\n        </AutoColumn>\r\n      </Section>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nfunction SuccessModalContent({\r\n  onDismiss,\r\n  chainId,\r\n  groupId,\r\n  hash\r\n}: {\r\n  onDismiss: () => void\r\n  hash: string | undefined\r\n  chainId: ChainId\r\n  groupId: number\r\n}) {\r\n  const { t } = useTranslation()\r\n  const theme = useContext(ThemeContext)\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Section>\r\n        <RowBetween>\r\n          <div />\r\n          <CloseIcon onClick={onDismiss} />\r\n        </RowBetween>\r\n        <ConfirmedIcon>\r\n          <CheckCircle strokeWidth={1} size={64} color={theme.green1} />\r\n        </ConfirmedIcon>\r\n        <AutoColumn gap=\"12px\" justify={'center'}>\r\n          <Text fontWeight={600} fontSize={20}>\r\n            {t('groupCreated', { groupId })}\r\n          </Text>\r\n\r\n          {chainId && hash && (\r\n            <ExternalLink href={getEtherscanLink(chainId, hash, 'transaction')}>\r\n              <Text fontWeight={400} fontSize={14} color={theme.primary1}>\r\n                {t('View on Etherscan')}\r\n              </Text>\r\n            </ExternalLink>\r\n          )}\r\n          <ButtonPrimary onClick={onDismiss} style={{ margin: '20px 0 0 0' }}>\r\n            {t('Close')}\r\n          </ButtonPrimary>\r\n        </AutoColumn>\r\n      </Section>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport function ErrorModalContent({ message, onDismiss }: { message: string; onDismiss: () => void }) {\r\n  const { t } = useTranslation()\r\n  const theme = useContext(ThemeContext)\r\n  return (\r\n    <Wrapper>\r\n      <Section>\r\n        <RowBetween>\r\n          <Text fontWeight={500} fontSize={20}>\r\n            {t('Error')}\r\n          </Text>\r\n          <CloseIcon onClick={onDismiss} />\r\n        </RowBetween>\r\n        <AutoColumn style={{ marginTop: 20, padding: '2rem 0' }} gap=\"24px\" justify=\"center\">\r\n          <AlertTriangle color={theme.red1} style={{ strokeWidth: 1 }} size={64} />\r\n          <Text fontWeight={400} fontSize={16} color={theme.text1} style={{ textAlign: 'center', width: '85%' }}>\r\n            {message}\r\n          </Text>\r\n        </AutoColumn>\r\n      </Section>\r\n      <BottomSection gap=\"12px\">\r\n        <ButtonPrimary onClick={onDismiss}>{t('Dismiss')}</ButtonPrimary>\r\n      </BottomSection>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst GroupCreate = ({ history }: any) => {\r\n  const { t } = useTranslation()\r\n  const { groupForm } = useGroupState()\r\n  const theme = useContext(ThemeContext)\r\n  const {\r\n    setGroupParams,\r\n    startEdit,\r\n    checkAllowance,\r\n    startApprove,\r\n    startCreate,\r\n    clearForm,\r\n    editGroupForm\r\n  } = useGroupActions()\r\n  const toggleWalletModal = useWalletModalToggle()\r\n  const { account } = useActiveWeb3React()\r\n  const [showModal, setShowModal] = useState(false)\r\n  const [showSettings, setShowSettings] = useState(false)\r\n  const [showBreakdown, setShowBreakdown] = useState(false)\r\n  // const ethCurrency = useCurrency('ETH')\r\n  // const ethBalance = useCurrencyBalance(account ?? undefined, ethCurrency ?? undefined)\r\n  const uppCurrency = useCurrency(process.env.REACT_APP_UNIFUND_ADDRESS)\r\n  const uppBalance = useCurrencyBalance(account ?? undefined, uppCurrency ?? undefined)\r\n  const [uppPrice, setUppPrice] = useState(0)\r\n  const [preset, setPreset] = useState('')\r\n  const { chainId } = useActiveWeb3React()\r\n\r\n  // const [formErrors, setFormErrors] = useReducer(\r\n  //   (state: { name?: string; description?: string }, newState: { name?: string; description?: string }) => ({\r\n  //     ...state,\r\n  //     ...newState\r\n  //   }),\r\n  //   {\r\n  //     name: '',\r\n  //     description: ''\r\n  //   }\r\n  // )\r\n\r\n  // const handleNext = () => {\r\n  //   if (!showSettings && !showBreakdown) {\r\n  //     if (groupForm.params.name.length === 0) {\r\n  //       setFormErrors({ name: 'Enter a name for your fund' })\r\n  //     }\r\n  //     if (groupForm.params.name.length < 3 || groupForm.params.name.length >= 30) {\r\n  //       setFormErrors({ name: 'Name must be between 3 and 30 characters' })\r\n  //     }\r\n  //     if (formErrors.name?.length === 0 && formErrors.description?.length === 0) {\r\n  //       setShowSettings(true)\r\n  //     }\r\n  //   }\r\n  // }\r\n\r\n  // const goToDetails = () => {\r\n  //   setShowDetails(true)\r\n  //   setTimeout(() => {\r\n  //     // @ts-ignore\r\n  //     window.document.getElementById('show-details').scrollIntoView()\r\n  //   }, 100)\r\n  // }\r\n\r\n  const updatePreset = (preset: string, overrideUppPrice?: number) => {\r\n    if (preset === 'low') {\r\n      setGroupParams({\r\n        maxRunTimeHours: 30 * 24,\r\n        startTimeoutHours: 7 * 24,\r\n        leaderProfitShareOutOf10000: 10 * 100,\r\n        leaderiFundCollateral: parseFloat((10 / (overrideUppPrice || uppPrice) / 4).toFixed(2)),\r\n        requiredMemberiFundFee: 500,\r\n        minEthToStart: 5,\r\n        maxEthContribution: 25,\r\n        maxEthAcceptable: 25\r\n      })\r\n    } else if (preset === 'medium') {\r\n      setGroupParams({\r\n        maxRunTimeHours: 30 * 24,\r\n        startTimeoutHours: 7 * 24,\r\n        leaderProfitShareOutOf10000: 10 * 100,\r\n        leaderiFundCollateral: parseFloat((25 / (overrideUppPrice || uppPrice) / 4).toFixed(2)),\r\n        requiredMemberiFundFee: 1000,\r\n        minEthToStart: 1,\r\n        maxEthContribution: 50,\r\n        maxEthAcceptable: 50\r\n      })\r\n    } else if (preset === 'high') {\r\n      setGroupParams({\r\n        maxRunTimeHours: 30 * 24,\r\n        startTimeoutHours: 7 * 24,\r\n        leaderProfitShareOutOf10000: 10 * 100,\r\n        leaderiFundCollateral: parseFloat((50 / (overrideUppPrice || uppPrice) / 4).toFixed(2)),\r\n        requiredMemberiFundFee: 2000,\r\n        minEthToStart: 10,\r\n        maxEthContribution: 100,\r\n        maxEthAcceptable: 100\r\n      })\r\n    } else if (preset === '') {\r\n      setGroupParams({\r\n        maxRunTimeHours: 30 * 24,\r\n        startTimeoutHours: 7 * 24,\r\n        leaderProfitShareOutOf10000: 10 * 100,\r\n        leaderiFundCollateral: parseFloat((4 / (overrideUppPrice || uppPrice) / 4).toFixed(2)),\r\n        requiredMemberiFundFee: 500,\r\n        minEthToStart: 1,\r\n        maxEthContribution: 10,\r\n        maxEthAcceptable: 10\r\n      })\r\n    }\r\n    setPreset(preset)\r\n  }\r\n\r\n  useEffect(() => {\r\n    startEdit()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (groupForm.status === 'created') {\r\n      setShowModal(true)\r\n    } else if (groupForm.status === 'failed') {\r\n      setShowModal(true)\r\n    }\r\n  }, [groupForm.status])\r\n\r\n  const onDismiss = () => {\r\n    setShowModal(false)\r\n    clearForm()\r\n  }\r\n\r\n  useEffect(() => {\r\n    editGroupForm({\r\n      data: {\r\n        leader: account!\r\n      }\r\n    })\r\n\r\n    axios(\r\n      'https://api.coingecko.com/api/v3/simple/token_price/ethereum?contract_addresses=0xce25b4271cc4d937a7d9bf75b2068a7892b9961d&vs_currencies=eth'\r\n    ).then((res: any) => {\r\n      const price = 0.0001 //res.data[process.env.REACT_APP_UNIFUND_ADDRESS?.toLowerCase() as string].eth\r\n      setUppPrice(price)\r\n      // updatePreset('low', price)\r\n      if (!res.data || !res.data[process.env.REACT_APP_UNIFUND_ADDRESS?.toLowerCase() as string]) return\r\n    })\r\n  }, [])\r\n\r\n  const getRiskScore = (num: number) => {\r\n    if (num <= 5) {\r\n      return 'very low'\r\n    } else if (num <= 20) {\r\n      return 'low'\r\n    } else if (num <= 40) {\r\n      return 'medium'\r\n    } else if (num <= 60) {\r\n      return 'high'\r\n    }\r\n    return 'very high'\r\n  }\r\n\r\n  const riskScoreValue =\r\n    100 - ((groupForm.params.leaderiFundCollateral * uppPrice) / groupForm.params.maxEthAcceptable) * 100\r\n  const riskScore = getRiskScore(riskScoreValue)\r\n\r\n  const handleBack = () => {\r\n    if (showSettings) {\r\n      setShowSettings(false)\r\n    }\r\n    if (showBreakdown) {\r\n      setShowBreakdown(false)\r\n      setShowSettings(true)\r\n    }\r\n    window.scrollTo(0, 0)\r\n  }\r\n\r\n  const handleNext = () => {\r\n    if (!showSettings && !showBreakdown) {\r\n      setShowSettings(true)\r\n    }\r\n    if (showSettings && !showBreakdown) {\r\n      setShowBreakdown(true)\r\n    }\r\n    window.scrollTo(0, 0)\r\n  }\r\n\r\n  const handleEditDetails = () => {\r\n    setShowSettings(false)\r\n    setShowBreakdown(false)\r\n    window.scrollTo(0, 0)\r\n  }\r\n\r\n  const handleEditSettings = () => {\r\n    setShowBreakdown(false)\r\n    setShowSettings(true)\r\n    window.scrollTo(0, 0)\r\n  }\r\n\r\n  console.log(groupForm)\r\n\r\n  return (\r\n    <>\r\n      <MainHeading\r\n        backPath=\"/\"\r\n        title={t('Start Fund')}\r\n        helperText=\"If you have any trouble with this form, please contact us on Telegram.\"\r\n      />\r\n      <DefaultLayout\r\n        isChildPage\r\n        css={css`\r\n          max-width: 800px;\r\n          width: 100%;\r\n        `}\r\n      >\r\n        {!account ? (\r\n          <AutoColumn\r\n            gap=\"md\"\r\n            css={css`\r\n              display: flex;\r\n              flex-flow: column;\r\n              align-items: center;\r\n            `}\r\n          >\r\n            <h1>Get Started</h1>\r\n            <TYPE.body>Connect your wallet to join and create funds.</TYPE.body>\r\n            <ButtonError margin=\"1rem 0 0 0\" width=\"150px\" onClick={toggleWalletModal}>\r\n              Connect Wallet\r\n            </ButtonError>\r\n          </AutoColumn>\r\n        ) : (\r\n          <>\r\n            <Modal isOpen={showModal} maxHeight={90} onDismiss={onDismiss}>\r\n              {groupForm.status === 'created' ? (\r\n                <SuccessModalContent\r\n                  chainId={chainId!}\r\n                  hash={groupForm.txHash}\r\n                  groupId={groupForm.id!}\r\n                  onDismiss={onDismiss}\r\n                />\r\n              ) : null}\r\n              {groupForm.status === 'failed' ? (\r\n                <ErrorModalContent message={groupForm.errorMessage!} onDismiss={onDismiss} />\r\n              ) : null}\r\n            </Modal>\r\n            {/* <InputTextPanel\r\n          label={t('Name')}\r\n          value={groupForm.name || ''}\r\n          placeholder={'Your group name'}\r\n          error={false}\r\n          onChange={(value: string) => {\r\n            editGroupForm({\r\n              ...groupForm,\r\n              additionalInfo: {\r\n                ...groupForm.additionalInfo,\r\n                name: value\r\n              }\r\n            })\r\n          }}\r\n          id=\"field-name\"\r\n        /> */}\r\n            {!showBreakdown && !showSettings && (\r\n              <>\r\n                <FlexBox justify=\"space-between\" align=\"center\" padding=\"0 0 1.5rem\">\r\n                  <h1>Fund details</h1>\r\n                  <StyledStepCount fontSize=\"14px\">Step 1 of 3</StyledStepCount>\r\n                </FlexBox>\r\n                {/* <FlexBox padding=\"0 0 0.5rem\">\r\n                  <InputTextPanel\r\n                    label={t('Name')}\r\n                    value={groupForm.params.name || ''}\r\n                    placeholder={'What is your fund called?'}\r\n                    error={false}\r\n                    onChange={(value: string) => {\r\n                      setGroupParams({\r\n                        name: value\r\n                      })\r\n                    }}\r\n                    id=\"field-name\"\r\n                  />\r\n                </FlexBox> */}\r\n                {/* {formErrors.name && <TYPE.body color={theme.red1}>{formErrors.name}</TYPE.body>} */}\r\n                <FlexBox padding=\"0 0 0.5rem\">\r\n                  <InputTextPanel\r\n                    label={t('Description')}\r\n                    value={groupForm.params.description || ''}\r\n                    placeholder={'Why would an investor join your fund? Whatâ€™s your investment strategy etc...'}\r\n                    error={false}\r\n                    onChange={(value: string) => {\r\n                      setGroupParams({\r\n                        description: value\r\n                      })\r\n                    }}\r\n                    id=\"field-description\"\r\n                  />\r\n                </FlexBox>\r\n                {/* {formErrors.description && <TYPE.body color={theme.red1}>{formErrors.description}</TYPE.body>} */}\r\n                <FlexBox justify=\"flex-end\" align=\"center\" padding=\"1rem 0 0\">\r\n                  <StyledButtonWrapper justify=\"space-between\" align=\"center\">\r\n                    <StyledCancelButton width=\"100px\" onClick={() => history.push('/')}>\r\n                      Cancel\r\n                    </StyledCancelButton>\r\n                    <StyledPrimaryButton width=\"100px\" margin=\"0 0 0 0.75rem\" onClick={handleNext}>\r\n                      Next\r\n                    </StyledPrimaryButton>\r\n                  </StyledButtonWrapper>\r\n                </FlexBox>\r\n              </>\r\n            )}\r\n\r\n            {showSettings && !showBreakdown && (\r\n              <>\r\n                <FlexBox justify=\"space-between\" align=\"center\" padding=\"0 0 1.5rem\">\r\n                  <h1>Fund settings</h1>\r\n                  <StyledStepCount fontSize=\"14px\">Step 2 of 3</StyledStepCount>\r\n                </FlexBox>\r\n                <FlexBox\r\n                  border={`1px solid ${theme.bg3}`}\r\n                  borderRadius=\"0.5rem\"\r\n                  display=\"block\"\r\n                  margin=\"0 0 0.75rem\"\r\n                  padding=\"1rem\"\r\n                  width=\"100%\"\r\n                >\r\n                  <TYPE.main color={theme.text1} fontSize=\"14px\" paddingBottom=\"0.5rem\">\r\n                    Start with recommended settings\r\n                  </TYPE.main>\r\n                  <StyledFlexBox align=\"center\">\r\n                    <MaxButton enabled={preset === 'low'} onClick={() => updatePreset('low')}>\r\n                      Small fund\r\n                    </MaxButton>\r\n                    <MaxButton enabled={preset === 'medium'} onClick={() => updatePreset('medium')}>\r\n                      Medium fund\r\n                    </MaxButton>\r\n                    <MaxButton enabled={preset === 'high'} onClick={() => updatePreset('high')}>\r\n                      Large fund\r\n                    </MaxButton>\r\n                    <StyledButtonEmpty onClick={() => updatePreset('')}>Clear</StyledButtonEmpty>\r\n                    {/* <MaxButton enabled={preset === 'custom'} onClick={() => updatePreset('custom')}>\r\n                  Custom\r\n                </MaxButton> */}\r\n                    {/* <MaxButton enabled={preset === 'veryHigh'} onClick={() => updatePreset('veryHigh')} width=\"20%\">\r\n            Very High\r\n          </MaxButton> */}\r\n                  </StyledFlexBox>\r\n                </FlexBox>\r\n                {/* What is this error for? */}\r\n                {/* {ethBalance && parseFloat(ethBalance.toFixed(2)) < 0 && (\r\n                    <ErrorCard>\r\n                      {groupForm.params.maxEthContribution} ETH required to create. You have {ethBalance.toFixed(2)}{' '}\r\n                      ETH.\r\n                    </ErrorCard>\r\n                  )} */}\r\n                <FlexBox padding=\"0 0 0.75rem\">\r\n                  <SliderPanel\r\n                    label={t('Collateral')}\r\n                    helpText=\"If the fund makes a loss the collateral is used to compensate the investors in the fund relative to their investment size.\"\r\n                    value={groupForm.params.leaderiFundCollateral}\r\n                    subLabel=\"(10,000 iFUND minimum)\"\r\n                    unit=\"iFUND\"\r\n                    min={10000}\r\n                    max={1000000}\r\n                    step={1000}\r\n                    onChange={(value: number) => {\r\n                      setGroupParams({\r\n                        leaderiFundCollateral: value!\r\n                      })\r\n                    }}\r\n                    onChangeInput={(event: any) => {\r\n                      setGroupParams({\r\n                        leaderiFundCollateral: parseInt(event.target.value)\r\n                      })\r\n                    }}\r\n                    id=\"field-leaderiFundCollateral\"\r\n                  />\r\n                </FlexBox>\r\n                {uppBalance && parseFloat(uppBalance.toFixed(2)) < groupForm.params.leaderiFundCollateral && (\r\n                  <FlexBox padding=\"0 0 0.75rem\">\r\n                    <ErrorCard>\r\n                      Collateral must be below your iFUND balance. You have{' '}\r\n                      {numeral(uppBalance.toFixed(2)).format('0,0')} iFUND.\r\n                    </ErrorCard>\r\n                  </FlexBox>\r\n                )}\r\n                <FlexBox padding=\"0 0 0.75rem\">\r\n                  <SliderPanel\r\n                    label={t('Joining fee')}\r\n                    subLabel=\"(500 iFUND minimum)\"\r\n                    helpText=\"Investors pay you this fee to join your fund.\"\r\n                    value={groupForm.params.requiredMemberiFundFee}\r\n                    unit=\"iFUND\"\r\n                    min={500}\r\n                    max={50000}\r\n                    step={100}\r\n                    onChange={(value: number) => {\r\n                      setGroupParams({\r\n                        requiredMemberiFundFee: value!\r\n                      })\r\n                    }}\r\n                    onChangeInput={(event: any) => {\r\n                      setGroupParams({\r\n                        requiredMemberiFundFee: parseInt(event.target.value)\r\n                      })\r\n                    }}\r\n                    id=\"field-requiredMemberiFundFee\"\r\n                  />\r\n                </FlexBox>\r\n                {/* <FlexBox padding=\"0 0 0.75rem\">\r\n                  <SliderPanel\r\n                    label={t('Max investment per investor')}\r\n                    subLabel=\"(5 ETH minimum)\"\r\n                    helpText=\"The maximum amount of ETH a single investor can contribute to the fund.\"\r\n                    value={groupForm.params.maxEthContribution}\r\n                    unit=\"ETH\"\r\n                    min={5}\r\n                    max={1000}\r\n                    step={1}\r\n                    onChange={(value: number) => {\r\n                      setGroupParams({\r\n                        maxEthContribution: value!\r\n                      })\r\n                    }}\r\n                    onChangeInput={(event: any) => {\r\n                      setGroupParams({\r\n                        maxEthContribution: parseFloat(event.target.value)\r\n                      })\r\n                    }}\r\n                    id=\"field-maxEthContribution\"\r\n                  />\r\n                </FlexBox> */}\r\n                <FlexBox padding=\"0 0 0.75rem\">\r\n                  <SliderPanel\r\n                    label={t('Minimum starting fund size')}\r\n                    subLabel=\"(1 ETH minimum)\"\r\n                    helpText=\"The minimum total ETH invested before the fund can start trading.\"\r\n                    value={groupForm.params.minEthToStart}\r\n                    min={1}\r\n                    max={1000}\r\n                    step={1}\r\n                    unit=\"ETH\"\r\n                    onChange={(value: number) => {\r\n                      setGroupParams({\r\n                        minEthToStart: value!\r\n                      })\r\n                    }}\r\n                    onChangeInput={(event: any) => {\r\n                      setGroupParams({\r\n                        minEthToStart: parseFloat(event.target.value)\r\n                      })\r\n                    }}\r\n                    id=\"field-minEthToStart\"\r\n                  />\r\n                </FlexBox>\r\n                <FlexBox padding=\"0 0 0.75rem\">\r\n                  <SliderPanel\r\n                    label={t('Maximum fund size')}\r\n                    subLabel=\"(1 ETH minimum)\"\r\n                    helpText=\"The maximum total ETH the fund will accept\"\r\n                    value={groupForm.params.maxEthAcceptable}\r\n                    min={1}\r\n                    max={1000}\r\n                    step={1}\r\n                    unit=\"ETH\"\r\n                    onChange={(value: number) => {\r\n                      setGroupParams({\r\n                        maxEthAcceptable: value!,\r\n                        maxEthContribution: value!\r\n                      })\r\n                    }}\r\n                    onChangeInput={(event: any) => {\r\n                      setGroupParams({\r\n                        maxEthAcceptable: parseFloat(event.target.value),\r\n                        maxEthContribution: parseFloat(event.target.value)\r\n                      })\r\n                    }}\r\n                    id=\"field-maxEthAcceptable\"\r\n                  />\r\n                </FlexBox>\r\n                <FlexBox padding=\"0 0 0.75rem\">\r\n                  <SliderPanel\r\n                    label={t('Maximum time till start')}\r\n                    subLabel=\"(1 day minimum)\"\r\n                    helpText=\"If the fund doesn't start before this time the investors can withdraw their funds.\"\r\n                    value={groupForm.params.startTimeoutHours / 24}\r\n                    min={1}\r\n                    max={30}\r\n                    step={1}\r\n                    unit={groupForm.params.startTimeoutHours / 24 === 1 ? 'day' : 'days'}\r\n                    onChange={(value: number) => {\r\n                      setGroupParams({\r\n                        startTimeoutHours: value * 24\r\n                      })\r\n                    }}\r\n                    onChangeInput={(event: any) => {\r\n                      setGroupParams({\r\n                        startTimeoutHours: parseFloat(event.target.value) * 24\r\n                      })\r\n                    }}\r\n                    id=\"field-startTimeoutHours\"\r\n                  />\r\n                </FlexBox>\r\n                <FlexBox padding=\"0 0 0.75rem\">\r\n                  <SliderPanel\r\n                    label={t('Maximum trading time')}\r\n                    subLabel=\"(1 day minimum)\"\r\n                    helpText=\"The maximum amount of time the fund can make trades\"\r\n                    value={groupForm.params.maxRunTimeHours / 24}\r\n                    min={1}\r\n                    max={90}\r\n                    step={1}\r\n                    unit={groupForm.params.maxRunTimeHours / 24 === 1 ? 'day' : 'days'}\r\n                    onChange={(value: number) => {\r\n                      setGroupParams({\r\n                        maxRunTimeHours: value * 24\r\n                      })\r\n                    }}\r\n                    onChangeInput={(event: any) => {\r\n                      setGroupParams({\r\n                        maxRunTimeHours: parseFloat(event.target.value) * 24\r\n                      })\r\n                    }}\r\n                    id=\"field-maxRunTimeHours\"\r\n                  />\r\n                </FlexBox>\r\n                <FlexBox padding=\"0 0 0.75rem\">\r\n                  <SliderPanel\r\n                    label={t('Manager fee')}\r\n                    helpText=\"This fee is deducted from the return the fund makes and paid to you.\"\r\n                    value={groupForm.params.leaderProfitShareOutOf10000 / 100}\r\n                    min={0}\r\n                    max={100}\r\n                    step={5}\r\n                    unit=\"%\"\r\n                    onChange={(value: number) => {\r\n                      setGroupParams({\r\n                        leaderProfitShareOutOf10000: Math.floor(value * 100)\r\n                      })\r\n                    }}\r\n                    onChangeInput={(event: any) => {\r\n                      setGroupParams({\r\n                        leaderProfitShareOutOf10000: Math.floor(parseFloat(event.target.value) * 100)\r\n                      })\r\n                    }}\r\n                    id=\"field-leaderProfitShareOutOf10000\"\r\n                  />\r\n                </FlexBox>\r\n                <StyledButtonWrapper justify=\"space-between\" align=\"center\" padding=\"0.75rem 0 0\">\r\n                  <ButtonEmpty onClick={handleBack}>\r\n                    <ChevronLeft /> Back\r\n                  </ButtonEmpty>\r\n                  <StyledButtonWrapper justify=\"space-between\" align=\"center\">\r\n                    <StyledCancelButton width=\"100px\" onClick={() => history.push('/')}>\r\n                      Cancel\r\n                    </StyledCancelButton>\r\n                    <StyledPrimaryButton width=\"100px\" margin=\"0 0 0 0.75rem\" onClick={handleNext}>\r\n                      Next\r\n                    </StyledPrimaryButton>\r\n                  </StyledButtonWrapper>\r\n                </StyledButtonWrapper>\r\n              </>\r\n            )}\r\n\r\n            {groupForm.data.leader && showBreakdown ? (\r\n              <>\r\n                <FlexBox justify=\"space-between\" align=\"center\" padding=\"0 0 1.5rem\">\r\n                  <h1>Review and publish</h1>\r\n                  <StyledStepCount fontSize=\"14px\">Step 3 of 3</StyledStepCount>\r\n                </FlexBox>\r\n                {riskScore === 'very high' && (\r\n                  <FlexBox padding=\"0 0 1.5rem\">\r\n                    <ErrorCard>\r\n                      The risk of your fund is very high. Increase your collateral to lower the risk for your investors.\r\n                    </ErrorCard>\r\n                  </FlexBox>\r\n                )}\r\n                <FlexBox flex=\"column\" padding=\"0 0 1.5rem\">\r\n                  <h2>Fund rules</h2>\r\n                  <ol>\r\n                    <li>\r\n                      <TYPE.body marginTop=\"0.5rem\">{`Once your fund is published you have ${groupForm.params\r\n                        .startTimeoutHours / 24} days to start trading.`}</TYPE.body>\r\n                    </li>\r\n                    <li>\r\n                      <TYPE.body>\r\n                        If your fund results in a loss, your collateral will be disbursed to your investors.\r\n                      </TYPE.body>\r\n                    </li>\r\n                    <li>\r\n                      <TYPE.body>You MUST trade back to ETH before closing your fund.</TYPE.body>\r\n                    </li>\r\n                  </ol>\r\n                </FlexBox>\r\n                <h2>Review details</h2>\r\n                <FlexBox\r\n                  border={`1px solid ${theme.bg3}`}\r\n                  borderRadius=\"0.5rem\"\r\n                  flex=\"column\"\r\n                  padding=\"1.5rem\"\r\n                  margin=\"1rem 0 0\"\r\n                >\r\n                  <FlexBox flex=\"column\" padding=\"0 0 1rem\" width=\"100%\">\r\n                    <DataPoint label=\"Fund name\" value={groupForm.params.name || 'NA'} size=\"medium\" />\r\n                    <DataPoint label=\"Fund description\" value={groupForm.params.description || 'NA'} size=\"small\" />\r\n                    <ButtonEmpty onClick={handleEditDetails}>\r\n                      <Edit size={20} />\r\n                      Edit fund details\r\n                    </ButtonEmpty>\r\n                  </FlexBox>\r\n                  <FlexBox flex=\"column\" width=\"100%\">\r\n                    <DataPoint\r\n                      label=\"Collateral\"\r\n                      value={numeral(groupForm.params.leaderiFundCollateral).format('0,0')}\r\n                      size=\"medium\"\r\n                      unit=\"iFUND\"\r\n                    />\r\n                    <DataPoint\r\n                      label=\"Joining fee\"\r\n                      value={numeral(groupForm.params.requiredMemberiFundFee).format('0,0')}\r\n                      size=\"medium\"\r\n                      unit=\"iFUND\"\r\n                    />\r\n                    {/* <DataPoint\r\n                      label=\"Max investment per investor\"\r\n                      value={groupForm.params.maxEthContribution}\r\n                      size=\"medium\"\r\n                      unit=\"ETH\"\r\n                    /> */}\r\n                    <DataPoint\r\n                      label=\"Minimum starting fund size\"\r\n                      value={groupForm.params.minEthToStart}\r\n                      size=\"medium\"\r\n                      unit=\"ETH\"\r\n                    />\r\n                    <DataPoint\r\n                      label=\"Maximum fund size\"\r\n                      value={groupForm.params.maxEthAcceptable}\r\n                      size=\"medium\"\r\n                      unit=\"ETH\"\r\n                    />\r\n                    <DataPoint\r\n                      label=\"Maximum time till start\"\r\n                      value={groupForm.params.startTimeoutHours / 24}\r\n                      size=\"medium\"\r\n                      unit=\"days\"\r\n                    />\r\n                    <DataPoint\r\n                      label=\"Maximum trading time\"\r\n                      value={groupForm.params.maxRunTimeHours / 24}\r\n                      size=\"medium\"\r\n                      unit=\"days\"\r\n                    />\r\n                    <DataPoint\r\n                      label=\"Manager fee\"\r\n                      value={groupForm.params.leaderProfitShareOutOf10000 / 100}\r\n                      size=\"medium\"\r\n                      unit=\"%\"\r\n                    />\r\n                    <ButtonEmpty onClick={handleEditSettings}>\r\n                      <Edit size={20} />\r\n                      Edit fund settings\r\n                    </ButtonEmpty>\r\n                  </FlexBox>\r\n                </FlexBox>\r\n                <StyledButtonWrapper justify=\"space-between\" align=\"center\" padding=\"1.5rem 0 0\">\r\n                  <ButtonEmpty onClick={handleBack}>\r\n                    <ChevronLeft />\r\n                    Back\r\n                  </ButtonEmpty>\r\n                  <StyledButtonWrapper justify=\"space-between\" align=\"center\">\r\n                    <StyledCancelButton width=\"100px\" onClick={() => history.push('/')}>\r\n                      Cancel\r\n                    </StyledCancelButton>\r\n                    {groupForm.status !== 'readyToCreate' &&\r\n                      groupForm.status !== 'startCreate' &&\r\n                      groupForm.status !== 'creating' &&\r\n                      groupForm.status !== 'created' &&\r\n                      groupForm.status !== 'failed' && (\r\n                        <StyledButtonError\r\n                          onClick={groupForm.status === 'openForm' ? checkAllowance : startApprove}\r\n                          width=\"172px\"\r\n                          margin=\"0 0 0 0.75rem\"\r\n                        >\r\n                          {\r\n                            {\r\n                              uncreated: t('Check Allowance'),\r\n                              openForm: t('Check Allowance'),\r\n                              checkAllowance: t('Check Allowance'),\r\n                              checkingAllowance: t('Checking...'),\r\n                              readyToApprove: t('Approve iFUND'),\r\n                              startApprove: t('Approve iFUND'),\r\n                              approving: t('Approving...')\r\n                            }[groupForm.status]\r\n                          }\r\n                        </StyledButtonError>\r\n                      )}\r\n                    {groupForm.status !== 'uncreated' &&\r\n                      groupForm.status !== 'openForm' &&\r\n                      groupForm.status !== 'checkAllowance' &&\r\n                      groupForm.status !== 'checkingAllowance' &&\r\n                      groupForm.status !== 'readyToApprove' &&\r\n                      groupForm.status !== 'startApprove' &&\r\n                      groupForm.status !== 'approving' && (\r\n                        <StyledButtonError onClick={startCreate} width=\"172px\" margin=\"0 0 0 0.75rem\">\r\n                          {\r\n                            {\r\n                              readyToCreate: t('Create'),\r\n                              startCreate: t('Create'),\r\n                              creating: t('Creating...'),\r\n                              created: t('Created'),\r\n                              failed: t('Failed')\r\n                            }[groupForm.status]\r\n                          }\r\n                        </StyledButtonError>\r\n                      )}\r\n                  </StyledButtonWrapper>\r\n                </StyledButtonWrapper>\r\n              </>\r\n            ) : null}\r\n          </>\r\n        )}\r\n      </DefaultLayout>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default withRouter(GroupCreate)\r\n","import React, { useContext } from 'react'\r\nimport styled, { ThemeContext } from 'styled-components'\r\nimport numeral from 'numeral'\r\nimport { Text } from 'rebass'\r\n// import { PercentReturn } from '../PercentReturn'\r\n\r\nconst StyledTokensTableWrapper = styled.div`\r\n  padding: 0.5rem 0;\r\n`\r\n\r\nexport const StyledTableRow = styled.div`\r\n  border-bottom: ${({ theme }) => `1px solid ${theme.bg3}`};\r\n  display: flex;\r\n  padding-bottom: 1rem;\r\n  margin-top: 1rem;\r\n`\r\n\r\nexport const StyledTableCell = styled.div<{ width: string }>`\r\n  padding-right: 0.5rem;\r\n  width: ${props => props.width};\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\r\n    font-size: 14px;\r\n  `};\r\n`\r\n\r\ninterface TableProps {\r\n  tokens?: any\r\n}\r\n\r\nexport const TokensTable = ({ tokens }: TableProps) => {\r\n  const theme = useContext(ThemeContext)\r\n  return (\r\n    <StyledTokensTableWrapper>\r\n      <StyledTableRow>\r\n        <StyledTableCell width=\"50%\">\r\n          <Text color={theme.text2} fontSize=\"14px\">\r\n            Name\r\n          </Text>\r\n        </StyledTableCell>\r\n        <StyledTableCell width=\"25%\">\r\n          <Text color={theme.text2} fontSize=\"14px\">\r\n            Amount\r\n          </Text>\r\n        </StyledTableCell>\r\n        {/* <StyledTableCell width=\"25%\">\r\n          <Text color={theme.text2} fontSize=\"14px\">\r\n            Return\r\n          </Text>\r\n        </StyledTableCell> */}\r\n      </StyledTableRow>\r\n      {tokens.map((token: any) => (\r\n        <StyledTableRow key={token.name}>\r\n          <StyledTableCell width=\"50%\">\r\n            <Text color={theme.text1} lineHeight=\"1.2\">\r\n              {token.name} ({token.symbol})\r\n            </Text>\r\n          </StyledTableCell>\r\n          <StyledTableCell width=\"25%\">\r\n            <Text color={theme.text1} fontWeight=\"600\" lineHeight=\"1.2\">\r\n              {numeral(token.amount).format('0,0.0')}\r\n            </Text>\r\n          </StyledTableCell>\r\n          {/* <StyledTableCell width=\"25%\">\r\n            <PercentReturn value={30} size=\"small\" />\r\n          </StyledTableCell> */}\r\n        </StyledTableRow>\r\n      ))}\r\n    </StyledTokensTableWrapper>\r\n  )\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react'\r\n// import axios from 'axios'\r\nimport DefaultLayout from 'src/layouts/default'\r\nimport { MainHeading } from 'src/components/NavigationTabs'\r\nimport { AutoColumn } from 'src/components/Column'\r\nimport { useGroupActions } from 'src/context/GroupContext'\r\nimport { Text } from 'rebass'\r\nimport SliderPanel from 'src/components/SliderPanel'\r\nimport web3 from 'web3'\r\nimport { RouteComponentProps, withRouter } from 'react-router-dom'\r\nimport Row, { RowBetween } from 'src/components/Row'\r\nimport { css } from '@emotion/core'\r\nimport { ButtonError } from 'src/components/Button'\r\nimport { useActiveWeb3React } from 'src/hooks'\r\nimport styled from 'styled-components'\r\nimport { ColumnCenter } from 'src/components/Column'\r\nimport { ChainId } from 'src/sdk'\r\nimport { ThemeContext } from 'styled-components'\r\nimport { ExternalLink, TYPE } from 'src/theme'\r\nimport { CloseIcon } from 'src/theme/components'\r\nimport { AlertTriangle, CheckCircle } from 'react-feather'\r\nimport { ButtonPrimary } from 'src/components/Button'\r\nimport { getEtherscanLink } from 'src/utils'\r\nimport Modal from 'src/components/Modal'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useCurrencyBalance } from 'src/state/wallet/hooks'\r\nimport { useCurrency } from 'src/hooks/Tokens'\r\n// import VerifiedBadge from '../../assets/svg/verified-badge.png'\r\nimport { ErrorCard } from 'src/components/Card'\r\nimport { PageSpinner } from 'src/components/PageSpinner'\r\nimport { FlexBox } from 'src/components/FlexBox'\r\nimport { StyledTableRow, StyledTableCell } from 'src/components/TokensTable'\r\nimport numeral from 'numeral'\r\n\r\nexport const RowAlignRight = styled(Row)`\r\n  justify-content: flex-end;\r\n`\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n`\r\nconst Section = styled(AutoColumn)`\r\n  padding: 24px;\r\n`\r\n\r\n// const Panel = styled.div<{ hideInput?: boolean }>`\r\n//   ${({ theme }) => theme.flexColumnNoWrap}\r\n//   position: relative;\r\n//   border-radius: ${({ hideInput }) => (hideInput ? '8px' : '20px')};\r\n//   background-color: ${({ theme }) => theme.bg2};\r\n//   z-index: 1;\r\n// `\r\n\r\nconst BottomSection = styled(Section)`\r\n  background-color: ${({ theme }) => theme.bg2};\r\n  border-bottom-left-radius: 20px;\r\n  border-bottom-right-radius: 20px;\r\n`\r\n\r\nconst ConfirmedIcon = styled(ColumnCenter)`\r\n  padding: 60px 0;\r\n`\r\n\r\nconst StyledButtonWrapper = styled(FlexBox)`\r\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\r\n    flex-flow: column;\r\n    width: 100%;\r\n  `};\r\n`\r\n\r\nconst StyledButtonError = styled(ButtonError)`\r\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\r\n    margin: 0 0 0.5rem;\r\n    width: 100%;\r\n  `};\r\n`\r\n\r\nfunction SuccessModalContent({\r\n  onDismiss,\r\n  chainId,\r\n  groupId,\r\n  hash\r\n}: {\r\n  onDismiss: () => void\r\n  hash?: string | undefined\r\n  chainId: ChainId\r\n  groupId: number\r\n}) {\r\n  const { t } = useTranslation()\r\n  const theme = useContext(ThemeContext)\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Section>\r\n        <RowBetween>\r\n          <div />\r\n          <CloseIcon onClick={onDismiss} />\r\n        </RowBetween>\r\n        <ConfirmedIcon>\r\n          <CheckCircle strokeWidth={1} size={64} color={theme.green1} />\r\n        </ConfirmedIcon>\r\n        <AutoColumn gap=\"12px\" justify={'center'}>\r\n          <Text fontWeight={600} fontSize={20}>\r\n            {t('groupJoined', { groupId })}\r\n          </Text>\r\n\r\n          {chainId && hash && (\r\n            <ExternalLink href={getEtherscanLink(chainId, hash, 'transaction')}>\r\n              <Text fontWeight={400} fontSize={14} color={theme.primary1}>\r\n                {t('View on Etherscan')}\r\n              </Text>\r\n            </ExternalLink>\r\n          )}\r\n          <ButtonPrimary onClick={onDismiss} style={{ margin: '20px 0 0 0' }}>\r\n            {t('Close')}\r\n          </ButtonPrimary>\r\n        </AutoColumn>\r\n      </Section>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport function ErrorModalContent({ message, onDismiss }: { message: string; onDismiss: () => void }) {\r\n  const { t } = useTranslation()\r\n  const theme = useContext(ThemeContext)\r\n  return (\r\n    <Wrapper>\r\n      <Section>\r\n        <RowBetween>\r\n          <Text fontWeight={500} fontSize={20}>\r\n            {t('Error')}\r\n          </Text>\r\n          <CloseIcon onClick={onDismiss} />\r\n        </RowBetween>\r\n        <AutoColumn style={{ marginTop: 20, padding: '2rem 0' }} gap=\"24px\" justify=\"center\">\r\n          <AlertTriangle color={theme.red1} style={{ strokeWidth: 1 }} size={64} />\r\n          <Text fontWeight={400} fontSize={16} color={theme.text1} style={{ textAlign: 'center', width: '85%' }}>\r\n            {message}\r\n          </Text>\r\n        </AutoColumn>\r\n      </Section>\r\n      <BottomSection gap=\"12px\">\r\n        <ButtonPrimary onClick={onDismiss}>{t('Dismiss')}</ButtonPrimary>\r\n      </BottomSection>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\ninterface LocationState {\r\n  backPath?: string\r\n}\r\n\r\nconst GroupJoin = ({\r\n  history,\r\n  match: {\r\n    params: { id }\r\n  }\r\n}: RouteComponentProps<{ id?: string }, any, LocationState | any>) => {\r\n  const { t } = useTranslation()\r\n  const theme = useContext(ThemeContext)\r\n  const { getGroup, addFunds, approveJoinGroup, checkGroupAllowance } = useGroupActions()\r\n  const { chainId } = useActiveWeb3React()\r\n  const { account } = useActiveWeb3React()\r\n  const [status, setStatus] = useState('unjoined')\r\n  const [errorMessage, setErrorMessage] = useState<string>('')\r\n  const [showModal, setShowModal] = useState(false)\r\n  // const ethCurrency = useCurrency('ETH')\r\n  // const ethBalance = useCurrencyBalance(account ?? undefined, ethCurrency ?? undefined)\r\n  const uppCurrency = useCurrency(process.env.REACT_APP_UNIFUND_ADDRESS)\r\n  const uppBalance = useCurrencyBalance(account ?? undefined, uppCurrency ?? undefined)\r\n  // const [uppPrice, setUppPrice] = useState(0)\r\n\r\n  useEffect(() => {\r\n    if (status === 'joined') {\r\n      setShowModal(true)\r\n    } else if (errorMessage) {\r\n      setShowModal(true)\r\n    }\r\n  }, [status, errorMessage])\r\n\r\n  // useEffect(() => {\r\n  //   axios(\r\n  //     'https://api.coingecko.com/api/v3/simple/token_price/ethereum?contract_addresses=0xce25b4271cc4d937a7d9bf75b2068a7892b9961d&vs_currencies=eth'\r\n  //   ).then((res: any) => {\r\n  //     if (!res.data || !res.data[process.env.REACT_APP_UNIFUND_ADDRESS?.toLowerCase() as string]) return\r\n  //     setUppPrice(res.data[process.env.REACT_APP_UNIFUND_ADDRESS?.toLowerCase() as string].eth)\r\n  //   })\r\n  // }, [])\r\n\r\n  const onDismiss = () => {\r\n    setErrorMessage('')\r\n    setShowModal(false)\r\n  }\r\n\r\n  const group = getGroup(parseInt(id!))\r\n  const actualMaxAllowed = group?.data\r\n    ? parseFloat(web3.utils.fromWei(group?.data.maxEthAcceptable ?? '0')) -\r\n      parseFloat(web3.utils.fromWei(group?.data.totalContributions ?? '0'))\r\n    : 1\r\n  const realMax = parseFloat(web3.utils.fromWei(group?.data.maxEthContribution ?? '0'))\r\n  const minValue = 0\r\n  const maxValue = actualMaxAllowed < realMax ? actualMaxAllowed : realMax\r\n\r\n  const [amount, setAmount] = useState(0)\r\n  const groupFull = minValue > maxValue\r\n\r\n  useEffect(() => {\r\n    checkGroupAllowance().then(() => {\r\n      setStatus('checked')\r\n    })\r\n  }, [])\r\n\r\n  const back = history.location.state?.backPath\r\n\r\n  return (\r\n    <>\r\n      <MainHeading\r\n        backPath={back ? back : '/'}\r\n        title={t('Join fund')}\r\n        helperText=\"If you have any trouble with this form, please contact us on Telegram.\"\r\n      />\r\n      <DefaultLayout\r\n        isChildPage\r\n        css={css`\r\n          max-width: 800px;\r\n          width: 100%;\r\n        `}\r\n      >\r\n        <Modal isOpen={showModal} maxHeight={90} onDismiss={onDismiss}>\r\n          {status === 'joined' ? (\r\n            <SuccessModalContent chainId={chainId!} groupId={group!.id!} onDismiss={onDismiss} />\r\n          ) : null}\r\n          {errorMessage ? <ErrorModalContent message={errorMessage!} onDismiss={onDismiss} /> : null}\r\n        </Modal>\r\n        <FlexBox flex=\"column\">\r\n          {group ? (\r\n            <>\r\n              <h1>\r\n                {group.params.description.length > 15\r\n                  ? `${group.params.description.substr(0, 15)}...`\r\n                  : group.params.description}\r\n              </h1>\r\n              {groupFull && (\r\n                <FlexBox padding=\"1rem 0 0\">\r\n                  <ErrorCard>Fund is full and not accepting investments.</ErrorCard>\r\n                </FlexBox>\r\n              )}\r\n              <FlexBox padding=\"1rem 0\">\r\n                <SliderPanel\r\n                  disabled={groupFull}\r\n                  label={t('Your investment')}\r\n                  helpText=\"Enter the amount of ETH you wish to invest in the fund.\"\r\n                  subLabel={`(${maxValue} ETH maximum)`}\r\n                  unit=\"ETH\"\r\n                  value={amount}\r\n                  min={minValue}\r\n                  max={maxValue}\r\n                  step={1}\r\n                  onChange={(value: number) => {\r\n                    setAmount(value!)\r\n                  }}\r\n                  onChangeInput={(event: any) => {\r\n                    setAmount(parseFloat(event.target.value))\r\n                  }}\r\n                  id=\"field-addFunds\"\r\n                />\r\n              </FlexBox>\r\n              {uppBalance && parseFloat(uppBalance.toFixed(2)) < group.params.requiredMemberiFundFee && (\r\n                <FlexBox padding=\"0 0 1.5rem\">\r\n                  <ErrorCard>\r\n                    {numeral(group.params.requiredMemberiFundFee).format('0,0')} iFUND required to join. You have{' '}\r\n                    {numeral(uppBalance.toFixed(2)).format('0,0')} iFUND.\r\n                  </ErrorCard>\r\n                </FlexBox>\r\n              )}\r\n              {amount > maxValue && (\r\n                <FlexBox padding=\"0 0 1.5rem\">\r\n                  <ErrorCard>\r\n                    You can only invest up to{' '}\r\n                    {maxValue < group.params.maxEthContribution ? maxValue : group.params.maxEthContribution} ETH. Lower\r\n                    your investment amount to continue.\r\n                  </ErrorCard>\r\n                </FlexBox>\r\n              )}\r\n              <FlexBox flex=\"column\" padding=\"0.5rem 0 1.5rem\">\r\n                <h2>Cost</h2>\r\n                <StyledTableRow>\r\n                  <StyledTableCell width=\"50%\">\r\n                    <TYPE.body>Investment</TYPE.body>\r\n                  </StyledTableCell>\r\n                  <StyledTableCell width=\"50%\">\r\n                    <TYPE.body color={theme.text1} fontWeight={600}>{`${amount} ETH`}</TYPE.body>\r\n                  </StyledTableCell>\r\n                </StyledTableRow>\r\n                <StyledTableRow>\r\n                  <StyledTableCell width=\"50%\">\r\n                    <TYPE.body>Joining fee</TYPE.body>\r\n                  </StyledTableCell>\r\n                  <StyledTableCell width=\"50%\">\r\n                    <TYPE.body color={theme.text1} fontWeight={600}>{`${numeral(\r\n                      group.params.requiredMemberiFundFee\r\n                    ).format('0,0')} iFUND`}</TYPE.body>\r\n                  </StyledTableCell>\r\n                </StyledTableRow>\r\n              </FlexBox>\r\n              <FlexBox justify=\"flex-end\">\r\n                <StyledButtonWrapper>\r\n                  {status === 'unjoined' || status === 'checking' ? (\r\n                    <StyledButtonError\r\n                      disabled={status === 'checking'}\r\n                      onClick={async () => {\r\n                        setStatus('checking')\r\n                        if (await checkGroupAllowance()) {\r\n                          setStatus('checked')\r\n                        } else {\r\n                          setStatus('unjoined')\r\n                        }\r\n                      }}\r\n                      width=\"190px\"\r\n                    >\r\n                      {status === 'checking' ? t('Checking...') : t('Check Allowance')}\r\n                    </StyledButtonError>\r\n                  ) : null}\r\n                  {status !== 'unjoined' && status !== 'checking' ? (\r\n                    <StyledButtonError\r\n                      disabled={status !== 'unjoined' && status !== 'checking' && status !== 'checked'}\r\n                      onClick={async () => {\r\n                        setStatus('approving')\r\n                        try {\r\n                          await approveJoinGroup(group?.id!)\r\n                          setStatus('approved')\r\n                        } catch (e) {\r\n                          setStatus('checked')\r\n                          setErrorMessage(\r\n                            t('Error approving the group. Please check the form and try again. Details: ') + e.message\r\n                          )\r\n                        }\r\n                      }}\r\n                      width=\"190px\"\r\n                    >\r\n                      {status === 'approving'\r\n                        ? t('Approving...')\r\n                        : status === 'checked'\r\n                        ? t('Approve iFUND Fee')\r\n                        : t('Approved')}\r\n                    </StyledButtonError>\r\n                  ) : null}\r\n                  {status !== 'joined' ? (\r\n                    <StyledButtonError\r\n                      disabled={status !== 'approved'}\r\n                      onClick={async () => {\r\n                        setStatus('joining')\r\n                        try {\r\n                          await addFunds(group?.id!, amount)\r\n                          setStatus('joined')\r\n                        } catch (e) {\r\n                          setStatus('approved')\r\n                          setErrorMessage(\r\n                            t('Error joining the group. Please check the form and try again. Details: ') + e.message\r\n                          )\r\n                        }\r\n                      }}\r\n                      width=\"100px\"\r\n                      margin=\"0 0 0 0.75rem\"\r\n                    >\r\n                      {status === 'joining' ? t('Joining...') : status === 'joined' ? t('Joined') : t('Join')}\r\n                    </StyledButtonError>\r\n                  ) : null}\r\n                  {status === 'joined' ? (\r\n                    <StyledButtonError disabled width=\"100px\" margin=\"0 0 0 0.75rem\">\r\n                      {t('Joined')}\r\n                    </StyledButtonError>\r\n                  ) : null}\r\n                </StyledButtonWrapper>\r\n              </FlexBox>\r\n            </>\r\n          ) : (\r\n            <PageSpinner />\r\n          )}\r\n        </FlexBox>\r\n      </DefaultLayout>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default withRouter(GroupJoin)\r\n","import React, { useState } from 'react'\r\nimport DefaultLayout from 'src/layouts/default'\r\nimport { MainHeading } from 'src/components/NavigationTabs'\r\nimport { RouteComponentProps, withRouter } from 'react-router-dom'\r\nimport { useGroupActions } from 'src/context/GroupContext'\r\nimport { css } from '@emotion/core'\r\nimport { ButtonError, ButtonPrimary } from 'src/components/Button'\r\nimport { PageSpinner } from 'src/components/PageSpinner'\r\nimport { TYPE } from 'src/theme'\r\nimport { ErrorCard } from 'src/components/Card'\r\n\r\nconst GroupStart = ({\r\n  history,\r\n  match: {\r\n    params: { id }\r\n  }\r\n}: RouteComponentProps<{ id?: string }>) => {\r\n  const { getGroup, startGroup } = useGroupActions()\r\n  const [attempting, setAttempting] = useState(false)\r\n\r\n  const group = getGroup(parseInt(id!))\r\n  const started = group?.data.runTimeout > 0\r\n  const status = group?.data.complete ? 'complete' : group?.data.aborted ? 'aborted' : started ? 'started' : 'created'\r\n\r\n  const confirm = () => {\r\n    startGroup(group?.id!)\r\n    setAttempting(true)\r\n  }\r\n\r\n  const unstartable = group?.params.minEthToStart! > group?.totalContributions!\r\n\r\n  return (\r\n    <>\r\n      <MainHeading backPath={'/'} title={'Start Fund'} />\r\n      <DefaultLayout\r\n        isChildPage\r\n        css={css`\r\n          max-width: 800px;\r\n          width: 100%;\r\n        `}\r\n      >\r\n        {unstartable ? (\r\n          <>\r\n            <ErrorCard>Starting balance not reached. Current balance: {group?.totalContributions} ETH</ErrorCard>\r\n            <TYPE.body margin=\"1rem 0\">\r\n              The fund can start trading when it reaches {group?.params.minEthToStart} ETH. Add the necessary funds or\r\n              wait for further contributions.\r\n            </TYPE.body>\r\n            <ButtonPrimary onClick={() => history.push(`/group/${group?.id}/add-funds`)} width=\"120px\">\r\n              Add Funds\r\n            </ButtonPrimary>\r\n          </>\r\n        ) : group ? (\r\n          <>\r\n            {status === 'started' ? (\r\n              <ErrorCard>Fund has already started.</ErrorCard>\r\n            ) : (\r\n              <ErrorCard>Minimum ETH to start: {group?.params.minEthToStart} ETH</ErrorCard>\r\n            )}\r\n            {status === 'created' ? (\r\n              <>\r\n                <h1>{\"It's\"} go time</h1>\r\n                <TYPE.body margin=\"1rem 0\">May the pump gods be with you.</TYPE.body>\r\n                <ButtonError disabled={attempting} onClick={confirm} width=\"120px\">\r\n                  {attempting ? 'Starting...' : 'Start fund'}\r\n                </ButtonError>\r\n              </>\r\n            ) : null}\r\n          </>\r\n        ) : (\r\n          <PageSpinner />\r\n        )}\r\n      </DefaultLayout>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default withRouter(GroupStart)\r\n","import React, { useState } from 'react'\r\nimport DefaultLayout from 'src/layouts/default'\r\nimport { MainHeading } from 'src/components/NavigationTabs'\r\nimport { RouteComponentProps, withRouter } from 'react-router-dom'\r\nimport { useGroupActions } from 'src/context/GroupContext'\r\nimport { css } from '@emotion/core'\r\nimport { ButtonError } from 'src/components/Button'\r\nimport { PageSpinner } from 'src/components/PageSpinner'\r\nimport { ErrorCard } from 'src/components/Card'\r\nimport { TYPE } from 'src/theme'\r\n\r\nconst GroupAbort = ({\r\n  history,\r\n  match: {\r\n    params: { id }\r\n  }\r\n}: RouteComponentProps<{ id?: string }>) => {\r\n  const { getGroup, abortGroup } = useGroupActions()\r\n  const [attempting, setAttempting] = useState(false)\r\n\r\n  const group = getGroup(parseInt(id!))\r\n  const started = group?.data.runTimeout > 0\r\n  const status = group?.data.complete ? 'complete' : group?.data.aborted ? 'aborted' : started ? 'started' : 'created'\r\n\r\n  const timeOuted = new Date().getTime() > group?.data.runTimeout\r\n\r\n  const confirm = async () => {\r\n    setAttempting(true)\r\n    await abortGroup(group?.id!)\r\n    setAttempting(false)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <MainHeading backPath={'/'} title={'Abort fund'} />\r\n      <DefaultLayout\r\n        isChildPage\r\n        css={css`\r\n          max-width: 800px;\r\n          width: 100%;\r\n        `}\r\n      >\r\n        {group ? (\r\n          <>\r\n            {status === 'started' ? (\r\n              timeOuted ? (\r\n                <ErrorCard>Fund has started. End fund before aborting.</ErrorCard>\r\n              ) : (\r\n                <>\r\n                  <h1>Are you sure?</h1>\r\n                  <TYPE.body margin=\"1rem 0\">There is no going back.</TYPE.body>\r\n                  <ButtonError disabled={attempting} onClick={confirm} width=\"120px\">\r\n                    {attempting ? 'Aborting...' : 'Abort fund'}\r\n                  </ButtonError>\r\n                </>\r\n              )\r\n            ) : null}\r\n            {status === 'complete' ? <ErrorCard>Fund has ended.</ErrorCard> : null}\r\n            {status === 'aborted' ? <ErrorCard>Fund already aborted.</ErrorCard> : null}\r\n            {status === 'created' ? (\r\n              <>\r\n                <h1>Are you sure?</h1>\r\n                <TYPE.body margin=\"1rem 0\">There is no going back.</TYPE.body>\r\n                <ButtonError disabled={attempting} onClick={confirm} width=\"120px\">\r\n                  {attempting ? 'Aborting...' : 'Abort fund'}\r\n                </ButtonError>\r\n              </>\r\n            ) : null}\r\n          </>\r\n        ) : (\r\n          <PageSpinner />\r\n        )}\r\n      </DefaultLayout>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default withRouter(GroupAbort)\r\n","import React, { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { useTranslation } from 'react-i18next'\r\nimport DefaultLayout from 'src/layouts/default'\r\nimport web3 from 'web3'\r\nimport { MainHeading } from 'src/components/NavigationTabs'\r\nimport { FlexBox } from 'src/components/FlexBox'\r\nimport { useGroupActions } from 'src/context/GroupContext'\r\nimport SliderPanel from 'src/components/SliderPanel'\r\nimport { RouteComponentProps, withRouter } from 'react-router-dom'\r\nimport { css } from '@emotion/core'\r\nimport { ButtonError } from 'src/components/Button'\r\nimport { PageSpinner } from 'src/components/PageSpinner'\r\nimport { TYPE } from 'src/theme'\r\n\r\nconst StyledFlexBox = styled(FlexBox)`\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    flex-flow: column;\r\n  `};\r\n`\r\n\r\nconst BalanceWrapper = styled.div`\r\n  background: ${({ theme }) => theme.bg1};\r\n  border-radius: 0.25rem;\r\n  padding: 0.25rem 0.5rem;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    margin-top: 0.5rem;\r\n  `};\r\n`\r\n\r\nconst GroupAddFunds = ({\r\n  history,\r\n  match: {\r\n    params: { id }\r\n  }\r\n}: RouteComponentProps<{ id?: string }>) => {\r\n  const { getGroup, addFunds } = useGroupActions()\r\n  const [amount, setAmount] = useState(0)\r\n  const [attempting, setAttempting] = useState(false)\r\n  const { t } = useTranslation()\r\n\r\n  const group = getGroup(parseInt(id!))\r\n  // const minValue = group?.params.maxEthContribution || 1\r\n  // const maxValue = group?.params.maxEthAcceptable! - group?.totalContributions! || 1\r\n  const actualMaxAllowed = group?.data\r\n    ? parseFloat(web3.utils.fromWei(group?.data.maxEthAcceptable ?? '0')) -\r\n      parseFloat(web3.utils.fromWei(group?.data.totalContributions ?? '0'))\r\n    : 1\r\n  const realMax = parseFloat(web3.utils.fromWei(group?.data.maxEthContribution ?? '0'))\r\n  const minValue = 0\r\n  const maxValue = actualMaxAllowed < realMax ? actualMaxAllowed : realMax\r\n\r\n  return (\r\n    <>\r\n      <MainHeading\r\n        backPath={'/'}\r\n        title={t('Add funds')}\r\n        helperText=\"If you have any trouble with this form, please contact us on Telegram.\"\r\n      />\r\n      <DefaultLayout\r\n        isChildPage\r\n        css={css`\r\n          max-width: 800px;\r\n          width: 100%;\r\n        `}\r\n      >\r\n        <FlexBox flex=\"column\" justify=\"flex-end\">\r\n          {group ? (\r\n            <>\r\n              <StyledFlexBox align=\"baseline\" justify=\"space-between\">\r\n                <h1>\r\n                  {group.params.description.length > 15\r\n                    ? `${group.params.description.substr(0, 15)}...`\r\n                    : group.params.description}\r\n                </h1>\r\n                <BalanceWrapper>\r\n                  <TYPE.body>Current balance: {group?.totalContributions} ETH</TYPE.body>\r\n                </BalanceWrapper>\r\n              </StyledFlexBox>\r\n              <FlexBox padding=\"1rem 0\">\r\n                <SliderPanel\r\n                  label={t('Amount')}\r\n                  helpText=\"Enter the amount of ETH you want to add to the fund.\"\r\n                  subLabel={`(${maxValue} ETH maximum)`}\r\n                  unit=\"ETH\"\r\n                  value={amount}\r\n                  min={minValue}\r\n                  max={maxValue}\r\n                  step={1}\r\n                  onChange={(value: number) => {\r\n                    setAmount(value)\r\n                  }}\r\n                  onChangeInput={(event: any) => {\r\n                    setAmount(parseFloat(event.target.value))\r\n                  }}\r\n                  id=\"field-addFunds\"\r\n                />\r\n              </FlexBox>\r\n              <FlexBox justify=\"flex-end\">\r\n                <ButtonError\r\n                  disabled={attempting}\r\n                  onClick={async () => {\r\n                    setAttempting(true)\r\n                    await addFunds(group?.id!, amount)\r\n                    setAttempting(false)\r\n                  }}\r\n                  width=\"120px\"\r\n                >\r\n                  {attempting ? 'Adding...' : 'Add Funds'}\r\n                </ButtonError>\r\n              </FlexBox>\r\n            </>\r\n          ) : (\r\n            <PageSpinner />\r\n          )}\r\n        </FlexBox>\r\n      </DefaultLayout>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default withRouter(GroupAddFunds)\r\n","import React, { useState } from 'react'\r\nimport DefaultLayout from 'src/layouts/default'\r\nimport { MainHeading } from 'src/components/NavigationTabs'\r\nimport { RouteComponentProps, withRouter } from 'react-router-dom'\r\nimport { useGroupActions } from 'src/context/GroupContext'\r\nimport { css } from '@emotion/core'\r\nimport { ButtonError } from 'src/components/Button'\r\nimport { PageSpinner } from 'src/components/PageSpinner'\r\nimport { ErrorCard } from 'src/components/Card'\r\nimport { TYPE } from 'src/theme'\r\n\r\nconst GroupFinish = ({\r\n  history,\r\n  match: {\r\n    params: { id }\r\n  }\r\n}: RouteComponentProps<{ id?: string }>) => {\r\n  const { getGroup, finishGroup } = useGroupActions()\r\n  const [attempting, setAttempting] = useState(false)\r\n\r\n  const group = getGroup(parseInt(id!))\r\n  const started = group?.data.runTimeout > 0\r\n  const status = group?.data.complete ? 'complete' : group?.data.aborted ? 'aborted' : started ? 'started' : 'created'\r\n\r\n  const confirm = async () => {\r\n    setAttempting(true)\r\n    await finishGroup(group?.id!)\r\n    setAttempting(false)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <MainHeading backPath={'/'} title={'End fund'} />\r\n      <DefaultLayout\r\n        isChildPage\r\n        css={css`\r\n          max-width: 800px;\r\n          width: 100%;\r\n        `}\r\n      >\r\n        {group ? (\r\n          <>\r\n            {status === 'complete' || status === 'aborted' ? <ErrorCard>Fund has already ended.</ErrorCard> : null}\r\n            {status === 'started' ? (\r\n              <>\r\n                <h1>Are you sure?</h1>\r\n                <TYPE.body margin=\"1rem 0\">There is no going back.</TYPE.body>\r\n                <ButtonError disabled={attempting} onClick={confirm} width=\"100px\">\r\n                  {attempting ? 'Ending...' : 'Confirm'}\r\n                </ButtonError>\r\n              </>\r\n            ) : (\r\n              <ErrorCard>Fund has not started yet.</ErrorCard>\r\n            )}\r\n          </>\r\n        ) : (\r\n          <PageSpinner />\r\n        )}\r\n      </DefaultLayout>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default withRouter(GroupFinish)\r\n","import React, { useState } from 'react'\r\nimport DefaultLayout from 'src/layouts/default'\r\nimport { MainHeading } from 'src/components/NavigationTabs'\r\nimport { RouteComponentProps, withRouter } from 'react-router-dom'\r\nimport { useGroupActions } from 'src/context/GroupContext'\r\nimport { css } from '@emotion/core'\r\nimport { ButtonError } from 'src/components/Button'\r\nimport { PageSpinner } from 'src/components/PageSpinner'\r\nimport { ErrorCard } from 'src/components/Card'\r\nimport { TYPE } from 'src/theme'\r\n\r\nconst GroupWithdraw = ({\r\n  history,\r\n  match: {\r\n    params: { id }\r\n  }\r\n}: RouteComponentProps<{ id?: string }>) => {\r\n  const { getGroup, withdraw } = useGroupActions()\r\n  const [attempting, setAttempting] = useState(false)\r\n\r\n  const group = getGroup(parseInt(id!))\r\n  const started = group?.data.runTimeout > 0\r\n  const status = group?.withdrawn\r\n    ? 'withdrawn'\r\n    : group?.data.complete\r\n    ? 'complete'\r\n    : group?.data.aborted\r\n    ? 'aborted'\r\n    : started\r\n    ? 'started'\r\n    : 'created'\r\n\r\n  const confirm = async () => {\r\n    setAttempting(true)\r\n    await withdraw(group?.id!)\r\n    setAttempting(false)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <MainHeading backPath={'/'} title={'Withdraw funds'} />\r\n      <DefaultLayout\r\n        isChildPage\r\n        css={css`\r\n          max-width: 800px;\r\n          width: 100%;\r\n        `}\r\n      >\r\n        {group ? (\r\n          <>\r\n            {status === 'withdrawn' ? <ErrorCard>Funds have been withdrawn.</ErrorCard> : null}\r\n            {status === 'created' ? (\r\n              <ErrorCard>Fund must be ended or aborted before funds can be withdrawn.</ErrorCard>\r\n            ) : null}\r\n            {status === 'started' ? (\r\n              <ErrorCard>Fund must be ended or aborted before funds can be withdrawn.</ErrorCard>\r\n            ) : null}\r\n            {status === 'complete' || status === 'aborted' ? (\r\n              <>\r\n                <h1>Are you sure?</h1>\r\n                <TYPE.body margin=\"1rem 0\">There is no going back.</TYPE.body>\r\n                <ButtonError disabled={attempting} onClick={confirm}>\r\n                  {attempting ? 'Withdrawing...' : 'Withdraw funds'}\r\n                </ButtonError>\r\n              </>\r\n            ) : null}\r\n          </>\r\n        ) : (\r\n          <PageSpinner />\r\n        )}\r\n      </DefaultLayout>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default withRouter(GroupWithdraw)\r\n","import React from 'react'\r\nimport numeral from 'numeral'\r\nimport DefaultLayout from 'src/layouts/default'\r\nimport { MainHeading } from 'src/components/NavigationTabs'\r\nimport { useGroupActions } from 'src/context/GroupContext'\r\n// import web3 from 'web3'\r\nimport { RouteComponentProps, withRouter } from 'react-router-dom'\r\nimport Row from 'src/components/Row'\r\nimport { css } from '@emotion/core'\r\n// import { GroupProperties } from 'src/components/GroupsPanel'\r\n// import { useActiveWeb3React } from 'src/hooks'\r\nimport styled from 'styled-components'\r\nimport { useTranslation } from 'react-i18next'\r\n// import { Input } from 'src/components/Input'\r\n// import { Button } from 'src/theme/components'\r\n// import { Textarea } from 'src/components/Textarea'\r\n// import EditIcon from '../../assets/svg/edit-icon.svg'\r\n// import VerifiedBadge from '../../assets/svg/verified-badge.png'\r\n\r\nimport { TYPE } from '../../theme'\r\n// import { ButtonPrimary } from '../../components/Button'\r\n// import { ChevronRight } from 'react-feather'\r\nimport { DataPoint } from 'src/components/DataPoint'\r\nimport { StatusBadge } from 'src/components/StatusBadge'\r\n// import { PercentReturn } from 'src/components/PercentReturn'\r\nimport { FundsInvested } from 'src/components/FundsInvested'\r\nimport { TokensTable } from 'src/components/TokensTable'\r\nimport { Spinner } from '../../theme/components'\r\nimport Circle from '../../assets/images/blue-loader.svg'\r\n\r\nexport const RowAlignRight = styled(Row)`\r\n  justify-content: flex-end;\r\n`\r\n\r\nconst StyledFundCardHeadingWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    flex-flow: column;\r\n    align-items: start;\r\n  `};\r\n`\r\n\r\nconst StyledTitleInfoWrapper = styled.div`\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    padding-bottom: 1rem;\r\n  `};\r\n`\r\n\r\nconst StyledFlexCenterWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`\r\n\r\nconst StyledH1 = styled.h1`\r\n  margin-right: 0.5rem;\r\n`\r\n\r\nconst StyledH2 = styled.h2`\r\n  padding-top: 1.5rem;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    padding-top: 1rem;\r\n  `};\r\n`\r\n\r\nconst StyledDataPointsWrapper = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n  padding-top: 1.5rem;\r\n`\r\n\r\nconst StyledSpinnerWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  padding: 2rem 0;\r\n`\r\n\r\n// import { RouteComponentProps } from 'react-router-dom';\r\n\r\ninterface DetailsLocationState {\r\n  isMyFind?: any\r\n}\r\n\r\n// function FliplTimeline(\r\n//   props: RouteComponentProps<{}, any, FliplTimelineLocationState | any>\r\n// )\r\n\r\nconst GroupDetails = ({\r\n  history,\r\n  match: {\r\n    params: { id }\r\n  }\r\n}: RouteComponentProps<{ id?: string }, any, DetailsLocationState | any>) => {\r\n  const { t } = useTranslation()\r\n  const { getGroup } = useGroupActions()\r\n  // const { account } = useActiveWeb3React()\r\n\r\n  const group = getGroup(parseInt(id!))\r\n\r\n  const isMyFund = history.location.state?.isMyFund\r\n  // const isLeader = account?.toLowerCase() === group?.data.leader.toLowerCase()\r\n  // const minValue = group?.data ? web3.utils.fromWei(group?.data.maxEthContribution) : 1\r\n  // const maxValue = (group?.data\r\n  //   ? parseFloat(web3.utils.fromWei(group?.data.maxEthAcceptable)) -\r\n  //     parseFloat(web3.utils.fromWei(group?.data.totalContributions))\r\n  //   : 1\r\n  // ).toFixed(2)\r\n\r\n  // const groupFull = minValue > maxValue\r\n  // const groupName = group?.additionalInfo?.name ? group.additionalInfo?.name : 'Group ' + parseInt(id!)\r\n  // const groupDescription = group?.additionalInfo?.description ? group.additionalInfo?.description : ''\r\n\r\n  // const [isEditingName, setEditingName] = useState(false)\r\n  // const [tempGroupName, setTempGroupName] = useState('')\r\n  // const [isEditingDescription, setEditingDescription] = useState(false)\r\n  // const [tempGroupDescription, setTempGroupDescription] = useState('')\r\n\r\n  // const theme = useContext(ThemeContext)\r\n  const started = group?.data.runTimeout > 0\r\n  const status = group?.data.complete ? 'completed' : group?.data.aborted ? 'canceled' : started ? 'active' : 'open'\r\n  const progressPercentage = (group?.data.totalContributions / group?.data.maxEthAcceptable) * 100\r\n  const contributions = group?.data.totalContributions / Math.pow(10, 18)\r\n\r\n  console.log('group', group)\r\n\r\n  return (\r\n    <>\r\n      <MainHeading\r\n        backPath={isMyFund ? '/' : status === 'open' ? '/open' : '/closed'}\r\n        title={t('Fund details')}\r\n        showShare\r\n      />\r\n      <DefaultLayout\r\n        isChildPage\r\n        css={css`\r\n          max-width: 800px;\r\n          width: 100%;\r\n        `}\r\n      >\r\n        {group ? (\r\n          <>\r\n            {/* {isLeader && false ? (\r\n                <h2>\r\n                  {isEditingName ? (\r\n                    <>\r\n                      <Input\r\n                        className=\"name-input\"\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoCorrect=\"off\"\r\n                        autoCapitalize=\"off\"\r\n                        spellCheck=\"false\"\r\n                        placeholder=\"Eg. No pain no gain\"\r\n                        onChange={event => {\r\n                          const name = event.target.value\r\n                          setTempGroupName(name)\r\n                        }}\r\n                        value={tempGroupName || groupName}\r\n                        autoFocus\r\n                        css={css`\r\n                          display: inline-block;\r\n                          width: 60%;\r\n                        `}\r\n                      />\r\n                      <Button\r\n                        onClick={async () => {\r\n                          await updateGroupInfo({\r\n                            groupId: group!.id!,\r\n                            name: tempGroupName || groupName,\r\n                            description: tempGroupDescription || groupDescription\r\n                          })\r\n                          setEditingName(false)\r\n                        }}\r\n                        css={css`\r\n                          display: inline-block;\r\n                          width: 40%;\r\n                        `}\r\n                      >\r\n                        Save\r\n                      </Button>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <span>\r\n                        {tempGroupName || groupName}{' '}\r\n                        {group?.verified ? <img src={VerifiedBadge} alt=\"verified\" style={{ width: '20px' }} /> : null}\r\n                      </span>\r\n                      <div\r\n                        css={css`\r\n                          padding: 5px 0 0 15px;\r\n                          display: inline-block;\r\n                          vertical-align: middle;\r\n                          filter: invert(1);\r\n                          cursor: pointer;\r\n                        `}\r\n                        onClick={() => {\r\n                          setEditingName(true)\r\n                        }}\r\n                      >\r\n                        <img src={EditIcon} alt=\"edit\" style={{ width: '18px' }} />\r\n                      </div>\r\n                    </>\r\n                  )}\r\n                </h2>\r\n              ) : (\r\n                <h2>\r\n                  {groupName}{' '}\r\n                  {group?.verified ? <img src={VerifiedBadge} alt=\"verified\" style={{ width: '20px' }} /> : null}\r\n                </h2>\r\n              )}\r\n\r\n              {isLeader && false ? (\r\n                <h2>\r\n                  {isEditingDescription ? (\r\n                    <>\r\n                      <Textarea\r\n                        className=\"name-input\"\r\n                        autoComplete=\"off\"\r\n                        autoCorrect=\"off\"\r\n                        autoCapitalize=\"off\"\r\n                        spellCheck=\"false\"\r\n                        placeholder=\"Eg. Follow my twitter: @nopumpnolife\"\r\n                        onChange={event => {\r\n                          const description = event.target.value\r\n                          setTempGroupDescription(description)\r\n                        }}\r\n                        value={tempGroupDescription || groupDescription}\r\n                        autoFocus\r\n                        css={css``}\r\n                      />\r\n                      <Button\r\n                        onClick={async () => {\r\n                          await updateGroupInfo({\r\n                            groupId: group!.id!,\r\n                            name: tempGroupName || groupName,\r\n                            description: tempGroupDescription || groupDescription\r\n                          })\r\n                          setEditingDescription(false)\r\n                        }}\r\n                        css={css`\r\n                          margin-top: 10px;\r\n                        `}\r\n                      >\r\n                        Save\r\n                      </Button>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <Panel\r\n                        onClick={() => {\r\n                          setEditingDescription(true)\r\n                        }}\r\n                      >\r\n                        <div\r\n                          css={css`\r\n                            padding: 10px;\r\n                            font-size: 16px;\r\n                            cursor: pointer;\r\n                          `}\r\n                        >\r\n                          {tempGroupDescription || groupDescription || <em>Click here to set a description</em>}\r\n                        </div>\r\n                      </Panel>\r\n                    </>\r\n                  )}\r\n                </h2>\r\n              ) : (\r\n                <div>{groupDescription}</div>\r\n              )}\r\n\r\n              <h3\r\n                css={css`\r\n                  margin-bottom: 5px;\r\n                `}\r\n              >\r\n                Contract info\r\n              </h3>\r\n              <GroupProperties group={group} account={account!} />\r\n\r\n              <h3\r\n                css={css`\r\n                  margin-bottom: 5px;\r\n                `}\r\n              >\r\n                Is the group open?\r\n              </h3>\r\n              {groupFull ? <div>Group is full.</div> : <div>Group is open.</div>} */}\r\n            <StyledFundCardHeadingWrapper>\r\n              <StyledTitleInfoWrapper>\r\n                {group.id !== undefined ? (\r\n                  <StyledFlexCenterWrapper>\r\n                    <StyledH1>\r\n                      {group.params.description.length > 15\r\n                        ? `${group.params.description.substr(0, 15)}...`\r\n                        : group.params.description}\r\n                    </StyledH1>\r\n                    <StatusBadge status={status}>{status}</StatusBadge>\r\n                  </StyledFlexCenterWrapper>\r\n                ) : null}\r\n                <TYPE.body fontSize=\"14px\" marginTop=\"4px\">\r\n                  Managed by{' '}\r\n                  <a href={`https://etherscan.io/address/${group.data.leader}`} target=\"_blank\" rel=\"noreferrer\">\r\n                    {group.data.leader.substr(0, 15)}...\r\n                  </a>\r\n                </TYPE.body>\r\n              </StyledTitleInfoWrapper>\r\n              {/* <ButtonPrimary width=\"190px\">Action Buttons Here</ButtonPrimary> */}\r\n            </StyledFundCardHeadingWrapper>\r\n            {status === 'open' || status === 'canceled' ? (\r\n              <>\r\n                <StyledDataPointsWrapper>\r\n                  {/* Number of investors needs to be passed here */}\r\n                  {/* <DataPoint label=\"Investors\" value={'0'} size=\"large\" /> */}\r\n                  {/* Manager's stake needs to be passed here */}\r\n                  {/* <DataPoint\r\n                    label=\"Manager's stake\"\r\n                    value={'0'}\r\n                    helpText=\"The amount the manager of the fund has invested.\"\r\n                    unit=\"ETH\"\r\n                    size=\"large\"\r\n                  /> */}\r\n                  <DataPoint\r\n                    label=\"Joining fee\"\r\n                    value={`${numeral(group.params.requiredMemberiFundFee).format('0,0')}`}\r\n                    unit=\"iFUND\"\r\n                    size=\"large\"\r\n                  />\r\n                  <DataPoint\r\n                    label=\"Collateral\"\r\n                    value={`${numeral(group.params.leaderiFundCollateral).format('0,0')}`}\r\n                    helpText=\"If the fund makes a loss the collateral is used to compensate the investors in the fund relative to their investment size.\"\r\n                    unit=\"iFUND\"\r\n                    size=\"large\"\r\n                  />\r\n                </StyledDataPointsWrapper>\r\n                <FundsInvested contributions={contributions} progressPercentage={progressPercentage} size=\"large\" />\r\n              </>\r\n            ) : (\r\n              <StyledDataPointsWrapper>\r\n                {/* Number of investors needs to be passed here */}\r\n                {/* <DataPoint label=\"Balance\" value={'10'} unit=\"ETH\" size=\"large\" /> */}\r\n                {/* Manager's stake needs to be passed here */}\r\n                <DataPoint label=\"Starting balance\" value={group.totalContributions} unit=\"ETH\" size=\"large\" />\r\n                {/* <DataPoint label=\"Return\" value={<PercentReturn value={-32} size=\"large\" />} size=\"large\" /> */}\r\n                {/* <DataPoint label=\"Max time left\" value={'70'} unit=\"days\" size=\"large\" /> */}\r\n              </StyledDataPointsWrapper>\r\n            )}\r\n            {group.tokens && group.tokens.length > 0 && (\r\n              <>\r\n                <StyledH2>Tokens held</StyledH2>\r\n                <TokensTable tokens={group.tokens} />\r\n              </>\r\n            )}\r\n            <StyledH2>Details</StyledH2>\r\n            <TYPE.body fontSize=\"16px\" marginTop=\"0.5rem\">\r\n              {group.params.description}\r\n            </TYPE.body>\r\n            <StyledDataPointsWrapper>\r\n              <DataPoint\r\n                label=\"Manager fee\"\r\n                helpText=\"This fee is deducted from the return the fund makes (if it makes one) and paid to the manager of the fund.\"\r\n                value={`${group.params.leaderProfitShareOutOf10000 / 100}%`}\r\n                size=\"small\"\r\n              />\r\n              <DataPoint\r\n                label=\"Starting size\"\r\n                helpText=\"The fund can be started by the manager when the ETH invested is between these values.\"\r\n                value={`${group.params.minEthToStart} â€“ ${group.params.maxEthAcceptable} ETH`}\r\n                size=\"small\"\r\n              />\r\n              {/* <DataPoint\r\n                label=\"Max investment\"\r\n                value={`${group.params.maxEthContribution} ETH`}\r\n                helpText=\"The maximum investment size per investor.\"\r\n                size=\"small\"\r\n              /> */}\r\n              <DataPoint\r\n                label=\"Max trade time\"\r\n                value={`${group.params.maxRunTimeHours / 24} days`}\r\n                helpText=\"The maximum time the fund can make trades. The manager can close the fund before this time.\"\r\n                size=\"small\"\r\n              />\r\n            </StyledDataPointsWrapper>\r\n          </>\r\n        ) : (\r\n          <StyledSpinnerWrapper>\r\n            <Spinner src={Circle} />\r\n          </StyledSpinnerWrapper>\r\n        )}\r\n      </DefaultLayout>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default withRouter(GroupDetails)\r\n","import React, { useContext } from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport styled, { ThemeContext } from \"styled-components\"\r\nimport { AutoColumn, ColumnCenter } from \"src/components/Column\"\r\nimport { RowBetween } from \"src/components/Row\"\r\nimport { CloseIcon } from 'src/theme/components'\r\nimport { Text } from 'rebass'\r\nimport { AlertTriangle, ArrowUpCircle } from \"react-feather\"\r\nimport { ButtonPrimary } from 'src/components/Button'\r\nimport Modal from \"../Modal\"\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;`\r\n\r\nconst Section = styled(AutoColumn)`\r\n  padding: 24px;\r\n`\r\nconst BottomSection = styled(Section)`\r\n  background-color: ${({ theme }) => theme.bg2};\r\n  border-bottom-left-radius: 20px;\r\n  border-bottom-right-radius: 20px;\r\n`\r\nconst ConfirmedIcon = styled(ColumnCenter)`\r\n  padding: 60px 0;\r\n`\r\nfunction ErrorModalContent({ message, onDismiss }: { message: string; onDismiss: () => void }) {\r\n    const { t } = useTranslation()\r\n    const theme = useContext(ThemeContext)\r\n    return (\r\n      <Wrapper>\r\n        <Section>\r\n          <RowBetween>\r\n            <Text fontWeight={500} fontSize={20}>\r\n              {t('Error')}\r\n            </Text>\r\n            <CloseIcon onClick={onDismiss} />\r\n          </RowBetween>\r\n          <AutoColumn style={{ marginTop: 20, padding: '2rem 0' }} gap=\"24px\" justify=\"center\">\r\n            <AlertTriangle color={theme.red1} style={{ strokeWidth: 1.5 }} size={64} />\r\n            <Text fontWeight={500} fontSize={16} color={theme.red1} style={{ textAlign: 'center', width: '85%' }}>\r\n              {message}\r\n            </Text>\r\n          </AutoColumn>\r\n        </Section>\r\n        <BottomSection gap=\"12px\">\r\n          <ButtonPrimary onClick={onDismiss}>{t('Dismiss')}</ButtonPrimary>\r\n        </BottomSection>\r\n      </Wrapper>\r\n    )\r\n  }\r\n\r\n  function SuccessModalContent({message, onDismiss}: { message: string; onDismiss: () => void }) {\r\n    const { t } = useTranslation()\r\n    const theme = useContext(ThemeContext)\r\n  \r\n    return (\r\n      <Wrapper>\r\n        <Section>\r\n          <RowBetween>\r\n            <div />\r\n            <CloseIcon onClick={onDismiss} />\r\n          </RowBetween>\r\n          <ConfirmedIcon>\r\n            <ArrowUpCircle strokeWidth={0.5} size={90} color={theme.primary1} />\r\n          </ConfirmedIcon>\r\n          <AutoColumn gap=\"12px\" justify={'center'}>\r\n            <Text fontWeight={500} fontSize={16}>\r\n              {message}\r\n            </Text>            \r\n            <ButtonPrimary onClick={onDismiss} style={{ margin: '20px 0 0 0' }}>\r\n              <Text fontWeight={500} fontSize={20}>\r\n                {t('Close')}\r\n              </Text>\r\n            </ButtonPrimary>\r\n          </AutoColumn>\r\n        </Section>\r\n      </Wrapper>\r\n    )\r\n  }\r\n\r\nexport default function InfoModal({\r\n  isOpen,\r\n  isError,\r\n  message, \r\n  onDismiss} : { \r\n    isOpen: boolean\r\n    isError: boolean\r\n    message: string\r\n    onDismiss: () => void }) {\r\n      return (\r\n        <Modal isOpen={isOpen} maxHeight={90} onDismiss={onDismiss}>\r\n          {isError \r\n          ? <ErrorModalContent message={message} onDismiss={onDismiss} /> \r\n          : <SuccessModalContent message={message} onDismiss={onDismiss} />}        \r\n        </Modal>)  \r\n}\r\n  \r\n\r\n\r\n\r\n\r\n  \r\n","import React, { useState } from 'react'\r\nimport DefaultLayout from 'src/layouts/default'\r\nimport { MainHeading } from 'src/components/NavigationTabs'\r\nimport { AutoColumn } from 'src/components/Column'\r\nimport { useGroupActions } from 'src/context/GroupContext'\r\nimport AddressInputPanel from 'src/components/AddressInputPanel'\r\nimport { RouteComponentProps, withRouter } from 'react-router-dom'\r\nimport { RowBetween, AutoRow } from 'src/components/Row'\r\nimport { css } from '@emotion/core'\r\nimport { ButtonError } from 'src/components/Button'\r\nimport { isAddress, shortenAddress } from 'src/utils'\r\nimport Loader from 'src/components/Loader'\r\nimport InfoModal from 'src/components/InfoModal'\r\nimport styled from 'styled-components'\r\n\r\nconst Description = styled.div`\r\n  padding 1em 0;\r\n  line-height: 1.25em;\r\n  text-align: left;\r\n`\r\nconst GroupAddManager = ({\r\n  history,\r\n  match: {\r\n    params: { id }\r\n  }\r\n}: RouteComponentProps<{ id?: string }>) => {\r\n  const { getGroup, isGroupManager, addGroupManager } = useGroupActions()\r\n  const [manager, setManager] = useState('')\r\n  const [attempting, setAttempting] = useState(false)\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const [isError, setIsError] = useState(false)\r\n  const [statusMessage, setStatusMessage] = useState('')\r\n  const group = getGroup(parseInt(id!))\r\n\r\n  const onAddManager = async () => {\r\n    setAttempting(true)\r\n    try {\r\n      const result = await isGroupManager(group!.id!, manager)\r\n      if (result) {\r\n        setStatusMessage(`Address ${shortenAddress(manager)} is already registered as a manager for this group`)\r\n      }\r\n      else {\r\n        await addGroupManager(group?.id!, manager)\r\n        setStatusMessage(\"Manager added\")\r\n      }\r\n      setIsError(false)\r\n    }\r\n    catch (e) {\r\n      setStatusMessage(e.message ?? e.reason ?? \"Error occurred\")\r\n      setIsError(true)\r\n    }\r\n    setIsOpen(true)\r\n    setAttempting(false)\r\n  }\r\n\r\n  return (\r\n    <DefaultLayout>\r\n      <InfoModal isOpen={isOpen} onDismiss={() => setIsOpen(false)} isError={isError} message={statusMessage} />\r\n      <MainHeading backPath=\"/\" title=\"Add Manager\" />\r\n      \r\n      <AutoColumn\r\n        gap=\"md\"\r\n        css={css`\r\n          text-align: center;\r\n        `}\r\n      >\r\n        {group ? (\r\n          <>\r\n            <Description>A manager is authorized to trade on behalf of the group leader</Description>\r\n            <AddressInputPanel\r\n              label=\"Address\"\r\n              placeholder=\"\"\r\n              showEtherscanLink={false}\r\n              value={manager}\r\n              onChange={setManager}\r\n              id=\"field-addManager\"\r\n            />\r\n\r\n            <RowBetween>\r\n              <div\r\n                css={css`\r\n                  width: 100%;\r\n                  padding: 5px;\r\n                  margin: 0 -5px 0 0;\r\n                `}\r\n              >\r\n                <ButtonError disabled={attempting || !isAddress(manager)} onClick={() => onAddManager()}>\r\n                  {\r\n                    attempting\r\n                      ? (\r\n                        <AutoRow gap=\"0.5em\" justify=\"center\">\r\n                          Adding...\r\n                          <Loader stroke=\"white\" />\r\n                        </AutoRow>\r\n                      )\r\n                      : \"Add Manager\"\r\n                  }\r\n                </ButtonError>\r\n              </div>\r\n            </RowBetween>\r\n          </>\r\n        ) : (\r\n            <div\r\n              css={css`\r\n              padding: 10px;\r\n            `}\r\n            >\r\n              Group is not found\r\n            </div>\r\n          )}\r\n      </AutoColumn>\r\n    </DefaultLayout>\r\n  )\r\n}\r\n\r\nexport default withRouter(GroupAddManager)\r\n","import React, { useState } from 'react'\r\nimport DefaultLayout from 'src/layouts/default'\r\nimport { MainHeading } from 'src/components/NavigationTabs'\r\nimport { AutoColumn } from 'src/components/Column'\r\nimport { useGroupActions } from 'src/context/GroupContext'\r\nimport AddressInputPanel from 'src/components/AddressInputPanel'\r\nimport { RouteComponentProps, withRouter } from 'react-router-dom'\r\nimport { RowBetween, AutoRow } from 'src/components/Row'\r\nimport { css } from '@emotion/core'\r\nimport { ButtonError } from 'src/components/Button'\r\nimport { isAddress, shortenAddress } from 'src/utils'\r\nimport Loader from 'src/components/Loader'\r\nimport InfoModal from 'src/components/InfoModal'\r\n\r\nconst GroupRemoveManager = ({\r\n  history,\r\n  match: {\r\n    params: { id }\r\n  }\r\n}: RouteComponentProps<{ id?: string }>) => {\r\n  const { getGroup, isGroupManager, removeGroupManager } = useGroupActions()\r\n  const [manager, setManager] = useState('')\r\n  const [attempting, setAttempting] = useState(false)\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const [isError, setIsError] = useState(false)\r\n  const [statusMessage, setStatusMessage] = useState('')\r\n  const group = getGroup(parseInt(id!))\r\n\r\n  const onRemoveManager = async () => {\r\n    setAttempting(true)\r\n    try {\r\n      const result = await isGroupManager(group!.id!, manager)\r\n      if (!result) {\r\n        setStatusMessage(`Address ${shortenAddress(manager)} is not a manager for this group`)\r\n      }\r\n      else {\r\n        await removeGroupManager(group?.id!, manager)\r\n        setStatusMessage(\"Manager removed\")\r\n      }\r\n      setIsError(false)\r\n    }\r\n    catch (e) {\r\n      setStatusMessage(e.message ?? e.reason ?? \"Error occurred\")\r\n      setIsError(true)\r\n    }\r\n    setIsOpen(true)\r\n    setAttempting(false)\r\n  }\r\n\r\n  return (\r\n    <DefaultLayout>\r\n      <InfoModal isOpen={isOpen} onDismiss={() => setIsOpen(false)} isError={isError} message={statusMessage} />\r\n      <MainHeading backPath=\"/\" title=\"Remove Manager\" />      \r\n      <AutoColumn\r\n        gap=\"md\"\r\n        css={css`\r\n          text-align: center;\r\n        `}\r\n      >\r\n        {group ? (\r\n          <>\r\n            <AddressInputPanel\r\n              label=\"Address\"\r\n              placeholder=\"\"\r\n              showEtherscanLink={false}\r\n              value={manager}\r\n              onChange={setManager}\r\n              id=\"field-addManager\"\r\n            />\r\n\r\n            <RowBetween>\r\n              <div\r\n                css={css`\r\n                  width: 100%;\r\n                  padding: 5px;\r\n                  margin: 0 -5px 0 0;\r\n                `}\r\n              >\r\n                <ButtonError disabled={attempting || !isAddress(manager)} onClick={() => onRemoveManager()}>\r\n                  {\r\n                    attempting\r\n                      ? (\r\n                        <AutoRow gap=\"0.5em\" justify=\"center\">\r\n                          Removing...\r\n                          <Loader stroke=\"white\" />\r\n                        </AutoRow>\r\n                      )\r\n                      : \"Remove Manager\"\r\n                  }\r\n                </ButtonError>\r\n              </div>\r\n            </RowBetween>\r\n          </>\r\n        ) : (\r\n            <div\r\n              css={css`\r\n              padding: 10px;\r\n            `}\r\n            >\r\n              Group is not found\r\n            </div>\r\n          )}\r\n      </AutoColumn>\r\n    </DefaultLayout>\r\n  )\r\n}\r\n\r\nexport default withRouter(GroupRemoveManager)\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport numeral from 'numeral'\r\nimport { parseEther } from 'ethers/lib/utils'\r\nimport { ThemeContext } from 'styled-components'\r\nimport { StyledTableRow, StyledTableCell } from 'src/components/TokensTable'\r\nimport { useActiveWeb3React, useOldWeb3 } from 'src/hooks'\r\nimport * as StakingService from 'src/services/stakingService'\r\nimport * as TokenService from 'src/services/tokenService'\r\nimport InfoModal from 'src/components/InfoModal'\r\nimport SliderPanel from 'src/components/SliderPanel'\r\nimport { TYPE } from 'src/theme'\r\nimport { ButtonError } from 'src/components/Button'\r\nimport { FlexBox } from 'src/components/FlexBox'\r\nimport { PageSpinner } from '../PageSpinner'\r\n\r\nenum Status {\r\n    None = 0,\r\n    Checking = 1,\r\n    Checked = 2,\r\n    Approving = 3,\r\n    Approved = 4,\r\n    Staking = 5,\r\n    Staked = 6,\r\n    Claiming = 7,\r\n    Claimed = 8,\r\n    Unstaking = 9,\r\n    Unstaked = 10\r\n}\r\n\r\nexport function PoolStake({\r\n    poolId,\r\n    symbol,\r\n    sliderStep\r\n}: {\r\n    poolId: number,\r\n    symbol: string,\r\n    sliderStep: number\r\n}) {\r\n    const [stakeAmount, setStakeAmount] = useState(0)\r\n    const [stakeAmountValid, setStakeAmountValid] = useState(false)\r\n    const [unstakeAmount, setUnstakeAmount] = useState(0)\r\n    const [unstakeAmountValid, setUnstakeAmountValid] = useState(false)\r\n    const [balance, setBalance] = useState(0)\r\n    const [status, setStatus] = useState(Status.None)\r\n    const [modalOpen, setModalOpen] = useState(false)\r\n    const [isError, setIsError] = useState(false)\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [statusMessage, setStatusMessage] = useState(\"\")\r\n    const [stakingState, setStakingState] = useState<any>(undefined)\r\n\r\n    const { account } = useActiveWeb3React()\r\n    const web3 = useOldWeb3()\r\n    const theme = useContext(ThemeContext)\r\n\r\n    const stake = async (amount: string) => await StakingService.stake(poolId, parseEther(amount), web3, account!)\r\n    const checkStakingAllowance = async (amount: string) => await StakingService.checkStakingAllowance(poolId, parseEther(amount), web3, account!)\r\n    const approveStaking = async (amount: string) => await StakingService.approveStake(poolId, parseEther(amount), web3, account!)\r\n    const claim = async () => await StakingService.claim(poolId, web3, account!)\r\n    const unstake = async (amount: string) => await StakingService.unstake(poolId, parseEther(amount), web3, account!)\r\n\r\n    const onDismiss = () => {\r\n        if(!isError) {\r\n            setStakeAmount(0)\r\n            setStakeAmountValid(false)\r\n            setUnstakeAmount(0)\r\n            setUnstakeAmountValid(false)\r\n        }\r\n        setIsError(false)\r\n        setStatusMessage(\"\")\r\n        setModalOpen(false)\r\n    }\r\n\r\n    const loadStateAndBalance = async () => {\r\n        if (web3 && account) {\r\n            setIsLoading(true)\r\n            const b = await TokenService.getBalanceByPoolId(poolId, web3, account!)\r\n            setBalance(b)\r\n            const s = await StakingService.getUserStakingState(poolId, web3, account!)\r\n            setStakingState(s)\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        loadStateAndBalance()\r\n    }, [account, status, poolId])\r\n\r\n    return (\r\n        <>\r\n            <InfoModal isOpen={modalOpen} onDismiss={onDismiss} isError={isError} message={statusMessage} />\r\n            { (!isLoading && balance && parseFloat(balance.toFixed(2)).toFixed(2) !== '0.00') ? (\r\n                <>\r\n                    {stakingState?.totalStaked > 0 ? (\r\n                        <FlexBox flex=\"column\">\r\n                            <FlexBox flex=\"column\" padding=\"0 0 2.5em 0\">\r\n                                <StyledTableRow>\r\n                                    <StyledTableCell width=\"50%\">\r\n                                        <TYPE.body fontSize=\"0.875em\">Staked</TYPE.body>\r\n                                    </StyledTableCell>\r\n                                    <StyledTableCell width=\"50%\">\r\n                                        <TYPE.body color={theme.text1} fontWeight={600}>{`${numeral(stakingState.totalStaked).format('0,0.00')} iFUND`}</TYPE.body>\r\n                                    </StyledTableCell>\r\n                                </StyledTableRow>\r\n                                <StyledTableRow>\r\n                                    <StyledTableCell width=\"50%\">\r\n                                        <TYPE.body fontSize=\"0.875em\">iFUND Rewards</TYPE.body>\r\n                                    </StyledTableCell>\r\n                                    <StyledTableCell width=\"50%\">\r\n                                        <TYPE.body color={theme.text1} fontWeight={600}>{`${numeral(stakingState.iFund).format('0,0.00')} iFUND`}</TYPE.body>\r\n                                    </StyledTableCell>\r\n                                </StyledTableRow>\r\n                                <StyledTableRow>\r\n                                    <StyledTableCell width=\"50%\">\r\n                                        <TYPE.body fontSize=\"0.875em\">iGOV Rewards</TYPE.body>\r\n                                    </StyledTableCell>\r\n                                    <StyledTableCell width=\"50%\">\r\n                                        <TYPE.body color={theme.text1} fontWeight={600}>{`${numeral(stakingState.iGov).format('0,0.00')} iGOV`}</TYPE.body>\r\n                                    </StyledTableCell>\r\n                                </StyledTableRow>\r\n                            </FlexBox>\r\n                            <SliderPanel\r\n                                label=\"Amount to unstake\"\r\n                                subLabel={`(${numeral(stakingState.totalStaked.toFixed(2)).format('0,0.00')} available)`}\r\n                                value={unstakeAmount}\r\n                                unit={symbol}\r\n                                min={0}\r\n                                max={parseFloat(stakingState.totalStaked)}\r\n                                step={sliderStep}\r\n                                onChange={(value: number) => {\r\n                                    setUnstakeAmount(value)\r\n                                    setUnstakeAmountValid(!Number.isNaN(value) && value > 0)\r\n                                }}\r\n                                onChangeInput={(event: any) => {\r\n                                    setUnstakeAmount(event.target.value)\r\n                                    setUnstakeAmountValid(!Number.isNaN(event.target.value) && event.target.value > 0)\r\n                                }}\r\n                                showMaxButton={true}\r\n                                onMax={() => {\r\n                                    setUnstakeAmount(stakingState.totalStaked)\r\n                                    setUnstakeAmountValid(stakingState.totalStaked > 0)\r\n                                }}\r\n                                id=\"field-stakingAmount\"\r\n                            />\r\n                            <>\r\n                                {stakingState && stakingState.penalty \r\n                                ? <TYPE.subHeader>{`Early unstaking is subject to ${stakingState.penaltyPercent} penalty on staked amount`}</TYPE.subHeader> \r\n                                : null}\r\n                            </>\r\n                            \r\n                            <FlexBox justify=\"flex-end\" padding=\"1.5rem 0\" width=\"100%\">\r\n                                <ButtonError disabled={!unstakeAmountValid || status === Status.Unstaking}\r\n                                    onClick={async () => {\r\n                                        setStatus(Status.Unstaking)\r\n                                        try {\r\n                                            await unstake(unstakeAmount.toString())\r\n                                            setStatus(Status.Unstaked)\r\n                                            setIsError(false)\r\n                                            setStatusMessage(`${unstakeAmount} ${symbol} unstaked`)\r\n                                        } catch (e) {\r\n\r\n                                            setStatus(Status.None)\r\n                                            setIsError(true)\r\n                                            setStatusMessage('Unstaking failed. Details: ' + e.message)\r\n                                        }\r\n                                        setModalOpen(true)\r\n                                    }}\r\n                                    width=\"150px\"\r\n                                >\r\n                                    {status === Status.Unstaking ? 'Unstaking...' : 'Unstake'}\r\n                                </ButtonError>\r\n                                <ButtonError disabled={stakingState.iFund === 0 || status === Status.Unstaking}\r\n                                    onClick={async () => {\r\n                                        setStatus(Status.Claiming)\r\n                                        try {\r\n                                            await claim()\r\n                                            setStatus(Status.Claimed)\r\n                                            setIsError(false)\r\n                                            setStatusMessage(`${stakingState.iFund} iFUND and ${stakingState.iGov} iGOV claimed`)\r\n                                        } catch (e) {\r\n                                            setStatus(Status.None)\r\n                                            setIsError(true)\r\n                                            setStatusMessage('Claiming rewards failed. Details: ' + e.message)\r\n                                        }\r\n                                        setModalOpen(true)\r\n                                    }}\r\n                                    margin=\"0 0 0 0.75rem\"\r\n                                    width=\"150px\"\r\n                                >\r\n                                    {status === Status.Claiming ? 'Claiming...' : 'Claim reward'}\r\n                                </ButtonError>\r\n                            </FlexBox>\r\n                        </FlexBox>\r\n                    ) : null}\r\n\r\n                    <SliderPanel\r\n                        label=\"Amount to stake\"\r\n                        subLabel={`(${numeral(parseFloat(balance.toFixed(2)).toFixed(2)).format('0,0.00')} available)`}\r\n                        value={stakeAmount}\r\n                        unit={symbol}\r\n                        min={0}\r\n                        max={parseFloat(balance.toFixed(2))}\r\n                        step={sliderStep}\r\n                        onChange={(value: number) => {\r\n                            setStakeAmount(value)\r\n                            setStakeAmountValid(!Number.isNaN(value) && value > 0)\r\n                        }}\r\n                        onChangeInput={(event: any) => {\r\n                            setStakeAmount(event.target.value)\r\n                            setStakeAmountValid(!Number.isNaN(event.target.value) && event.target.value > 0)\r\n                        }}\r\n                        showMaxButton\r\n                        onMax={() => {\r\n                            setStakeAmount(balance ? parseFloat(balance.toFixed(2)) : 0)\r\n                            setStakeAmountValid(balance > 0)\r\n                        }}\r\n                        id=\"field-stakingAmount\"\r\n                    />\r\n\r\n                    <FlexBox padding=\"1.5rem 0 0\" justify=\"flex-end\">\r\n                        {status === Status.None || status === Status.Checking ? (\r\n                            <ButtonError\r\n                                disabled={!stakeAmountValid || status !== Status.None}\r\n                                onClick={async () => {\r\n                                    setStatus(Status.Checking)\r\n                                    if (await checkStakingAllowance(stakeAmount.toString())) {\r\n                                        setStatus(Status.Approved)\r\n                                    } else {\r\n                                        setStatus(Status.Checked)\r\n                                    }\r\n                                }}\r\n                                width=\"180px\"\r\n                            >\r\n                                {status === Status.Checking ? 'Checking...' : 'Check Allowance'}\r\n                            </ButtonError>\r\n                        ) : null}\r\n                        {status !== Status.None && status !== Status.Checking ? (\r\n                            <ButtonError\r\n                                disabled={!stakeAmountValid || status !== Status.Checked}\r\n                                onClick={async () => {\r\n                                    setStatus(Status.Approving)\r\n                                    try {\r\n                                        await approveStaking(stakeAmount.toString())\r\n                                        setStatus(Status.Approved)\r\n                                    } catch (e) {\r\n                                        setStatus(Status.Checked)\r\n                                        setIsError(true)\r\n                                        setStatusMessage(`Approving the stake amount failed. Please check the form and try again. Details: ${e.message}`)\r\n                                        setModalOpen(true)\r\n                                    }\r\n                                }}\r\n                                width=\"150px\"\r\n                            >\r\n                                {status === Status.Approving ? 'Approving...' : status === Status.Checked ? `Approve ${symbol}` : 'Approved'}\r\n                            </ButtonError>\r\n                        ) : null}\r\n                        <ButtonError\r\n                            disabled={status !== Status.Approved || !stakeAmountValid}\r\n                            onClick={async () => {\r\n                                setStatus(Status.Staking)\r\n                                try {\r\n                                    await stake(stakeAmount.toString())\r\n                                    setStatus(Status.Staked)\r\n                                    setIsError(false)\r\n                                    setStatusMessage(`${stakeAmount} ${symbol} staked`)\r\n                                } catch (e) {\r\n                                    setStatus(Status.Approved)\r\n                                    setIsError(true)\r\n                                    setStatusMessage(`Staking failed. Please check the form and try again. Details: ${e.message}`)\r\n                                }\r\n                                setModalOpen(true)\r\n                            }}\r\n                            width=\"150px\"\r\n                            margin=\"0 0 0 0.75rem\"\r\n                        >\r\n                            {status === Status.Staking ? 'Staking...' : status === Status.Staked ? 'Staked' : 'Stake'}\r\n                        </ButtonError>\r\n                    </FlexBox>\r\n                </>\r\n            ) : <PageSpinner/>}</>)\r\n}","import UnifundStaking from '../constants/unifund/UnifundStaking.abi.json'\r\nimport MasterChef from '../constants/unifund/UnifundMasterChef.abi.json'\r\nimport ERC20Abi from '../constants/abis/erc20.json'\r\nimport { BigNumber } from '@ethersproject/bignumber'\r\nimport { formatEther } from 'ethers/lib/utils'\r\n\r\nexport const checkStakingAllowance = async (poolId: number, amount: BigNumber, web3: any, account: string) => {\r\n  const tokenAddress = poolId === 0 ? process.env.REACT_APP_UNIFUND_ADDRESS! : process.env.REACT_APP_LP_ADDRESS!\r\n  const tokenContract = new web3.eth.Contract(ERC20Abi, tokenAddress)\r\n  const allowance = BigNumber.from(\r\n    (\r\n      await tokenContract.methods\r\n        .allowance(account, process.env.REACT_APP_MASTER_CHEF_ADDRESS)\r\n        .call({ from: account })\r\n    ).toString()\r\n  )\r\n\r\n  return allowance.eq(amount)\r\n}\r\n\r\nexport const approveStake = async (poolId: number, amount: BigNumber, web3: any, account: string) => {\r\n  const tokenAddress = poolId === 0 ? process.env.REACT_APP_UNIFUND_ADDRESS! : process.env.REACT_APP_LP_ADDRESS!\r\n  const tokenContract = new web3.eth.Contract(ERC20Abi,tokenAddress)\r\n\r\n  const allowance = BigNumber.from(\r\n    (\r\n      await tokenContract.methods\r\n        .allowance(account, process.env.REACT_APP_MASTER_CHEF_ADDRESS)\r\n        .call({ from: account })\r\n    ).toString()\r\n  )\r\n  if (!allowance.eq(amount)) {\r\n    await tokenContract.methods\r\n      .approve(process.env.REACT_APP_MASTER_CHEF_ADDRESS, amount.toString())\r\n      .send({ from: account })\r\n  }\r\n}\r\n\r\nexport const stake = async (poolId: number, amount: BigNumber, web3: any, account: string) => {\r\n  const masterChefContract = new web3.eth.Contract(MasterChef, process.env.REACT_APP_MASTER_CHEF_ADDRESS!)\r\n  await masterChefContract.methods.deposit(poolId, amount.toString()).send({ from: account })\r\n}\r\n\r\nexport const unstakePhase1 = async (web3: any, account: string) => {\r\n  const stakingContract = new web3.eth.Contract(UnifundStaking, process.env.REACT_APP_UNIFUND_STAKING_ADDRESS!)\r\n  await stakingContract.methods.exit().send({ from: account })\r\n}\r\n\r\nexport const unstake = async (poolId: number, amount: BigNumber, web3: any, account: string) => {\r\n  const masterChefContract = new web3.eth.Contract(MasterChef, process.env.REACT_APP_MASTER_CHEF_ADDRESS!)\r\n  await masterChefContract.methods.withdraw(poolId, amount.toString()).send({ from: account })\r\n}\r\n\r\nexport const claim = async (poolId: number, web3: any,account: string) => {\r\n  const masterChefContract = new web3.eth.Contract(MasterChef, process.env.REACT_APP_MASTER_CHEF_ADDRESS!)\r\n  await masterChefContract.methods.withdraw(poolId, 0).send({ from: account })\r\n}\r\n\r\nexport const getUserStakingState = async (poolId: number, web3: any, account: string) => {\r\n  const masterChefContract = new web3.eth.Contract(MasterChef, process.env.REACT_APP_MASTER_CHEF_ADDRESS!)\r\n  const pendingIGovTokens = formatEther(await masterChefContract.methods.pendingiGov(poolId, account).call({ from: account }))\r\n  const unifundMultiplier: number = await masterChefContract.methods.unifundMultiplier().call({ from: account })\r\n  const pendingUnifundTokens = parseFloat(pendingIGovTokens) * unifundMultiplier\r\n  const userInfo = await masterChefContract.methods.userInfo(poolId, account).call({ from: account })\r\n \r\n  const totalStaked = parseFloat(formatEther(userInfo.amount))\r\n  const penalty = await masterChefContract.methods.penaltyActive(poolId, account).call({ from: account })\r\n  const penaltyPercent = await masterChefContract.methods.penaltyPercent().call({ from: account })\r\n  console.log(penalty)\r\n  return {\r\n    iGov: pendingIGovTokens,\r\n    iFund: pendingUnifundTokens,\r\n    totalStaked: totalStaked,\r\n    penalty: penalty,\r\n    penaltyPercent: penaltyPercent\r\n  }\r\n}\r\n\r\nexport const getGlobalStakingState = async(web3: any, account: string) =>{\r\n  const masterChefContract = new web3.eth.Contract(MasterChef, process.env.REACT_APP_MASTER_CHEF_ADDRESS!)\r\n  const unifundContract = new web3.eth.Contract(ERC20Abi, process.env.REACT_APP_UNIFUND_ADDRESS!)\r\n\r\n  const iGovPerBlock = parseFloat(formatEther(await masterChefContract.methods.iGovPerBlock().call({ from: account })))\r\n  const unifundMultiplier: number = await masterChefContract.methods.unifundMultiplier().call({ from: account })\r\n  const totalRewards = parseFloat(formatEther(await masterChefContract.methods.UnifundRewardBalance().call({ from: account })))\r\n  const totalSupply =  parseFloat(formatEther(await unifundContract.methods.balanceOf(process.env.REACT_APP_MASTER_CHEF_ADDRESS).call({ from: account })))\r\n  const totalStaked = totalSupply - totalRewards\r\n  const totalStakedPercent = (totalStaked / totalSupply)*100\r\n  const bloksPerMonth = 4 * 60 * 24 * 30\r\n  const iGovRewardsPerMonth = bloksPerMonth * iGovPerBlock\r\n  const iFundRewardsPerMonth = bloksPerMonth * iGovPerBlock * unifundMultiplier\r\n\r\n  return {\r\n    totalRewards: totalRewards,\r\n    totalSupply: totalSupply,\r\n    totalStaked: totalStaked,\r\n    totalStakedPercent: totalStakedPercent,\r\n    iGovRewardsPerMonth: iGovRewardsPerMonth,\r\n    iFundRewardsPerMonth: iFundRewardsPerMonth\r\n  }\r\n}\r\n\r\nexport const getPosition = async (web3: any, account: string, amount: number = 0) => {\r\n  const unifundContract = new web3.eth.Contract(ERC20Abi, process.env.REACT_APP_UNIFUND_ADDRESS!)\r\n  const stakingContract = new web3.eth.Contract(UnifundStaking, process.env.REACT_APP_UNIFUND_STAKING_ADDRESS!)\r\n  const totalStaked = amount + parseFloat(formatEther(await stakingContract.methods.totalSupply().call({ from: account })))\r\n  const totalSupply = parseFloat(formatEther(await unifundContract.methods.totalSupply().call({ from: account })))\r\n  const totalRewards = 250000\r\n\r\n  const yourStakedTokens =\r\n    amount + parseFloat(formatEther(await stakingContract.methods.balanceOf(account).call({ from: account })))\r\n\r\n  // const rewardRate = parseFloat(\r\n  //   formatEther(\r\n  //     web3.utils\r\n  //       .BN(await stakingContract.methods.rewardRate().call({ from: account }))\r\n  //       .mul(24 * 60 * 60 * yourStakedTokens)\r\n  //       .toString()\r\n  //   )\r\n  // )\r\n  const yourPendingReward = 0\r\n\r\n  const yourEarnedAmount =\r\n    yourStakedTokens > 0\r\n      ? parseFloat(formatEther(await stakingContract.methods.earned(account).call({ from: account })))\r\n      : 0\r\n\r\n  const yourTotalUnlockValue = yourStakedTokens + yourEarnedAmount\r\n  const yourShare = (yourStakedTokens / totalStaked) * 100\r\n  const percentStaked = totalStaked / totalSupply\r\n\r\n  return {\r\n    yourStakedTokens,\r\n    yourShare,\r\n    yourEarnedAmount,\r\n    yourPendingReward,\r\n    yourTotalUnlockValue,\r\n    totalRewards,\r\n    totalSupply,\r\n    totalStaked,\r\n    percentStaked\r\n  }\r\n  // const stakingContract = new web3.eth.Contract(UnifundStaking, process.env.REACT_APP_UNIFUND_STAKING_ADDRESS!)\r\n  // const events = await stakingContract.getPastEvents('Stake', {\r\n  //   // filter: {\r\n  //   //   0: account\r\n  //   // },\r\n  //   fromBlock: 10704200,\r\n  //   toBlock: 'latest'\r\n  // })\r\n\r\n  // // events.forEach((e: any) => {\r\n  // //   const sender = e.returnValues[0]\r\n  // //   const amount = parseFloat(formatEther(e.returnValues[1]))\r\n  // //   const epochCount = e.returnValues[2]\r\n\r\n  // //   if (epochCount < 7 && amount > 10000) {\r\n  // //     console.log(sender, amount, epochCount)\r\n  // //   }\r\n  // // })\r\n\r\n  // return events\r\n  //   .filter((e: any) => e.returnValues[0] === account)\r\n  //   .map((e: any) => {\r\n  //     const amount = parseFloat(formatEther(e.returnValues[1]))\r\n  //     const epochCount = parseInt(e.returnValues[2])\r\n\r\n  //     return {\r\n  //       amount,\r\n  //       epochCount\r\n  //     }\r\n  //   })\r\n}\r\n","import { formatEther } from 'ethers/lib/utils'\r\nimport ERC20Abi from '../constants/abis/erc20.json'\r\n\r\nexport const getBalanceByPoolId = async (poolId: number, web3: any, account: string) => {\r\n  const tokenAddress = poolId === 0 ? process.env.REACT_APP_UNIFUND_ADDRESS! : process.env.REACT_APP_LP_ADDRESS!\r\n  const erc20Contract = new web3.eth.Contract(ERC20Abi, tokenAddress)\r\n  return parseFloat(formatEther(await erc20Contract.methods.balanceOf(account).call({ from: account })))\r\n}","import React, { useContext, useEffect, useState } from 'react'\r\nimport { RouteComponentProps, withRouter } from 'react-router-dom'\r\nimport numeral from 'numeral'\r\nimport DefaultLayout from 'src/layouts/default'\r\nimport { MainHeading } from 'src/components/NavigationTabs'\r\nimport Row from 'src/components/Row'\r\nimport { ButtonPrimary, ButtonError } from 'src/components/Button'\r\nimport { FlexBox } from 'src/components/FlexBox'\r\nimport { PageSpinner } from 'src/components/PageSpinner'\r\nimport { TYPE } from 'src/theme'\r\nimport { StyledTableRow, StyledTableCell } from 'src/components/TokensTable'\r\n\r\nimport { useActiveWeb3React, useOldWeb3 } from 'src/hooks'\r\nimport styled, { css, ThemeContext } from 'styled-components'\r\nimport * as StakingService from 'src/services/stakingService'\r\nimport { useCurrencyBalance } from 'src/state/wallet/hooks'\r\nimport { useCurrency } from 'src/hooks/Tokens'\r\nimport { PoolStake } from 'src/components/PoolStake'\r\nimport InfoModal from 'src/components/InfoModal'\r\n\r\nexport const RowAlignRight = styled(Row)`\r\n  justify-content: flex-end;\r\n`\r\n\r\nconst Tabs = styled.div`\r\n  display: flex;\r\n  border-bottom: ${({ theme }) => `1px solid ${theme.bg3}`};\r\n  margin-bottom: 1.5rem;\r\n`\r\n\r\nconst Tab = styled.button<{ isActive: boolean }>`\r\n  background: transparent;\r\n  border: none;\r\n  color: ${({ theme }) => theme.text3}\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  padding: 0.5rem 0;\r\n  width: 140px;\r\n\r\n  :hover {\r\n    color: ${({ theme }) => theme.text1};\r\n  }\r\n\r\n  :focus {\r\n    outline: none;\r\n  }\r\n\r\n  ${({ isActive }) =>\r\n    isActive &&\r\n    css`\r\n      color: ${({ theme }) => theme.text1};\r\n      :after {\r\n        content: ' ';\r\n        display: block;\r\n        background: ${({ theme }) => theme.primary1};\r\n        height: 4px;\r\n        position: relative;\r\n        top: 9px;\r\n      }\r\n    `}\r\n`\r\n\r\nenum Status {\r\n  None = 0,\r\n  Unstaking = 9,\r\n  Unstaked = 10\r\n}\r\n\r\nconst Stake = ({ history }: RouteComponentProps) => {\r\n  const [isActiveTab, setIsActiveTab] = useState('stake')\r\n  const [activePool, setActivePool] = useState(0)\r\n  const [position, setPosition] = useState<any>(undefined)\r\n  const [globalStakingState, setGlobalStakingState] = useState<any>(undefined)\r\n  const { account } = useActiveWeb3React()\r\n  const ifundCurrency = useCurrency(process.env.REACT_APP_UNIFUND_ADDRESS)\r\n  const ifundBalance = useCurrencyBalance(account ?? undefined, ifundCurrency ?? undefined)\r\n  const [status, setStatus] = useState(Status.None)\r\n  const [modalOpen, setModalOpen] = useState(false)\r\n  const [isError, setIsError] = useState(false)\r\n  const [statusMessage, setStatusMessage] = useState(\"\")\r\n\r\n  const web3 = useOldWeb3()\r\n  const theme = useContext(ThemeContext)\r\n\r\n  useEffect(() => {\r\n    if (!web3 || !account) return\r\n    StakingService.getGlobalStakingState(web3, account!).then((x: any) => setGlobalStakingState(x))\r\n  }, [account])\r\n\r\n  const unstakePhase1 = async () => await StakingService.unstakePhase1(web3, account!)\r\n\r\n  const onDismiss = () => {\r\n    setStatusMessage(\"\")\r\n    setIsError(false)\r\n    setModalOpen(false)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!web3 || !account) return\r\n    async function init() {\r\n      const position = await StakingService.getPosition(web3, account!)\r\n      setPosition(position)\r\n    }\r\n\r\n    init()\r\n\r\n  }, [account, status])\r\n\r\n  return (\r\n    <>\r\n      <MainHeading backPath={'/'} title={'Stake'} />\r\n      <DefaultLayout isChildPage css={css` max-width: 800px; width: 100%;`}>\r\n        <InfoModal isOpen={modalOpen} onDismiss={onDismiss} isError={isError} message={statusMessage} />\r\n        <FlexBox flex=\"column\" padding=\"0 0\">\r\n          <Tabs>\r\n            <Tab isActive={isActiveTab === 'stake'} onClick={() => setIsActiveTab('stake')}>\r\n              Your stake\r\n            </Tab>\r\n            <Tab isActive={isActiveTab === 'stats'} onClick={() => setIsActiveTab('stats')}>\r\n              Staking stats\r\n            </Tab>\r\n          </Tabs>\r\n        </FlexBox>\r\n        {isActiveTab === 'stake' ?\r\n          (\r\n            <>\r\n              {position !== undefined && position.yourStakedTokens > 0 ? (\r\n                <FlexBox width=\"100%\" justify=\"center\" padding=\"0 0 2em 0\">\r\n                  <ButtonError\r\n                    onClick={async () => {\r\n                      setStatus(Status.Unstaking)\r\n                      try {\r\n                        await unstakePhase1()\r\n                        setStatus(Status.Unstaked)\r\n                        setStatusMessage(`Unstaked ${position.yourStakedTokens} iFUND`)\r\n                        setIsError(false)\r\n                      } catch (e) {\r\n                        setStatus(Status.None)\r\n                        setStatusMessage('Unstaking failed. Details: ' + e.message)\r\n                        setIsError(true)\r\n                      }\r\n                      setModalOpen(true)\r\n                    }}\r\n                    width=\"16em\"\r\n                  >\r\n                    {status === Status.Unstaking ? 'Unstaking...' : 'Unstake from Phase 1 Staking'}\r\n                  </ButtonError>\r\n                </FlexBox>) : null}\r\n              <FlexBox flex=\"column\">\r\n                {ifundBalance && parseFloat(ifundBalance.toFixed(2)).toFixed(2) === '0.00' ? (\r\n                  <>\r\n                    <h2>Grab yourself some iFUND to start staking</h2>\r\n                    <TYPE.body margin=\"0.5rem 0 1rem\">You have 0 iFUND available to stake.</TYPE.body>\r\n                    <a href=\"https://app.uniswap.org/#/swap?outputCurrency=0x04b5e13000c6e9a3255dc057091f3e3eeee7b0f0\">\r\n                      <ButtonPrimary width=\"140px\">Buy iFUND</ButtonPrimary>\r\n                    </a>\r\n                  </>\r\n                ) : (\r\n                    <>\r\n                      <FlexBox flex=\"column\" width=\"100%\">\r\n                        <TYPE.body color={theme.text1} textAlign=\"center\" fontWeight={600}>\r\n                          Staking Phase 2\r\n                        </TYPE.body>\r\n                        <FlexBox flex=\"column\" padding=\"0 0\">\r\n                          <Tabs>\r\n                            <Tab isActive={activePool === 0} onClick={() => setActivePool(0)}>\r\n                              Unifund Pool\r\n                            </Tab>\r\n                            <Tab isActive={activePool === 1} onClick={() => setActivePool(1)}>\r\n                              LP Pool\r\n                            </Tab>\r\n                          </Tabs>\r\n                        </FlexBox>\r\n                        <FlexBox flex=\"column\" width=\"100%\"></FlexBox>\r\n                        {activePool === 0\r\n                          ? <PoolStake poolId={activePool} symbol=\"iFUND\" sliderStep={100} />\r\n                          : <PoolStake poolId={activePool} symbol=\"LP\" sliderStep={1} />}\r\n                      </FlexBox>\r\n                    </>\r\n                  )}\r\n              </FlexBox>\r\n            </>\r\n          ) : (\r\n            <>\r\n              {globalStakingState ? (\r\n                <FlexBox flex=\"column\" width=\"100%\">\r\n                  <StyledTableRow>\r\n                    <StyledTableCell width=\"50%\">\r\n                      <TYPE.body>Total rewards</TYPE.body>\r\n                    </StyledTableCell>\r\n                    <StyledTableCell width=\"50%\">\r\n                      <TYPE.body color={theme.text1} fontWeight={600}>\r\n                        {numeral(globalStakingState.totalRewards).format('0,0')} iFUND\r\n                      </TYPE.body>\r\n                    </StyledTableCell>\r\n                  </StyledTableRow>\r\n                  <StyledTableRow>\r\n                    <StyledTableCell width=\"50%\">\r\n                      <TYPE.body>Total supply</TYPE.body>\r\n                    </StyledTableCell>\r\n                    <StyledTableCell width=\"50%\">\r\n                      <TYPE.body color={theme.text1} fontWeight={600}>\r\n                        {numeral(globalStakingState.totalSupply).format('0,0')} iFUND\r\n                      </TYPE.body>\r\n                    </StyledTableCell>\r\n                  </StyledTableRow>\r\n                  <StyledTableRow>\r\n                    <StyledTableCell width=\"50%\">\r\n                      <TYPE.body>Total staked</TYPE.body>\r\n                    </StyledTableCell>\r\n                    <StyledTableCell width=\"50%\">\r\n                      <TYPE.body color={theme.text1} fontWeight={600}>\r\n                        {numeral(globalStakingState.totalStaked).format('0,0')} iFUND\r\n                      </TYPE.body>\r\n                    </StyledTableCell>\r\n                  </StyledTableRow>\r\n                  <StyledTableRow>\r\n                    <StyledTableCell width=\"50%\">\r\n                      <TYPE.body>Percent staked</TYPE.body>\r\n                    </StyledTableCell>\r\n                    <StyledTableCell width=\"50%\">\r\n                      <TYPE.body color={theme.text1} fontWeight={600}>\r\n                        {globalStakingState.totalStakedPercent.toFixed(2)}%\r\n                      </TYPE.body>\r\n                    </StyledTableCell>\r\n                  </StyledTableRow>\r\n                  <StyledTableRow>\r\n                    <StyledTableCell width=\"50%\">\r\n                      <TYPE.body>Total iFUND rewards per month</TYPE.body>\r\n                    </StyledTableCell>\r\n                    <StyledTableCell width=\"50%\">\r\n                      <TYPE.body color={theme.text1} fontWeight={600}>\r\n                        {numeral(globalStakingState.iFundRewardsPerMonth).format('0,0')} iFUND\r\n                    </TYPE.body>\r\n                    </StyledTableCell>\r\n                  </StyledTableRow>\r\n                  <StyledTableRow>\r\n                    <StyledTableCell width=\"50%\">\r\n                      <TYPE.body>Total iGOV rewards per month</TYPE.body>\r\n                    </StyledTableCell>\r\n                    <StyledTableCell width=\"50%\">\r\n                      <TYPE.body color={theme.text1} fontWeight={600}>\r\n                        {numeral(globalStakingState.iGovRewardsPerMonth).format('0,0')} iGOV\r\n                      </TYPE.body>\r\n                    </StyledTableCell>\r\n                  </StyledTableRow>\r\n                </FlexBox>\r\n              ) : <PageSpinner />} </>\r\n\r\n          )}\r\n\r\n      </DefaultLayout>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default withRouter(Stake)\r\n","import React, { useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport DefaultLayout from 'src/layouts/default'\r\nimport { AutoColumn } from 'src/components/Column'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { css } from '@emotion/core'\r\nimport TokenPanel from 'src/components/TokenPanel'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\n\r\nimport { Spinner } from '../../theme/components'\r\nimport Circle from '../../assets/images/blue-loader.svg'\r\nimport { TYPE } from 'src/theme'\r\n\r\nconst StyledHeaderWrapper = styled.div`\r\n  padding-bottom: 1.5rem;\r\n`\r\n\r\nconst StyledSpinnerWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  padding: 2rem 0;\r\n`\r\n\r\nconst TokenList = ({ tokens, chainId }: any) => {\r\n  return (\r\n    <AutoColumn>\r\n      {tokens === undefined ? (\r\n        <StyledSpinnerWrapper>\r\n          <Spinner src={Circle} />\r\n        </StyledSpinnerWrapper>\r\n      ) : null}\r\n      {tokens !== undefined && tokens.length === 0 ? <div>No tokens yet</div> : null}\r\n      {tokens?.map((token: any) => (\r\n        <TokenPanel key={token.name} name={token.name} symbol={token.symbol} address={token.address} />\r\n      ))}\r\n    </AutoColumn>\r\n  )\r\n}\r\n\r\nconst Trades = ({ history }: RouteComponentProps) => {\r\n  //const { getTokenList } = useGroupActions()\r\n  const [tokenList, setTokenList] = useState(undefined)\r\n\r\n  useEffect(() => {\r\n    // @ts-ignore\r\n    setTokenList([\r\n      {\r\n        name: '0xBitcoin Token',\r\n        address: '0xB6eD7644C69416d67B522e20bC294A9a9B405B31',\r\n        symbol: '0xBTC'\r\n      },\r\n      {\r\n        name: 'Aave Interest bearing DAI',\r\n        address: '0xfC1E690f61EFd961294b3e1Ce3313fBD8aa4f85d',\r\n        symbol: 'aDAI'\r\n      },\r\n      {\r\n        name: 'Amon',\r\n        address: '0x737F98AC8cA59f2C68aD658E3C3d8C8963E40a4c',\r\n        symbol: 'AMN'\r\n      },\r\n      {\r\n        name: 'Ampleforth',\r\n        address: '0xD46bA6D942050d489DBd938a2C909A5d5039A161',\r\n        symbol: 'AMPL'\r\n      },\r\n      {\r\n        name: 'Aragon Network Juror',\r\n        address: '0xcD62b1C403fa761BAadFC74C525ce2B51780b184',\r\n        symbol: 'ANJ'\r\n      },\r\n      {\r\n        name: 'Aragon Network Token',\r\n        address: '0x960b236A07cf122663c4303350609A66A7B288C0',\r\n        symbol: 'ANT'\r\n      },\r\n      {\r\n        name: 'AirSwap Token',\r\n        address: '0x27054b13b1B798B345b591a4d22e6562d47eA75a',\r\n        symbol: 'AST'\r\n      },\r\n      {\r\n        name: 'Balancer',\r\n        address: '0xba100000625a3754423978a60c9317c58a424e3D',\r\n        symbol: 'BAL'\r\n      },\r\n      {\r\n        name: 'BandToken',\r\n        address: '0xBA11D00c5f74255f56a5E366F4F77f5A186d7f55',\r\n        symbol: 'BAND'\r\n      },\r\n      {\r\n        name: 'Basic Attention Token',\r\n        address: '0x0D8775F648430679A709E98d2b0Cb6250d2887EF',\r\n        symbol: 'BAT'\r\n      },\r\n      {\r\n        name: 'Bloom Token',\r\n        address: '0x107c4504cd79C5d2696Ea0030a8dD4e92601B82e',\r\n        symbol: 'BLT'\r\n      },\r\n      {\r\n        name: 'Bancor Network Token',\r\n        address: '0x1F573D6Fb3F13d689FF844B4cE37794d79a7FF1C',\r\n        symbol: 'BNT'\r\n      },\r\n      {\r\n        name: 'PieDAO BTC++',\r\n        address: '0x0327112423F3A68efdF1fcF402F6c5CB9f7C33fd',\r\n        symbol: 'BTC++'\r\n      },\r\n      {\r\n        name: 'bZx Protocol Token',\r\n        address: '0x56d811088235F11C8920698a204A5010a788f4b3',\r\n        symbol: 'BZRX'\r\n      },\r\n      {\r\n        name: 'Compound Dai',\r\n        address: '0x5d3a536E4D6DbD6114cc1Ead35777bAB948E3643',\r\n        symbol: 'cDAI'\r\n      },\r\n      {\r\n        name: 'Celsius',\r\n        address: '0xaaAEBE6Fe48E54f431b0C390CfaF0b017d09D42d',\r\n        symbol: 'CEL'\r\n      },\r\n      {\r\n        name: 'CelerToken',\r\n        address: '0x4F9254C83EB525f9FCf346490bbb3ed28a81C667',\r\n        symbol: 'CELR'\r\n      },\r\n      {\r\n        name: 'Chai',\r\n        address: '0x06AF07097C9Eeb7fD685c692751D5C66dB49c215',\r\n        symbol: 'CHAI'\r\n      },\r\n      {\r\n        name: 'Compound',\r\n        address: '0xc00e94Cb662C3520282E6f5717214004A7f26888',\r\n        symbol: 'COMP'\r\n      },\r\n      {\r\n        name: 'Curve DAO Token',\r\n        address: '0xD533a949740bb3306d119CC777fa900bA034cd52',\r\n        symbol: 'CRV'\r\n      },\r\n      {\r\n        name: 'Compound Dai',\r\n        address: '0xF5DCe57282A584D2746FaF1593d3121Fcac444dC',\r\n        symbol: 'cDAI'\r\n      },\r\n      {\r\n        name: 'Compound USD Coin',\r\n        address: '0x39AA39c021dfbaE8faC545936693aC917d5E7563',\r\n        symbol: 'cUSDC'\r\n      },\r\n      {\r\n        name: 'Dai Stablecoin',\r\n        address: '0x6B175474E89094C44Da98b954EedeAC495271d0F',\r\n        symbol: 'DAI'\r\n      },\r\n      {\r\n        name: 'Streamr DATAcoin',\r\n        address: '0x0Cf0Ee63788A0849fE5297F3407f701E122cC023',\r\n        symbol: 'DATA'\r\n      },\r\n      {\r\n        name: 'Digix Gold Token',\r\n        address: '0x4f3AfEC4E5a3F2A6a1A411DEF7D7dFe50eE057bF',\r\n        symbol: 'DGX'\r\n      },\r\n      {\r\n        name: 'Decentralized Insurance Protocol',\r\n        address: '0xc719d010B63E5bbF2C0551872CD5316ED26AcD83',\r\n        symbol: 'DIP'\r\n      },\r\n      {\r\n        name: 'Donut',\r\n        address: '0xC0F9bD5Fa5698B6505F643900FFA515Ea5dF54A9',\r\n        symbol: 'DONUT'\r\n      },\r\n      {\r\n        name: 'EURBASE Stablecoin',\r\n        address: '0x86FADb80d8D2cff3C3680819E4da99C10232Ba0F',\r\n        symbol: 'EBASE'\r\n      },\r\n      {\r\n        name: 'Enjin Coin',\r\n        address: '0xF629cBd94d3791C9250152BD8dfBDF380E2a3B9c',\r\n        symbol: 'ENJ'\r\n      },\r\n      {\r\n        name: 'SAINT FAME: Genesis Shirt',\r\n        address: '0x06f65b8CfCb13a9FE37d836fE9708dA38Ecb29B2',\r\n        symbol: 'FAME'\r\n      },\r\n      {\r\n        name: 'FOAM Token',\r\n        address: '0x4946Fcea7C692606e8908002e55A582af44AC121',\r\n        symbol: 'FOAM'\r\n      },\r\n      {\r\n        name: 'FunFair',\r\n        address: '0x419D0d8BdD9aF5e606Ae2232ed285Aff190E711b',\r\n        symbol: 'FUN'\r\n      },\r\n      {\r\n        name: 'Flexacoin',\r\n        address: '0x4a57E687b9126435a9B19E4A802113e266AdeBde',\r\n        symbol: 'FXC'\r\n      },\r\n      {\r\n        name: 'DAOstack',\r\n        address: '0x543Ff227F64Aa17eA132Bf9886cAb5DB55DCAddf',\r\n        symbol: 'GEN'\r\n      },\r\n      {\r\n        name: 'Gnosis Token',\r\n        address: '0x6810e776880C02933D47DB1b9fc05908e5386b96',\r\n        symbol: 'GNO'\r\n      },\r\n      {\r\n        name: 'GRID Token',\r\n        address: '0x12B19D3e2ccc14Da04FAe33e63652ce469b3F2FD',\r\n        symbol: 'GRID'\r\n      },\r\n      {\r\n        name: 'Gastoken.io',\r\n        address: '0x0000000000b3F879cb30FE243b4Dfee438691c04',\r\n        symbol: 'GST2'\r\n      },\r\n      {\r\n        name: 'HoloToken',\r\n        address: '0x6c6EE5e31d828De241282B9606C8e98Ea48526E2',\r\n        symbol: 'HOT'\r\n      },\r\n      {\r\n        name: 'HUSD',\r\n        address: '0xdF574c24545E5FfEcb9a659c229253D4111d87e1',\r\n        symbol: 'HUSD'\r\n      },\r\n      {\r\n        name: 'Fulcrum DAI iToken',\r\n        address: '0x493C57C4763932315A328269E1ADaD09653B9081',\r\n        symbol: 'iDAI'\r\n      },\r\n      {\r\n        name: 'IoTeX Network',\r\n        address: '0x6fB3e0A217407EFFf7Ca062D46c26E5d60a14d69',\r\n        symbol: 'IOTX'\r\n      },\r\n      {\r\n        name: 'Fulcrum SAI iToken',\r\n        address: '0x14094949152EDDBFcd073717200DA82fEd8dC960',\r\n        symbol: 'iSAI'\r\n      },\r\n      {\r\n        name: 'Kyber Network Crystal',\r\n        address: '0xdd974D5C2e2928deA5F71b9825b8b646686BD200',\r\n        symbol: 'KNC'\r\n      },\r\n      {\r\n        name: 'EthLend Token',\r\n        address: '0x80fB784B7eD66730e8b1DBd9820aFD29931aab03',\r\n        symbol: 'LEND'\r\n      },\r\n      {\r\n        name: 'ChainLink Token',\r\n        address: '0x514910771AF9Ca656af840dff83E8264EcF986CA',\r\n        symbol: 'LINK'\r\n      },\r\n      {\r\n        name: 'LoomToken',\r\n        address: '0xA4e8C3Ec456107eA67d3075bF9e3DF3A75823DB0',\r\n        symbol: 'LOOM'\r\n      },\r\n      {\r\n        name: 'Livepeer Token',\r\n        address: '0x58b6A8A3302369DAEc383334672404Ee733aB239',\r\n        symbol: 'LPT'\r\n      },\r\n      {\r\n        name: 'Liquidity.Network Token',\r\n        address: '0xD29F0b5b3F50b07Fe9a9511F7d86F4f4bAc3f8c4',\r\n        symbol: 'LQD'\r\n      },\r\n      {\r\n        name: 'LoopringCoin V2',\r\n        address: '0xBBbbCA6A901c926F240b89EacB641d8Aec7AEafD',\r\n        symbol: 'LRC'\r\n      },\r\n      {\r\n        name: 'Decentraland MANA',\r\n        address: '0x0F5D2fB29fb7d3CFeE444a200298f468908cC942',\r\n        symbol: 'MANA'\r\n      },\r\n      {\r\n        name: 'Matic Token',\r\n        address: '0x7D1AfA7B718fb893dB30A3aBc0Cfc608AaCfeBB0',\r\n        symbol: 'MATIC'\r\n      },\r\n      {\r\n        name: 'Marblecoin',\r\n        address: '0x8888889213DD4dA823EbDD1e235b09590633C150',\r\n        symbol: 'MBC'\r\n      },\r\n      {\r\n        name: 'MachiX Token',\r\n        address: '0xd15eCDCF5Ea68e3995b2D0527A0aE0a3258302F8',\r\n        symbol: 'MCX'\r\n      },\r\n      {\r\n        name: 'Metronome',\r\n        address: '0xa3d58c4E56fedCae3a7c43A725aeE9A71F0ece4e',\r\n        symbol: 'MET'\r\n      },\r\n      {\r\n        name: 'Magnolia Token',\r\n        address: '0x80f222a749a2e18Eb7f676D371F19ad7EFEEe3b7',\r\n        symbol: 'MGN'\r\n      },\r\n      {\r\n        name: 'Melon Token',\r\n        address: '0xec67005c4E498Ec7f55E092bd1d35cbC47C91892',\r\n        symbol: 'MLN'\r\n      },\r\n      {\r\n        name: 'Modum Token',\r\n        address: '0x957c30aB0426e0C93CD8241E2c60392d08c6aC8e',\r\n        symbol: 'MOD'\r\n      },\r\n      {\r\n        name: 'Meta',\r\n        address: '0xa3BeD4E1c75D00fa6f4E5E6922DB7261B5E9AcD2',\r\n        symbol: 'MTA'\r\n      },\r\n      {\r\n        name: 'mStable USD',\r\n        address: '0xe2f2a5C287993345a840Db3B0845fbC70f5935a5',\r\n        symbol: 'mUSD'\r\n      },\r\n      {\r\n        name: 'Nexo',\r\n        address: '0xB62132e35a6c13ee1EE0f84dC5d40bad8d815206',\r\n        symbol: 'NEXO'\r\n      },\r\n      {\r\n        name: 'Numeraire',\r\n        address: '0x1776e1F26f98b1A5dF9cD347953a26dd3Cb46671',\r\n        symbol: 'NMR'\r\n      },\r\n      {\r\n        name: 'Ocean Token',\r\n        address: '0x7AFeBBB46fDb47ed17b22ed075Cde2447694fB9e',\r\n        symbol: 'OCEAN'\r\n      },\r\n      {\r\n        name: 'Orchid',\r\n        address: '0x4575f41308EC1483f3d399aa9a2826d74Da13Deb',\r\n        symbol: 'OXT'\r\n      },\r\n      {\r\n        name: 'Panvala pan',\r\n        address: '0xD56daC73A4d6766464b38ec6D91eB45Ce7457c44',\r\n        symbol: 'PAN'\r\n      },\r\n      {\r\n        name: 'Paxos Standard',\r\n        address: '0x8E870D67F660D95d5be530380D0eC0bd388289E1',\r\n        symbol: 'PAX'\r\n      },\r\n      {\r\n        name: 'Paxos Gold',\r\n        address: '0x45804880De22913dAFE09f4980848ECE6EcbAf78',\r\n        symbol: 'PAXG'\r\n      },\r\n      {\r\n        name: 'Pinakion',\r\n        address: '0x93ED3FBe21207Ec2E8f2d3c3de6e058Cb73Bc04d',\r\n        symbol: 'PNK'\r\n      },\r\n      {\r\n        name: 'POA ERC20 on Foundation',\r\n        address: '0x6758B7d441a9739b98552B373703d8d3d14f9e62',\r\n        symbol: 'POA20'\r\n      },\r\n      {\r\n        name: 'QChi',\r\n        address: '0x687BfC3E73f6af55F0CccA8450114D107E781a0e',\r\n        symbol: 'QCH'\r\n      },\r\n      {\r\n        name: 'Quant',\r\n        address: '0x4a220E6096B25EADb88358cb44068A3248254675',\r\n        symbol: 'QNT'\r\n      },\r\n      {\r\n        name: 'Quantstamp Token',\r\n        address: '0x99ea4dB9EE77ACD40B119BD1dC4E33e1C070b80d',\r\n        symbol: 'QSP'\r\n      },\r\n      {\r\n        name: 'Ripio Credit Network Token',\r\n        address: '0xF970b8E36e23F7fC3FD752EeA86f8Be8D83375A6',\r\n        symbol: 'RCN'\r\n      },\r\n      {\r\n        name: 'Raiden Token',\r\n        address: '0x255Aa6DF07540Cb5d3d297f0D0D4D84cb52bc8e6',\r\n        symbol: 'RDN'\r\n      },\r\n      {\r\n        name: 'Republic Token',\r\n        address: '0x408e41876cCCDC0F92210600ef50372656052a38',\r\n        symbol: 'REN'\r\n      },\r\n      {\r\n        name: 'renBCH',\r\n        address: '0x459086F2376525BdCebA5bDDA135e4E9d3FeF5bf',\r\n        symbol: 'renBCH'\r\n      },\r\n      {\r\n        name: 'renBTC',\r\n        address: '0xEB4C2781e4ebA804CE9a9803C67d0893436bB27D',\r\n        symbol: 'renBTC'\r\n      },\r\n      {\r\n        name: 'renZEC',\r\n        address: '0x1C5db575E2Ff833E46a2E9864C22F4B22E0B37C2',\r\n        symbol: 'renZEC'\r\n      },\r\n      {\r\n        name: 'Reputation',\r\n        address: '0x1985365e9f78359a9B6AD760e32412f4a445E862',\r\n        symbol: 'REP'\r\n      },\r\n      {\r\n        name: 'Reputation',\r\n        address: '0x221657776846890989a759BA2973e427DfF5C9bB',\r\n        symbol: 'REPv2'\r\n      },\r\n      {\r\n        name: 'iEx.ec Network Token',\r\n        address: '0x607F4C5BB672230e8672085532f7e901544a7375',\r\n        symbol: 'RLC'\r\n      },\r\n      {\r\n        name: 'Rocket Pool',\r\n        address: '0xB4EFd85c19999D84251304bDA99E90B92300Bd93',\r\n        symbol: 'RPL'\r\n      },\r\n      {\r\n        name: 'Salt',\r\n        address: '0x4156D3342D5c385a87D264F90653733592000581',\r\n        symbol: 'SALT'\r\n      },\r\n      {\r\n        name: 'SANtiment network token',\r\n        address: '0x7C5A0CE9267ED19B22F8cae653F198e3E8daf098',\r\n        symbol: 'SAN'\r\n      },\r\n      {\r\n        name: 'Synth sETH',\r\n        address: '0x5e74C9036fb86BD7eCdcb084a0673EFc32eA31cb',\r\n        symbol: 'sETH'\r\n      },\r\n      {\r\n        name: 'Shuffle.Monster V3',\r\n        address: '0x3A9FfF453d50D4Ac52A6890647b823379ba36B9E',\r\n        symbol: 'SHUF'\r\n      },\r\n      {\r\n        name: 'Status Network Token',\r\n        address: '0x744d70FDBE2Ba4CF95131626614a1763DF805B9E',\r\n        symbol: 'SNT'\r\n      },\r\n      {\r\n        name: 'Synthetix Network Token',\r\n        address: '0xC011a73ee8576Fb46F5E1c5751cA3B9Fe0af2a6F',\r\n        symbol: 'SNX'\r\n      },\r\n      {\r\n        name: 'Unisocks Edition 0',\r\n        address: '0x23B608675a2B2fB1890d3ABBd85c5775c51691d5',\r\n        symbol: 'SOCKS'\r\n      },\r\n      {\r\n        name: 'SPANK',\r\n        address: '0x42d6622deCe394b54999Fbd73D108123806f6a18',\r\n        symbol: 'SPANK'\r\n      },\r\n      {\r\n        name: 'Serum',\r\n        address: '0x476c5E26a75bd202a9683ffD34359C0CC15be0fF',\r\n        symbol: 'SRM'\r\n      },\r\n      {\r\n        name: 'STAKE',\r\n        address: '0x0Ae055097C6d159879521C384F1D2123D1f195e6',\r\n        symbol: 'STAKE'\r\n      },\r\n      {\r\n        name: 'StorjToken',\r\n        address: '0xB64ef51C888972c908CFacf59B47C1AfBC0Ab8aC',\r\n        symbol: 'STORJ'\r\n      },\r\n      {\r\n        name: 'Synth sUSD',\r\n        address: '0x57Ab1ec28D129707052df4dF418D58a2D46d5f51',\r\n        symbol: 'sUSD'\r\n      },\r\n      {\r\n        name: 'Synth sXAU',\r\n        address: '0x261EfCdD24CeA98652B9700800a13DfBca4103fF',\r\n        symbol: 'sXAU'\r\n      },\r\n      {\r\n        name: 'Swipe',\r\n        address: '0x8CE9137d39326AD0cD6491fb5CC0CbA0e089b6A9',\r\n        symbol: 'SXP'\r\n      },\r\n      {\r\n        name: 'TrueAUD',\r\n        address: '0x00006100F7090010005F1bd7aE6122c3C2CF0090',\r\n        symbol: 'TAUD'\r\n      },\r\n      {\r\n        name: 'TrueCAD',\r\n        address: '0x00000100F2A2bd000715001920eB70D229700085',\r\n        symbol: 'TCAD'\r\n      },\r\n      {\r\n        name: 'TrueGBP',\r\n        address: '0x00000000441378008EA67F4284A57932B1c000a5',\r\n        symbol: 'TGBP'\r\n      },\r\n      {\r\n        name: 'TrueHKD',\r\n        address: '0x0000852600CEB001E08e00bC008be620d60031F2',\r\n        symbol: 'THKD'\r\n      },\r\n      {\r\n        name: 'Monolith TKN',\r\n        address: '0xaAAf91D9b90dF800Df4F55c205fd6989c977E73a',\r\n        symbol: 'TKN'\r\n      },\r\n      {\r\n        name: 'Tellor Tributes',\r\n        address: '0x0Ba45A8b5d5575935B8158a88C631E9F9C95a2e5',\r\n        symbol: 'TRB'\r\n      },\r\n      {\r\n        name: 'Trustcoin',\r\n        address: '0xCb94be6f13A1182E4A4B6140cb7bf2025d28e41B',\r\n        symbol: 'TRST'\r\n      },\r\n      {\r\n        name: 'BiLira',\r\n        address: '0x2C537E5624e4af88A7ae4060C022609376C8D0EB',\r\n        symbol: 'TRYB'\r\n      },\r\n      {\r\n        name: 'TrueUSD',\r\n        address: '0x0000000000085d4780B73119b644AE5ecd22b376',\r\n        symbol: 'TUSD'\r\n      },\r\n      {\r\n        name: 'UniBright',\r\n        address: '0x8400D94A5cb0fa0D041a3788e395285d61c9ee5e',\r\n        symbol: 'UBT'\r\n      },\r\n      {\r\n        name: 'UMA Voting Token v1',\r\n        address: '0x04Fa0d235C4abf4BcF4787aF4CF447DE572eF828',\r\n        symbol: 'UMA'\r\n      },\r\n      {\r\n        name: 'Uniswap',\r\n        address: '0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984',\r\n        symbol: 'UNI'\r\n      },\r\n      {\r\n        name: 'PieDAO USD++ Pool',\r\n        address: '0x9A48BD0EC040ea4f1D3147C025cd4076A2e71e3e',\r\n        symbol: 'USD++'\r\n      },\r\n      {\r\n        name: 'USD Coin',\r\n        address: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48',\r\n        symbol: 'USDC'\r\n      },\r\n      {\r\n        name: 'StableUSD',\r\n        address: '0xA4Bdb11dc0a2bEC88d24A3aa1E6Bb17201112eBe',\r\n        symbol: 'USDS'\r\n      },\r\n      {\r\n        name: 'Tether USD',\r\n        address: '0xdAC17F958D2ee523a2206206994597C13D831ec7',\r\n        symbol: 'USDT'\r\n      },\r\n      {\r\n        name: 'Veritaseum',\r\n        address: '0x8f3470A7388c05eE4e7AF3d01D8C722b0FF52374',\r\n        symbol: 'VERI'\r\n      },\r\n      {\r\n        name: 'Wrapped BTC',\r\n        address: '0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599',\r\n        symbol: 'WBTC'\r\n      },\r\n      {\r\n        name: 'Wrapped CryptoKitties',\r\n        address: '0x09fE5f0236F0Ea5D930197DCE254d77B04128075',\r\n        symbol: 'WCK'\r\n      },\r\n      {\r\n        name: 'Wrapped Ether',\r\n        address: '0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2',\r\n        symbol: 'WETH'\r\n      },\r\n      {\r\n        name: 'CryptoFranc',\r\n        address: '0xB4272071eCAdd69d933AdcD19cA99fe80664fc08',\r\n        symbol: 'XCHF'\r\n      },\r\n      {\r\n        name: 'XIO Network',\r\n        address: '0x0f7F961648aE6Db43C75663aC7E5414Eb79b5704',\r\n        symbol: 'XIO'\r\n      },\r\n      {\r\n        name: '0x Protocol Token',\r\n        address: '0xE41d2489571d322189246DaFA5ebDe1F4699F498',\r\n        symbol: 'ZRX'\r\n      },\r\n      {\r\n        name: 'SAI',\r\n        address: '0xc778417E063141139Fce010982780140Aa0cD5Ab',\r\n        symbol: 'SAI'\r\n      },\r\n      {\r\n        name: 'Cream',\r\n        address: '0x2ba592F78dB6436527729929AAf6c908497cB200',\r\n        symbol: 'CREAM'\r\n      }\r\n    ])\r\n    // getTokenList(0).then((tokens: any) => {\r\n    //   console.log(JSON.stringify(tokens))\r\n    //   console.log(tokens)\r\n\r\n    //   setTokenList(tokens)\r\n    // })\r\n  }, [])\r\n\r\n  const { t } = useTranslation()\r\n\r\n  return (\r\n    <DefaultLayout\r\n      css={css`\r\n        max-width: 800px;\r\n        width: 100%;\r\n      `}\r\n    >\r\n      <StyledHeaderWrapper>\r\n        <h1>{t('Tokens')}</h1>\r\n        <TYPE.body marginTop=\"0.5rem\">{t('These are the eligible tokens that can be included in a fund.')}</TYPE.body>\r\n      </StyledHeaderWrapper>\r\n      <TokenList tokens={tokenList} />\r\n    </DefaultLayout>\r\n  )\r\n}\r\n\r\nexport default withRouter(Trades)\r\n","import React, { useContext } from 'react'\r\nimport styled, { css, ThemeContext } from 'styled-components'\r\nimport { Award } from 'react-feather'\r\nimport DefaultLayout from 'src/layouts/default'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\n\r\nconst StyledHeaderWrapper = styled.div`\r\n  padding-bottom: 1.5rem;\r\n`\r\n\r\nconst StyledMyFundsEmptyStateWrapper = styled.div`\r\n  border: ${({ theme }) => `1px solid ${theme.bg3}`};\r\n  border-radius: 1rem;\r\n  display: flex;\r\n  flex-flow: column;\r\n  align-items: center;\r\n  padding: 2.5rem;\r\n  text-align: center;\r\n`\r\n\r\nconst StyledEmptyStateIconWrapper = styled.div`\r\n  background: linear-gradient(135deg, #fdf69a 0%, #95fff1 50%, #9598ff 100%);\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-bottom: 1rem;\r\n  height: 3rem;\r\n  width: 3rem;\r\n`\r\n\r\nconst Leaderboard = ({ history }: RouteComponentProps) => {\r\n  const theme = useContext(ThemeContext)\r\n  return (\r\n    <DefaultLayout\r\n      css={css`\r\n        max-width: 800px;\r\n        width: 100%;\r\n      `}\r\n    >\r\n      <StyledHeaderWrapper>\r\n        <h1>Leaderboard</h1>\r\n      </StyledHeaderWrapper>\r\n      <StyledMyFundsEmptyStateWrapper>\r\n        <StyledEmptyStateIconWrapper>\r\n          <Award color={theme.black} size=\"1.5rem\" />\r\n        </StyledEmptyStateIconWrapper>\r\n        <h2>Leaderboard is coming soon!</h2>\r\n      </StyledMyFundsEmptyStateWrapper>\r\n    </DefaultLayout>\r\n  )\r\n}\r\n\r\nexport default withRouter(Leaderboard)\r\n","import React, { Suspense } from 'react'\r\nimport { css } from '@emotion/core'\r\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport GoogleAnalyticsReporter from './components/analytics/GoogleAnalyticsReporter'\r\nimport Header from './components/Header'\r\nimport { HeaderBanner } from './components/HeaderBanner'\r\nimport Popups from './components/Popups'\r\nimport Web3ReactManager from './components/Web3ReactManager'\r\nimport DarkModeQueryParamReader from './theme/DarkModeQueryParamReader'\r\n// import { ExternalLink } from 'src/theme'\r\n\r\nimport Home from './pages/Home'\r\nimport GroupSwap from './pages/GroupSwap'\r\nimport GroupCreate from './pages/GroupCreate'\r\nimport GroupJoin from './pages/GroupJoin'\r\nimport GroupStart from './pages/GroupStart'\r\nimport GroupAbort from './pages/GroupAbort'\r\nimport GroupAddFunds from './pages/GroupAddFunds'\r\nimport GroupFinish from './pages/GroupFinish'\r\nimport GroupWithdraw from './pages/GroupWithdraw'\r\nimport GroupDetails from './pages/GroupDetails'\r\nimport GroupAddManager from './pages/GroupAddManager'\r\nimport GroupRemoveManager from './pages/GroupRemoveManager'\r\nimport Staking from './pages/Staking'\r\nimport Trades from './pages/Trades'\r\nimport Leaderboard from './pages/Leaderboard'\r\nimport axios from 'axios'\r\n// import { darken } from 'polished'\r\n\r\nconst initConfig = async () => {\r\n  const config = (\r\n    await axios.get('config.json', {\r\n      headers: {\r\n        'Cache-Control': 'no-cache'\r\n      }\r\n    })\r\n  ).data\r\n\r\n  setInterval(async () => {\r\n    const newConfig = (\r\n      await axios.get('config.json', {\r\n        headers: {\r\n          'Cache-Control': 'no-cache'\r\n        }\r\n      })\r\n    ).data\r\n\r\n    if (newConfig.cacheBreaker !== config.cacheBreaker) {\r\n      window.location.reload()\r\n    }\r\n  }, 1 * 60 * 1000)\r\n}\r\n\r\ninitConfig()\r\n\r\nconst AppWrapper = styled.div`\r\n  display: flex;\r\n  flex-flow: column;\r\n  align-items: flex-start;\r\n  overflow-x: hidden;\r\n`\r\n\r\nconst HeaderWrapper = styled.div`\r\n  ${({ theme }) => theme.flexRowNoWrap}\r\n  width: 100%;\r\n  justify-content: space-between;\r\n`\r\n\r\nconst BodyWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  padding: 64px 16px 0;\r\n  align-items: center;\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  z-index: 1;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    padding-top: 48px;\r\n  `};\r\n`\r\n\r\n// const RegistrationLink = styled(ExternalLink)`\r\n//   white-space: nowrap;\r\n//   color: white;\r\n//   padding: 1em 1.5em;\r\n//   border-radius: 2em;\r\n//   text-align: center;\r\n//   text-decoration: none;\r\n//   margin-bottom: 50px;\r\n//   word-spacing: 0.125em;\r\n//   display: grid;\r\n//   grid-gap: 0.5em;\r\n//   font-size: 1.1em;\r\n\r\n//   background-color: ${({ theme }) => theme.primary1};\r\n//   color: white;\r\n//   &:focus {\r\n//     box-shadow: 0 0 0 1pt ${({ theme }) => darken(0.05, theme.primary1)};\r\n//     background-color: ${({ theme }) => darken(0.05, theme.primary1)};\r\n//     text-decoration: none;\r\n//   }\r\n//   &:hover {\r\n//     background-color: ${({ theme }) => darken(0.05, theme.primary1)};\r\n//     text-decoration: none;\r\n//   }\r\n//   &:active {\r\n//     box-shadow: 0 0 0 1pt ${({ theme }) => darken(0.1, theme.primary1)};\r\n//     background-color: ${({ theme }) => darken(0.1, theme.primary1)};\r\n//     text-decoration: none;\r\n//   }\r\n// `\r\n\r\nexport default function App() {\r\n  return (\r\n    <Suspense fallback={null}>\r\n      <Router>\r\n        <Route component={GoogleAnalyticsReporter} />\r\n        <Route component={DarkModeQueryParamReader} />\r\n        <AppWrapper>\r\n          <HeaderWrapper>\r\n            <Header />\r\n          </HeaderWrapper>\r\n          <HeaderBanner\r\n            message=\"Win big in our first trading competition!\"\r\n            linkText=\"Register Now\"\r\n            linkUrl=\"http://bit.ly/ifundrsvp\"\r\n          />\r\n          <BodyWrapper>\r\n            {/* <RegistrationLink href=\"http://bit.ly/ifundrsvp\">\r\n              <div>Unifund Trading Competition</div>\r\n              <div\r\n                css={css`\r\n                  font-size: 1.25em;\r\n                `}\r\n              >\r\n                Early Registration Open Now\r\n              </div>\r\n            </RegistrationLink> */}\r\n            <Popups />\r\n            <Web3ReactManager>\r\n              <Switch>\r\n                <Route exact strict path=\"/group\" component={GroupCreate} />\r\n                <Route exact strict path=\"/group/:id/swap\" component={GroupSwap} />\r\n                <Route exact strict path=\"/group/:id/join\" component={GroupJoin} />\r\n                <Route exact strict path=\"/group/:id/start\" component={GroupStart} />\r\n                <Route exact strict path=\"/group/:id/abort\" component={GroupAbort} />\r\n                <Route exact strict path=\"/group/:id/add-funds\" component={GroupAddFunds} />\r\n                <Route exact strict path=\"/group/:id/finish\" component={GroupFinish} />\r\n                <Route exact strict path=\"/group/:id/withdraw\" component={GroupWithdraw} />\r\n                <Route exact strict path=\"/group/:id/details\" component={GroupDetails} />\r\n                <Route exact strict path=\"/group/:id/add-manager\" component={GroupAddManager} />\r\n                <Route exact strict path=\"/group/:id/remove-manager\" component={GroupRemoveManager} />\r\n                <Route exact strict path=\"/trades\" component={Trades} />\r\n                <Route exact strict path=\"/staking\" component={Staking} />\r\n                <Route exact strict path=\"/leaderboard\" component={Leaderboard} />\r\n                {/* <Route exact strict path=\"/open\" component={Home} />\r\n                <Route exact strict path=\"/closed\" component={Home} /> */}\r\n                <Route component={Home} />\r\n              </Switch>\r\n            </Web3ReactManager>\r\n            <div\r\n              css={css`\r\n                margin-top: 5rem;\r\n              `}\r\n            />\r\n          </BodyWrapper>\r\n        </AppWrapper>\r\n      </Router>\r\n    </Suspense>\r\n  )\r\n}\r\n","import { createReducer, nanoid } from '@reduxjs/toolkit'\r\nimport {\r\n  addPopup,\r\n  PopupContent,\r\n  removePopup,\r\n  toggleWalletModal,\r\n  toggleSettingsMenu,\r\n  updateBlockNumber\r\n} from './actions'\r\n\r\ntype PopupList = Array<{ key: string; show: boolean; content: PopupContent; removeAfterMs: number | null }>\r\n\r\nexport interface ApplicationState {\r\n  blockNumber: { [chainId: number]: number }\r\n  popupList: PopupList\r\n  walletModalOpen: boolean\r\n  settingsMenuOpen: boolean\r\n}\r\n\r\nconst initialState: ApplicationState = {\r\n  blockNumber: {},\r\n  popupList: [],\r\n  walletModalOpen: false,\r\n  settingsMenuOpen: false\r\n}\r\n\r\nexport default createReducer(initialState, builder =>\r\n  builder\r\n    .addCase(updateBlockNumber, (state, action) => {\r\n      const { chainId, blockNumber } = action.payload\r\n      if (typeof state.blockNumber[chainId] !== 'number') {\r\n        state.blockNumber[chainId] = blockNumber\r\n      } else {\r\n        state.blockNumber[chainId] = Math.max(blockNumber, state.blockNumber[chainId])\r\n      }\r\n    })\r\n    .addCase(toggleWalletModal, state => {\r\n      state.walletModalOpen = !state.walletModalOpen\r\n    })\r\n    .addCase(toggleSettingsMenu, state => {\r\n      state.settingsMenuOpen = !state.settingsMenuOpen\r\n    })\r\n    .addCase(addPopup, (state, { payload: { content, key, removeAfterMs = 15000 } }) => {\r\n      state.popupList = (key ? state.popupList.filter(popup => popup.key !== key) : state.popupList).concat([\r\n        {\r\n          key: key || nanoid(),\r\n          show: true,\r\n          content,\r\n          removeAfterMs\r\n        }\r\n      ])\r\n    })\r\n    .addCase(removePopup, (state, { payload: { key } }) => {\r\n      state.popupList.forEach(p => {\r\n        if (p.key === key) {\r\n          p.show = false\r\n        }\r\n      })\r\n    })\r\n)\r\n","import { createAction } from '@reduxjs/toolkit'\r\n\r\n// fired once when the app reloads but before the app renders\r\n// allows any updates to be applied to store data loaded from localStorage\r\nexport const updateVersion = createAction<void>('global/updateVersion')\r\n","import { INITIAL_ALLOWED_SLIPPAGE, DEFAULT_DEADLINE_FROM_NOW } from '../../constants'\r\nimport { createReducer } from '@reduxjs/toolkit'\r\nimport { updateVersion } from '../global/actions'\r\nimport {\r\n  addSerializedPair,\r\n  addSerializedToken,\r\n  removeSerializedPair,\r\n  removeSerializedToken,\r\n  SerializedPair,\r\n  SerializedToken,\r\n  updateMatchesDarkMode,\r\n  updateUserDarkMode,\r\n  updateUserExpertMode,\r\n  updateUserSlippageTolerance,\r\n  updateUserDeadline\r\n} from './actions'\r\n\r\nconst currentTimestamp = () => new Date().getTime()\r\n\r\nexport interface UserState {\r\n  // the timestamp of the last updateVersion action\r\n  lastUpdateVersionTimestamp?: number\r\n\r\n  userDarkMode: boolean | null // the user's choice for dark mode or light mode\r\n  matchesDarkMode: boolean // whether the dark mode media query matches\r\n\r\n  userExpertMode: boolean\r\n\r\n  // user defined slippage tolerance in bips, used in all txns\r\n  userSlippageTolerance: number\r\n\r\n  // deadline set by user in minutes, used in all txns\r\n  userDeadline: number\r\n\r\n  tokens: {\r\n    [chainId: number]: {\r\n      [address: string]: SerializedToken\r\n    }\r\n  }\r\n\r\n  pairs: {\r\n    [chainId: number]: {\r\n      // keyed by token0Address:token1Address\r\n      [key: string]: SerializedPair\r\n    }\r\n  }\r\n\r\n  timestamp: number\r\n}\r\n\r\nfunction pairKey(token0Address: string, token1Address: string) {\r\n  return `${token0Address};${token1Address}`\r\n}\r\n\r\nexport const initialState: UserState = {\r\n  userDarkMode: true,\r\n  matchesDarkMode: false,\r\n  userExpertMode: true,\r\n  userSlippageTolerance: INITIAL_ALLOWED_SLIPPAGE,\r\n  userDeadline: DEFAULT_DEADLINE_FROM_NOW,\r\n  tokens: {},\r\n  pairs: {},\r\n  timestamp: currentTimestamp()\r\n}\r\n\r\nexport default createReducer(initialState, builder =>\r\n  builder\r\n    .addCase(updateVersion, state => {\r\n      // slippage isnt being tracked in local storage, reset to default\r\n      // noinspection SuspiciousTypeOfGuard\r\n      if (typeof state.userSlippageTolerance !== 'number') {\r\n        state.userSlippageTolerance = INITIAL_ALLOWED_SLIPPAGE\r\n      }\r\n\r\n      // deadline isnt being tracked in local storage, reset to default\r\n      // noinspection SuspiciousTypeOfGuard\r\n      if (typeof state.userDeadline !== 'number') {\r\n        state.userDeadline = DEFAULT_DEADLINE_FROM_NOW\r\n      }\r\n\r\n      state.lastUpdateVersionTimestamp = currentTimestamp()\r\n    })\r\n    .addCase(updateUserDarkMode, (state, action) => {\r\n      state.userDarkMode = action.payload.userDarkMode\r\n      state.timestamp = currentTimestamp()\r\n    })\r\n    .addCase(updateMatchesDarkMode, (state, action) => {\r\n      state.matchesDarkMode = action.payload.matchesDarkMode\r\n      state.timestamp = currentTimestamp()\r\n    })\r\n    .addCase(updateUserExpertMode, (state, action) => {\r\n      state.userExpertMode = action.payload.userExpertMode\r\n      state.timestamp = currentTimestamp()\r\n    })\r\n    .addCase(updateUserSlippageTolerance, (state, action) => {\r\n      state.userSlippageTolerance = action.payload.userSlippageTolerance\r\n      state.timestamp = currentTimestamp()\r\n    })\r\n    .addCase(updateUserDeadline, (state, action) => {\r\n      state.userDeadline = action.payload.userDeadline\r\n      state.timestamp = currentTimestamp()\r\n    })\r\n    .addCase(addSerializedToken, (state, { payload: { serializedToken } }) => {\r\n      state.tokens[serializedToken.chainId] = state.tokens[serializedToken.chainId] || {}\r\n      state.tokens[serializedToken.chainId][serializedToken.address] = serializedToken\r\n      state.timestamp = currentTimestamp()\r\n    })\r\n    .addCase(removeSerializedToken, (state, { payload: { address, chainId } }) => {\r\n      state.tokens[chainId] = state.tokens[chainId] || {}\r\n      delete state.tokens[chainId][address]\r\n      state.timestamp = currentTimestamp()\r\n    })\r\n    .addCase(addSerializedPair, (state, { payload: { serializedPair } }) => {\r\n      if (\r\n        serializedPair.token0.chainId === serializedPair.token1.chainId &&\r\n        serializedPair.token0.address !== serializedPair.token1.address\r\n      ) {\r\n        const chainId = serializedPair.token0.chainId\r\n        state.pairs[chainId] = state.pairs[chainId] || {}\r\n        state.pairs[chainId][pairKey(serializedPair.token0.address, serializedPair.token1.address)] = serializedPair\r\n      }\r\n      state.timestamp = currentTimestamp()\r\n    })\r\n    .addCase(removeSerializedPair, (state, { payload: { chainId, tokenAAddress, tokenBAddress } }) => {\r\n      if (state.pairs[chainId]) {\r\n        // just delete both keys if either exists\r\n        delete state.pairs[chainId][pairKey(tokenAAddress, tokenBAddress)]\r\n        delete state.pairs[chainId][pairKey(tokenBAddress, tokenAAddress)]\r\n      }\r\n      state.timestamp = currentTimestamp()\r\n    })\r\n)\r\n","import { createAction } from '@reduxjs/toolkit'\r\n\r\nexport enum Field {\r\n  CURRENCY_A = 'CURRENCY_A',\r\n  CURRENCY_B = 'CURRENCY_B'\r\n}\r\n\r\nexport const typeInput = createAction<{ field: Field; typedValue: string; noLiquidity: boolean }>('mint/typeInputMint')\r\nexport const resetMintState = createAction<void>('mint/resetMintState')\r\n","import { createReducer } from '@reduxjs/toolkit'\r\nimport {\r\n  addTransaction,\r\n  checkedTransaction,\r\n  clearAllTransactions,\r\n  finalizeTransaction,\r\n  SerializableTransactionReceipt\r\n} from './actions'\r\n\r\nconst now = () => new Date().getTime()\r\n\r\nexport interface TransactionDetails {\r\n  hash: string\r\n  approval?: { tokenAddress: string; spender: string }\r\n  summary?: string\r\n  receipt?: SerializableTransactionReceipt\r\n  lastCheckedBlockNumber?: number\r\n  addedTime: number\r\n  confirmedTime?: number\r\n  from: string\r\n}\r\n\r\nexport interface TransactionState {\r\n  [chainId: number]: {\r\n    [txHash: string]: TransactionDetails\r\n  }\r\n}\r\n\r\nexport const initialState: TransactionState = {}\r\n\r\nexport default createReducer(initialState, builder =>\r\n  builder\r\n    .addCase(addTransaction, (transactions, { payload: { chainId, from, hash, approval, summary } }) => {\r\n      if (transactions[chainId]?.[hash]) {\r\n        throw Error('Attempted to add existing transaction.')\r\n      }\r\n      const txs = transactions[chainId] ?? {}\r\n      txs[hash] = { hash, approval, summary, from, addedTime: now() }\r\n      transactions[chainId] = txs\r\n    })\r\n    .addCase(clearAllTransactions, (transactions, { payload: { chainId } }) => {\r\n      if (!transactions[chainId]) return\r\n      transactions[chainId] = {}\r\n    })\r\n    .addCase(checkedTransaction, (transactions, { payload: { chainId, hash, blockNumber } }) => {\r\n      const tx = transactions[chainId]?.[hash]\r\n      if (!tx) {\r\n        return\r\n      }\r\n      if (!tx.lastCheckedBlockNumber) {\r\n        tx.lastCheckedBlockNumber = blockNumber\r\n      } else {\r\n        tx.lastCheckedBlockNumber = Math.max(blockNumber, tx.lastCheckedBlockNumber)\r\n      }\r\n    })\r\n    .addCase(finalizeTransaction, (transactions, { payload: { hash, chainId, receipt } }) => {\r\n      const tx = transactions[chainId]?.[hash]\r\n      if (!tx) {\r\n        return\r\n      }\r\n      tx.receipt = receipt\r\n      tx.confirmedTime = now()\r\n    })\r\n)\r\n","import { createReducer } from '@reduxjs/toolkit'\r\nimport { Field, replaceSwapState, selectCurrency, setRecipient, switchCurrencies, typeInput } from './actions'\r\n\r\nexport interface SwapState {\r\n  readonly independentField: Field\r\n  readonly typedValue: string\r\n  readonly [Field.INPUT]: {\r\n    readonly currencyId: string | undefined\r\n  }\r\n  readonly [Field.OUTPUT]: {\r\n    readonly currencyId: string | undefined\r\n  }\r\n  // the typed recipient address or ENS name, or null if swap should go to sender\r\n  readonly recipient: string | null\r\n}\r\n\r\nconst initialState: SwapState = {\r\n  independentField: Field.INPUT,\r\n  typedValue: '',\r\n  [Field.INPUT]: {\r\n    currencyId: ''\r\n  },\r\n  [Field.OUTPUT]: {\r\n    currencyId: ''\r\n  },\r\n  recipient: null\r\n}\r\n\r\nexport default createReducer<SwapState>(initialState, builder =>\r\n  builder\r\n    .addCase(\r\n      replaceSwapState,\r\n      (state, { payload: { typedValue, recipient, field, inputCurrencyId, outputCurrencyId } }) => {\r\n        return {\r\n          [Field.INPUT]: {\r\n            currencyId: inputCurrencyId\r\n          },\r\n          [Field.OUTPUT]: {\r\n            currencyId: outputCurrencyId\r\n          },\r\n          independentField: field,\r\n          typedValue: typedValue,\r\n          recipient\r\n        }\r\n      }\r\n    )\r\n    .addCase(selectCurrency, (state, { payload: { currencyId, field } }) => {\r\n      const otherField = field === Field.INPUT ? Field.OUTPUT : Field.INPUT\r\n      if (currencyId === state[otherField].currencyId) {\r\n        // the case where we have to swap the order\r\n        return {\r\n          ...state,\r\n          independentField: state.independentField === Field.INPUT ? Field.OUTPUT : Field.INPUT,\r\n          [field]: { currencyId: currencyId },\r\n          [otherField]: { currencyId: state[field].currencyId }\r\n        }\r\n      } else {\r\n        // the normal case\r\n        return {\r\n          ...state,\r\n          [field]: { currencyId: currencyId }\r\n        }\r\n      }\r\n    })\r\n    .addCase(switchCurrencies, state => {\r\n      return {\r\n        ...state,\r\n        independentField: state.independentField === Field.INPUT ? Field.OUTPUT : Field.INPUT,\r\n        [Field.INPUT]: { currencyId: state[Field.OUTPUT].currencyId },\r\n        [Field.OUTPUT]: { currencyId: state[Field.INPUT].currencyId }\r\n      }\r\n    })\r\n    .addCase(typeInput, (state, { payload: { field, typedValue } }) => {\r\n      return {\r\n        ...state,\r\n        independentField: field,\r\n        typedValue\r\n      }\r\n    })\r\n    .addCase(setRecipient, (state, { payload: { recipient } }) => {\r\n      state.recipient = recipient\r\n    })\r\n)\r\n","import { createAction } from '@reduxjs/toolkit'\r\n\r\nexport enum Field {\r\n  LIQUIDITY_PERCENT = 'LIQUIDITY_PERCENT',\r\n  LIQUIDITY = 'LIQUIDITY',\r\n  CURRENCY_A = 'CURRENCY_A',\r\n  CURRENCY_B = 'CURRENCY_B'\r\n}\r\n\r\nexport const typeInput = createAction<{ field: Field; typedValue: string }>('burn/typeInputBurn')\r\n","import { createReducer } from '@reduxjs/toolkit'\r\nimport { Field, resetMintState, typeInput } from './actions'\r\n\r\nexport interface MintState {\r\n  readonly independentField: Field\r\n  readonly typedValue: string\r\n  readonly otherTypedValue: string // for the case when there's no liquidity\r\n}\r\n\r\nconst initialState: MintState = {\r\n  independentField: Field.CURRENCY_A,\r\n  typedValue: '',\r\n  otherTypedValue: ''\r\n}\r\n\r\nexport default createReducer<MintState>(initialState, builder =>\r\n  builder\r\n    .addCase(resetMintState, () => initialState)\r\n    .addCase(typeInput, (state, { payload: { field, typedValue, noLiquidity } }) => {\r\n      if (noLiquidity) {\r\n        // they're typing into the field they've last typed in\r\n        if (field === state.independentField) {\r\n          return {\r\n            ...state,\r\n            independentField: field,\r\n            typedValue\r\n          }\r\n        }\r\n        // they're typing into a new field, store the other value\r\n        else {\r\n          return {\r\n            ...state,\r\n            independentField: field,\r\n            typedValue,\r\n            otherTypedValue: state.typedValue\r\n          }\r\n        }\r\n      } else {\r\n        return {\r\n          ...state,\r\n          independentField: field,\r\n          typedValue,\r\n          otherTypedValue: ''\r\n        }\r\n      }\r\n    })\r\n)\r\n","import { createReducer } from '@reduxjs/toolkit'\r\nimport { Field, typeInput } from './actions'\r\n\r\nexport interface BurnState {\r\n  readonly independentField: Field\r\n  readonly typedValue: string\r\n}\r\n\r\nconst initialState: BurnState = {\r\n  independentField: Field.LIQUIDITY_PERCENT,\r\n  typedValue: '0'\r\n}\r\n\r\nexport default createReducer<BurnState>(initialState, builder =>\r\n  builder.addCase(typeInput, (state, { payload: { field, typedValue } }) => {\r\n    return {\r\n      ...state,\r\n      independentField: field,\r\n      typedValue\r\n    }\r\n  })\r\n)\r\n","import { createReducer } from '@reduxjs/toolkit'\r\nimport {\r\n  addMulticallListeners,\r\n  errorFetchingMulticallResults,\r\n  fetchingMulticallResults,\r\n  removeMulticallListeners,\r\n  toCallKey,\r\n  updateMulticallResults\r\n} from './actions'\r\n\r\nexport interface MulticallState {\r\n  callListeners?: {\r\n    // on a per-chain basis\r\n    [chainId: number]: {\r\n      // stores for each call key the listeners' preferences\r\n      [callKey: string]: {\r\n        // stores how many listeners there are per each blocks per fetch preference\r\n        [blocksPerFetch: number]: number\r\n      }\r\n    }\r\n  }\r\n\r\n  callResults: {\r\n    [chainId: number]: {\r\n      [callKey: string]: {\r\n        data?: string | null\r\n        blockNumber?: number\r\n        fetchingBlockNumber?: number\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nconst initialState: MulticallState = {\r\n  callResults: {}\r\n}\r\n\r\nexport default createReducer(initialState, builder =>\r\n  builder\r\n    .addCase(addMulticallListeners, (state, { payload: { calls, chainId, options: { blocksPerFetch = 1 } = {} } }) => {\r\n      const listeners: MulticallState['callListeners'] = state.callListeners\r\n        ? state.callListeners\r\n        : (state.callListeners = {})\r\n      listeners[chainId] = listeners[chainId] ?? {}\r\n      calls.forEach(call => {\r\n        const callKey = toCallKey(call)\r\n        listeners[chainId][callKey] = listeners[chainId][callKey] ?? {}\r\n        listeners[chainId][callKey][blocksPerFetch] = (listeners[chainId][callKey][blocksPerFetch] ?? 0) + 1\r\n      })\r\n    })\r\n    .addCase(\r\n      removeMulticallListeners,\r\n      (state, { payload: { chainId, calls, options: { blocksPerFetch = 1 } = {} } }) => {\r\n        const listeners: MulticallState['callListeners'] = state.callListeners\r\n          ? state.callListeners\r\n          : (state.callListeners = {})\r\n\r\n        if (!listeners[chainId]) return\r\n        calls.forEach(call => {\r\n          const callKey = toCallKey(call)\r\n          if (!listeners[chainId][callKey]) return\r\n          if (!listeners[chainId][callKey][blocksPerFetch]) return\r\n\r\n          if (listeners[chainId][callKey][blocksPerFetch] === 1) {\r\n            delete listeners[chainId][callKey][blocksPerFetch]\r\n          } else {\r\n            listeners[chainId][callKey][blocksPerFetch]--\r\n          }\r\n        })\r\n      }\r\n    )\r\n    .addCase(fetchingMulticallResults, (state, { payload: { chainId, fetchingBlockNumber, calls } }) => {\r\n      state.callResults[chainId] = state.callResults[chainId] ?? {}\r\n      calls.forEach(call => {\r\n        const callKey = toCallKey(call)\r\n        const current = state.callResults[chainId][callKey]\r\n        if (!current) {\r\n          state.callResults[chainId][callKey] = {\r\n            fetchingBlockNumber\r\n          }\r\n        } else {\r\n          if ((current.fetchingBlockNumber ?? 0) >= fetchingBlockNumber) return\r\n          state.callResults[chainId][callKey].fetchingBlockNumber = fetchingBlockNumber\r\n        }\r\n      })\r\n    })\r\n    .addCase(errorFetchingMulticallResults, (state, { payload: { fetchingBlockNumber, chainId, calls } }) => {\r\n      state.callResults[chainId] = state.callResults[chainId] ?? {}\r\n      calls.forEach(call => {\r\n        const callKey = toCallKey(call)\r\n        const current = state.callResults[chainId][callKey]\r\n        if (!current) return // only should be dispatched if we are already fetching\r\n        if (current.fetchingBlockNumber === fetchingBlockNumber) {\r\n          delete current.fetchingBlockNumber\r\n          current.data = null\r\n          current.blockNumber = fetchingBlockNumber\r\n        }\r\n      })\r\n    })\r\n    .addCase(updateMulticallResults, (state, { payload: { chainId, results, blockNumber } }) => {\r\n      state.callResults[chainId] = state.callResults[chainId] ?? {}\r\n      Object.keys(results).forEach(callKey => {\r\n        const current = state.callResults[chainId][callKey]\r\n        if ((current?.blockNumber ?? 0) > blockNumber) return\r\n        state.callResults[chainId][callKey] = {\r\n          data: results[callKey],\r\n          blockNumber\r\n        }\r\n      })\r\n    })\r\n)\r\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit'\r\nimport { save, load } from 'redux-localstorage-simple'\r\n\r\nimport application from './application/reducer'\r\nimport { updateVersion } from './global/actions'\r\nimport user from './user/reducer'\r\nimport transactions from './transactions/reducer'\r\nimport swap from './swap/reducer'\r\nimport mint from './mint/reducer'\r\nimport burn from './burn/reducer'\r\nimport multicall from './multicall/reducer'\r\n\r\nconst PERSISTED_KEYS: string[] = ['user', 'transactions', 'lists']\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    application,\r\n    user,\r\n    transactions,\r\n    swap,\r\n    mint,\r\n    burn,\r\n    multicall\r\n  },\r\n  middleware: [...getDefaultMiddleware({ thunk: false }), save({ states: PERSISTED_KEYS })],\r\n  preloadedState: load({ states: PERSISTED_KEYS })\r\n})\r\n\r\nstore.dispatch(updateVersion())\r\n\r\nexport default store\r\n\r\nexport type AppState = ReturnType<typeof store.getState>\r\nexport type AppDispatch = typeof store.dispatch\r\n","import { useCallback, useEffect, useState } from 'react'\r\n\r\nconst VISIBILITY_STATE_SUPPORTED = 'visibilityState' in document\r\n\r\nfunction isWindowVisible() {\r\n  return !VISIBILITY_STATE_SUPPORTED || document.visibilityState !== 'hidden'\r\n}\r\n\r\n/**\r\n * Returns whether the window is currently visible to the user.\r\n */\r\nexport default function useIsWindowVisible(): boolean {\r\n  const [focused, setFocused] = useState<boolean>(isWindowVisible())\r\n  const listener = useCallback(() => {\r\n    setFocused(isWindowVisible())\r\n  }, [setFocused])\r\n\r\n  useEffect(() => {\r\n    if (!VISIBILITY_STATE_SUPPORTED) return undefined\r\n\r\n    document.addEventListener('visibilitychange', listener)\r\n    return () => {\r\n      document.removeEventListener('visibilitychange', listener)\r\n    }\r\n  }, [listener])\r\n\r\n  return focused\r\n}\r\n","import { useCallback, useEffect, useState } from 'react'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport useDebounce from '../../hooks/useDebounce'\r\nimport useIsWindowVisible from '../../hooks/useIsWindowVisible'\r\nimport { updateBlockNumber } from './actions'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nexport default function Updater(): null {\r\n  const { library, chainId } = useActiveWeb3React()\r\n  const dispatch = useDispatch()\r\n\r\n  const windowVisible = useIsWindowVisible()\r\n\r\n  const [state, setState] = useState<{ chainId: number | undefined; blockNumber: number | null }>({\r\n    chainId,\r\n    blockNumber: null\r\n  })\r\n\r\n  const blockNumberCallback = useCallback(\r\n    (blockNumber: number) => {\r\n      setState(state => {\r\n        if (chainId === state.chainId) {\r\n          if (typeof state.blockNumber !== 'number') return { chainId, blockNumber }\r\n          return { chainId, blockNumber: Math.max(blockNumber, state.blockNumber) }\r\n        }\r\n        return state\r\n      })\r\n    },\r\n    [chainId, setState]\r\n  )\r\n\r\n  // attach/detach listeners\r\n  useEffect(() => {\r\n    if (!library || !chainId || !windowVisible) return undefined\r\n\r\n    setState({ chainId, blockNumber: null })\r\n\r\n    library\r\n      .getBlockNumber()\r\n      .then(blockNumberCallback)\r\n      .catch(error => console.error(`Failed to get block number for chainId: ${chainId}`, error))\r\n\r\n    library.on('block', blockNumberCallback)\r\n    return () => {\r\n      library.removeListener('block', blockNumberCallback)\r\n    }\r\n  }, [dispatch, chainId, library, blockNumberCallback, windowVisible])\r\n\r\n  const debouncedState = useDebounce(state, 100)\r\n\r\n  useEffect(() => {\r\n    if (!debouncedState.chainId || !debouncedState.blockNumber || !windowVisible) return\r\n    dispatch(updateBlockNumber({ chainId: debouncedState.chainId, blockNumber: debouncedState.blockNumber }))\r\n  }, [windowVisible, dispatch, debouncedState.blockNumber, debouncedState.chainId])\r\n\r\n  return null\r\n}\r\n","function wait(ms: number): Promise<void> {\r\n  return new Promise(resolve => setTimeout(resolve, ms))\r\n}\r\n\r\nfunction waitRandom(min: number, max: number): Promise<void> {\r\n  return wait(min + Math.round(Math.random() * Math.max(0, max - min)))\r\n}\r\n\r\n/**\r\n * This error is thrown if the function is cancelled before completing\r\n */\r\nexport class CancelledError extends Error {\r\n  constructor() {\r\n    super('Cancelled')\r\n  }\r\n}\r\n\r\n/**\r\n * Throw this error if the function should retry\r\n */\r\nexport class RetryableError extends Error {}\r\n\r\n/**\r\n * Retries the function that returns the promise until the promise successfully resolves up to n retries\r\n * @param fn function to retry\r\n * @param n how many times to retry\r\n * @param minWait min wait between retries in ms\r\n * @param maxWait max wait between retries in ms\r\n */\r\nexport function retry<T>(\r\n  fn: () => Promise<T>,\r\n  { n, minWait, maxWait }: { n: number; minWait: number; maxWait: number }\r\n): { promise: Promise<T>; cancel: () => void } {\r\n  let completed = false\r\n  let rejectCancelled: (error: Error) => void\r\n  const promise = new Promise<T>(async (resolve, reject) => {\r\n    rejectCancelled = reject\r\n    while (true) {\r\n      let result: T\r\n      try {\r\n        result = await fn()\r\n        if (!completed) {\r\n          resolve(result)\r\n          completed = true\r\n        }\r\n        break\r\n      } catch (error) {\r\n        if (completed) {\r\n          break\r\n        }\r\n        if (n <= 0 || !(error instanceof RetryableError)) {\r\n          reject(error)\r\n          completed = true\r\n          break\r\n        }\r\n        n--\r\n      }\r\n      await waitRandom(minWait, maxWait)\r\n    }\r\n  })\r\n  return {\r\n    promise,\r\n    cancel: () => {\r\n      if (completed) return\r\n      completed = true\r\n      rejectCancelled(new CancelledError())\r\n    }\r\n  }\r\n}\r\n","import { Contract } from '@ethersproject/contracts'\r\nimport { useEffect, useMemo, useRef } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { useMulticallContract } from '../../hooks/useContract'\r\nimport useDebounce from '../../hooks/useDebounce'\r\nimport chunkArray from '../../utils/chunkArray'\r\nimport { CancelledError, retry, RetryableError } from '../../utils/retry'\r\nimport { useBlockNumber } from '../application/hooks'\r\nimport { AppDispatch, AppState } from '../index'\r\nimport {\r\n  Call,\r\n  errorFetchingMulticallResults,\r\n  fetchingMulticallResults,\r\n  parseCallKey,\r\n  updateMulticallResults\r\n} from './actions'\r\n\r\n// chunk calls so we do not exceed the gas limit\r\nconst CALL_CHUNK_SIZE = 500\r\n\r\n/**\r\n * Fetches a chunk of calls, enforcing a minimum block number constraint\r\n * @param multicallContract multicall contract to fetch against\r\n * @param chunk chunk of calls to make\r\n * @param minBlockNumber minimum block number of the result set\r\n */\r\nasync function fetchChunk(\r\n  multicallContract: Contract,\r\n  chunk: Call[],\r\n  minBlockNumber: number\r\n): Promise<{ results: string[]; blockNumber: number }> {\r\n  console.debug('Fetching chunk', multicallContract, chunk, minBlockNumber)\r\n  let resultsBlockNumber, returnData\r\n  try {\r\n    console.debug('multicallContract.aggregate', chunk)\r\n    ;[resultsBlockNumber, returnData] = await multicallContract.aggregate(chunk.map(obj => [obj.address, obj.callData]))\r\n  } catch (error) {\r\n    console.debug('Failed to fetch chunk inside retry', error)\r\n    throw error\r\n  }\r\n  if (resultsBlockNumber.toNumber() < minBlockNumber) {\r\n    console.debug(`Fetched results for old block number: ${resultsBlockNumber.toString()} vs. ${minBlockNumber}`)\r\n    throw new RetryableError('Fetched for old block number')\r\n  }\r\n  return { results: returnData, blockNumber: resultsBlockNumber.toNumber() }\r\n}\r\n\r\n/**\r\n * From the current all listeners state, return each call key mapped to the\r\n * minimum number of blocks per fetch. This is how often each key must be fetched.\r\n * @param allListeners the all listeners state\r\n * @param chainId the current chain id\r\n */\r\nexport function activeListeningKeys(\r\n  allListeners: AppState['multicall']['callListeners'],\r\n  chainId?: number\r\n): { [callKey: string]: number } {\r\n  if (!allListeners || !chainId) return {}\r\n  const listeners = allListeners[chainId]\r\n  if (!listeners) return {}\r\n\r\n  return Object.keys(listeners).reduce<{ [callKey: string]: number }>((memo, callKey) => {\r\n    const keyListeners = listeners[callKey]\r\n\r\n    memo[callKey] = Object.keys(keyListeners)\r\n      .filter(key => {\r\n        const blocksPerFetch = parseInt(key)\r\n        if (blocksPerFetch <= 0) return false\r\n        return keyListeners[blocksPerFetch] > 0\r\n      })\r\n      .reduce((previousMin, current) => {\r\n        return Math.min(previousMin, parseInt(current))\r\n      }, Infinity)\r\n    return memo\r\n  }, {})\r\n}\r\n\r\n/**\r\n * Return the keys that need to be refetched\r\n * @param callResults current call result state\r\n * @param listeningKeys each call key mapped to how old the data can be in blocks\r\n * @param chainId the current chain id\r\n * @param latestBlockNumber the latest block number\r\n */\r\nexport function outdatedListeningKeys(\r\n  callResults: AppState['multicall']['callResults'],\r\n  listeningKeys: { [callKey: string]: number },\r\n  chainId: number | undefined,\r\n  latestBlockNumber: number | undefined\r\n): string[] {\r\n  if (!chainId || !latestBlockNumber) return []\r\n  const results = callResults[chainId]\r\n  // no results at all, load everything\r\n  if (!results) return Object.keys(listeningKeys)\r\n\r\n  return Object.keys(listeningKeys).filter(callKey => {\r\n    const blocksPerFetch = listeningKeys[callKey]\r\n\r\n    const data = callResults[chainId][callKey]\r\n    // no data, must fetch\r\n    if (!data) return true\r\n\r\n    const minDataBlockNumber = latestBlockNumber - (blocksPerFetch - 1)\r\n\r\n    // already fetching it for a recent enough block, don't refetch it\r\n    if (data.fetchingBlockNumber && data.fetchingBlockNumber >= minDataBlockNumber) return false\r\n\r\n    // if data is older than minDataBlockNumber, fetch it\r\n    return !data.blockNumber || data.blockNumber < minDataBlockNumber\r\n  })\r\n}\r\n\r\nexport default function Updater(): null {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const state = useSelector<AppState, AppState['multicall']>(state => state.multicall)\r\n  // wait for listeners to settle before triggering updates\r\n  const debouncedListeners = useDebounce(state.callListeners, 100)\r\n  const latestBlockNumber = useBlockNumber()\r\n  const { chainId } = useActiveWeb3React()\r\n  const multicallContract = useMulticallContract()\r\n  const cancellations = useRef<{ blockNumber: number; cancellations: (() => void)[] }>()\r\n\r\n  const listeningKeys: { [callKey: string]: number } = useMemo(() => {\r\n    return activeListeningKeys(debouncedListeners, chainId)\r\n  }, [debouncedListeners, chainId])\r\n\r\n  const unserializedOutdatedCallKeys = useMemo(() => {\r\n    return outdatedListeningKeys(state.callResults, listeningKeys, chainId, latestBlockNumber)\r\n  }, [chainId, state.callResults, listeningKeys, latestBlockNumber])\r\n\r\n  const serializedOutdatedCallKeys = useMemo(() => JSON.stringify(unserializedOutdatedCallKeys.sort()), [\r\n    unserializedOutdatedCallKeys\r\n  ])\r\n\r\n  useEffect(() => {\r\n    if (!latestBlockNumber || !chainId || !multicallContract) return\r\n\r\n    const outdatedCallKeys: string[] = JSON.parse(serializedOutdatedCallKeys)\r\n    if (outdatedCallKeys.length === 0) return\r\n    const calls = outdatedCallKeys.map(key => parseCallKey(key))\r\n\r\n    const chunkedCalls = chunkArray(calls, CALL_CHUNK_SIZE)\r\n\r\n    if (cancellations.current?.blockNumber !== latestBlockNumber) {\r\n      cancellations.current?.cancellations?.forEach(c => c())\r\n    }\r\n\r\n    dispatch(\r\n      fetchingMulticallResults({\r\n        calls,\r\n        chainId,\r\n        fetchingBlockNumber: latestBlockNumber\r\n      })\r\n    )\r\n\r\n    cancellations.current = {\r\n      blockNumber: latestBlockNumber,\r\n      cancellations: chunkedCalls.map((chunk, index) => {\r\n        const { cancel, promise } = retry(() => fetchChunk(multicallContract, chunk, latestBlockNumber), {\r\n          n: Infinity,\r\n          minWait: 2500,\r\n          maxWait: 3500\r\n        })\r\n        promise\r\n          .then(({ results: returnData, blockNumber: fetchBlockNumber }) => {\r\n            cancellations.current = { cancellations: [], blockNumber: latestBlockNumber }\r\n\r\n            // accumulates the length of all previous indices\r\n            const firstCallKeyIndex = chunkedCalls.slice(0, index).reduce<number>((memo, curr) => memo + curr.length, 0)\r\n            const lastCallKeyIndex = firstCallKeyIndex + returnData.length\r\n\r\n            dispatch(\r\n              updateMulticallResults({\r\n                chainId,\r\n                results: outdatedCallKeys\r\n                  .slice(firstCallKeyIndex, lastCallKeyIndex)\r\n                  .reduce<{ [callKey: string]: string | null }>((memo, callKey, i) => {\r\n                    memo[callKey] = returnData[i] ?? null\r\n                    return memo\r\n                  }, {}),\r\n                blockNumber: fetchBlockNumber\r\n              })\r\n            )\r\n          })\r\n          .catch((error: any) => {\r\n            if (error instanceof CancelledError) {\r\n              console.debug('Cancelled fetch for blockNumber', latestBlockNumber)\r\n              return\r\n            }\r\n            console.error('Failed to fetch multicall chunk', chunk, chainId, error)\r\n            dispatch(\r\n              errorFetchingMulticallResults({\r\n                calls: chunk,\r\n                chainId,\r\n                fetchingBlockNumber: latestBlockNumber\r\n              })\r\n            )\r\n          })\r\n        return cancel\r\n      })\r\n    }\r\n  }, [chainId, multicallContract, dispatch, serializedOutdatedCallKeys, latestBlockNumber])\r\n\r\n  return null\r\n}\r\n","// chunks array into chunks of maximum size\r\n// evenly distributes items among the chunks\r\nexport default function chunkArray<T>(items: T[], maxChunkSize: number): T[][] {\r\n  if (maxChunkSize < 1) throw new Error('maxChunkSize must be gte 1')\r\n  if (items.length <= maxChunkSize) return [items]\r\n\r\n  const numChunks: number = Math.ceil(items.length / maxChunkSize)\r\n  const chunkSize = Math.ceil(items.length / numChunks)\r\n\r\n  return [...Array(numChunks).keys()].map(ix => items.slice(ix * chunkSize, ix * chunkSize + chunkSize))\r\n}\r\n","import { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { useAddPopup, useBlockNumber } from '../application/hooks'\r\nimport { AppDispatch, AppState } from '../index'\r\nimport { checkedTransaction, finalizeTransaction } from './actions'\r\n\r\nexport function shouldCheck(\r\n  lastBlockNumber: number,\r\n  tx: { addedTime: number; receipt?: {}; lastCheckedBlockNumber?: number }\r\n): boolean {\r\n  if (tx.receipt) return false\r\n  if (!tx.lastCheckedBlockNumber) return true\r\n  const blocksSinceCheck = lastBlockNumber - tx.lastCheckedBlockNumber\r\n  if (blocksSinceCheck < 1) return false\r\n  const minutesPending = (new Date().getTime() - tx.addedTime) / 1000 / 60\r\n  if (minutesPending > 60) {\r\n    // every 10 blocks if pending for longer than an hour\r\n    return blocksSinceCheck > 9\r\n  } else if (minutesPending > 5) {\r\n    // every 3 blocks if pending more than 5 minutes\r\n    return blocksSinceCheck > 2\r\n  } else {\r\n    // otherwise every block\r\n    return true\r\n  }\r\n}\r\n\r\nexport default function Updater(): null {\r\n  const { chainId, library } = useActiveWeb3React()\r\n\r\n  const lastBlockNumber = useBlockNumber()\r\n\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const state = useSelector<AppState, AppState['transactions']>(state => state.transactions)\r\n\r\n  const transactions = chainId ? state[chainId] ?? {} : {}\r\n\r\n  // show popup on confirm\r\n  const addPopup = useAddPopup()\r\n\r\n  useEffect(() => {\r\n    if (!chainId || !library || !lastBlockNumber) return\r\n\r\n    Object.keys(transactions)\r\n      .filter(hash => shouldCheck(lastBlockNumber, transactions[hash]))\r\n      .forEach(hash => {\r\n        library\r\n          .getTransactionReceipt(hash)\r\n          .then(receipt => {\r\n            if (receipt) {\r\n              dispatch(\r\n                finalizeTransaction({\r\n                  chainId,\r\n                  hash,\r\n                  receipt: {\r\n                    blockHash: receipt.blockHash,\r\n                    blockNumber: receipt.blockNumber,\r\n                    contractAddress: receipt.contractAddress,\r\n                    from: receipt.from,\r\n                    status: receipt.status,\r\n                    to: receipt.to,\r\n                    transactionHash: receipt.transactionHash,\r\n                    transactionIndex: receipt.transactionIndex\r\n                  }\r\n                })\r\n              )\r\n\r\n              addPopup(\r\n                {\r\n                  txn: {\r\n                    hash,\r\n                    success: receipt.status === 1,\r\n                    summary: transactions[hash]?.summary\r\n                  }\r\n                },\r\n                hash\r\n              )\r\n            } else {\r\n              dispatch(checkedTransaction({ chainId, hash, blockNumber: lastBlockNumber }))\r\n            }\r\n          })\r\n          .catch(error => {\r\n            console.error(`failed to check transaction hash: ${hash}`, error)\r\n          })\r\n      })\r\n  }, [chainId, library, transactions, lastBlockNumber, dispatch, addPopup])\r\n\r\n  return null\r\n}\r\n","import { useEffect } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { AppDispatch } from '../index'\r\nimport { updateMatchesDarkMode } from './actions'\r\n\r\nexport default function Updater(): null {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n\r\n  // keep dark mode in sync with the system\r\n  useEffect(() => {\r\n    const darkHandler = (match: MediaQueryListEvent) => {\r\n      dispatch(updateMatchesDarkMode({ matchesDarkMode: match.matches }))\r\n    }\r\n\r\n    const match = window?.matchMedia('(prefers-color-scheme: dark)')\r\n    dispatch(updateMatchesDarkMode({ matchesDarkMode: match.matches }))\r\n\r\n    if (match?.addListener) {\r\n      match?.addListener(darkHandler)\r\n    } else if (match?.addEventListener) {\r\n      match?.addEventListener('change', darkHandler)\r\n    }\r\n\r\n    return () => {\r\n      if (match?.removeListener) {\r\n        match?.removeListener(darkHandler)\r\n      } else if (match?.removeEventListener) {\r\n        match?.removeEventListener('change', darkHandler)\r\n      }\r\n    }\r\n  }, [dispatch])\r\n\r\n  return null\r\n}\r\n","import { Web3Provider } from '@ethersproject/providers'\r\n\r\nexport default function getWeb3Provider(provider: any): Web3Provider {\r\n  const library = new Web3Provider(provider)\r\n  library.pollingInterval = 15000\r\n  return library\r\n}\r\n","import { createWeb3ReactRoot, Web3ReactProvider } from '@web3-react/core'\r\nimport 'inter-ui'\r\nimport React from 'react'\r\nimport { isMobile } from 'react-device-detect'\r\nimport ReactDOM from 'react-dom'\r\nimport ReactGA from 'react-ga'\r\nimport { Provider } from 'react-redux'\r\nimport { NetworkContextName } from './constants'\r\nimport './i18n'\r\nimport App from './App'\r\nimport store from './state'\r\nimport ApplicationUpdater from './state/application/updater'\r\nimport MulticallUpdater from './state/multicall/updater'\r\nimport TransactionUpdater from './state/transactions/updater'\r\nimport UserUpdater from './state/user/updater'\r\nimport ThemeProvider, { FixedGlobalStyle, ThemedGlobalStyle } from './theme'\r\nimport getWeb3Provider from './utils/getWeb3Provider'\r\nimport { GroupProvider, GroupUpdater } from './context/GroupContext'\r\nimport dayjs from 'dayjs'\r\nimport utc from 'dayjs/plugin/utc' // dependent on utc plugin\r\nimport timezone from 'dayjs/plugin/timezone'\r\n\r\ndayjs.extend(utc)\r\ndayjs.extend(timezone)\r\n\r\n// dayjs.tz('2014-06-01 12:00', 'America/New_York')\r\n\r\n// dayjs('2014-06-01 12:00').tz('America/New_York')\r\n\r\n// dayjs.tz.guess()\r\n\r\n// dayjs.tz.setDefault('America/New_York')\r\n\r\nconst Web3ProviderNetwork = createWeb3ReactRoot(NetworkContextName)\r\n\r\nif ('ethereum' in window) {\r\n  ;(window.ethereum as any).autoRefreshOnNetworkChange = false\r\n}\r\n\r\nconst GOOGLE_ANALYTICS_ID: string | undefined = process.env.REACT_APP_GOOGLE_ANALYTICS_ID\r\nif (typeof GOOGLE_ANALYTICS_ID === 'string') {\r\n  ReactGA.initialize(GOOGLE_ANALYTICS_ID)\r\n  ReactGA.set({\r\n    customBrowserType: !isMobile ? 'desktop' : 'web3' in window || 'ethereum' in window ? 'mobileWeb3' : 'mobileRegular'\r\n  })\r\n} else {\r\n  ReactGA.initialize('test', { testMode: true, debug: true })\r\n}\r\n\r\nwindow.addEventListener('error', error => {\r\n  ReactGA.exception({\r\n    description: `${error.message} @ ${error.filename}:${error.lineno}:${error.colno}`,\r\n    fatal: true\r\n  })\r\n})\r\n\r\nfunction Updaters() {\r\n  return (\r\n    <>\r\n      <UserUpdater />\r\n      <ApplicationUpdater />\r\n      <TransactionUpdater />\r\n      <MulticallUpdater />\r\n      <GroupUpdater />\r\n    </>\r\n  )\r\n}\r\n\r\nconsole.log(process.env)\r\n\r\nReactDOM.render(\r\n  <div>\r\n    <FixedGlobalStyle />\r\n    <Web3ReactProvider getLibrary={getWeb3Provider}>\r\n      <Web3ProviderNetwork getLibrary={getWeb3Provider}>\r\n        <Provider store={store}>\r\n          <ThemeProvider>\r\n            <ThemedGlobalStyle />\r\n            <GroupProvider>\r\n              <App />\r\n              <Updaters />\r\n            </GroupProvider>\r\n          </ThemeProvider>\r\n        </Provider>\r\n      </Web3ProviderNetwork>\r\n    </Web3ReactProvider>\r\n  </div>,\r\n  document.getElementById('root')\r\n)\r\n","import { createAction } from '@reduxjs/toolkit'\r\nimport { ChainId } from 'src/sdk'\r\n\r\nexport interface SerializableTransactionEvent {\r\n  [eventName: string]: any\r\n}\r\n\r\nexport interface SerializableTransactionReceipt {\r\n  to: string\r\n  from: string\r\n  contractAddress: string\r\n  transactionIndex: number\r\n  blockHash: string\r\n  transactionHash: string\r\n  blockNumber: number\r\n  status?: number\r\n  logs?: any\r\n}\r\n\r\nexport const addTransaction = createAction<{\r\n  chainId: ChainId\r\n  hash: string\r\n  from: string\r\n  approval?: { tokenAddress: string; spender: string }\r\n  summary?: string\r\n}>('transactions/addTransaction')\r\nexport const clearAllTransactions = createAction<{ chainId: ChainId }>('transactions/clearAllTransactions')\r\nexport const finalizeTransaction = createAction<{\r\n  chainId: ChainId\r\n  hash: string\r\n  receipt: SerializableTransactionReceipt\r\n}>('transactions/finalizeTransaction')\r\nexport const checkedTransaction = createAction<{\r\n  chainId: ChainId\r\n  hash: string\r\n  blockNumber: number\r\n}>('transactions/checkedTransaction')\r\n","module.exports = __webpack_public_path__ + \"static/media/blue-loader.2d7e058e.svg\";","// export const metaMaskInstalled = () => typeof ethereum !== 'undefined'\r\n// export const metaMaskConnected = () => ethereum.isConnected()\r\n// export const currentAccount = () => localStorage.getItem('ethereumAccount')\r\nexport const isGroupLeader = (group: any, account: string) => {\r\n  return account?.toLowerCase() === group.data.leader.toLowerCase()\r\n}\r\nexport const isGroupMember = (group: any) => group.myContribution > 0\r\n\r\n// export const init = () => {\r\n//   if (window.web3) {\r\n//     // Then replace the old injected version by the latest build of Web3.js version 1.0.0\r\n//     window.web3 = new Web3(window.web3.currentProvider)\r\n//   }\r\n\r\n//   if (AccountService.metaMaskInstalled()) {\r\n//     ethereum.autoRefreshOnNetworkChange = false\r\n\r\n//     ethereum.on('accountsChanged', accounts => {\r\n//       localStorage.setItem('ethereumAccount', accounts[0])\r\n//       document.dispatchEvent(new CustomEvent('EthereumAccountChanged'))\r\n//     })\r\n\r\n//     // ethereum.on('disconnect', (error) => {\r\n//     //     localStorage.setItem('ethereumAccount', null);\r\n//     //     document.dispatchEvent(new CustomEvent('EthereumAccountDisconnected'));\r\n//     // });\r\n\r\n//     ethereum.on('chainChanged', chainId => document.dispatchEvent(new CustomEvent('EthereumChainChanged')))\r\n//   }\r\n// }\r\n\r\n// export const connectToMetamask = async () => {\r\n//   const accounts = await ethereum.request({ method: 'eth_requestAccounts' })\r\n//   console.log(accounts)\r\n//   if (accounts.Length) {\r\n//     localStorage.setItem('ethereumAccount', accounts[0])\r\n//   }\r\n// }\r\n"],"sourceRoot":""}